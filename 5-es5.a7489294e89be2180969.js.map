{"version":3,"sources":["webpack:///src/app/+hub/files/files-bulk-load/table-column-edit.component.ts","webpack:///src/app/+hub/files/files-bulk-load/table-edit.component.ts","webpack:///src/app/+hub/files/files-bulk-load/files-bulk-load.module.ts","webpack:///src/app/+hub/files/files-bulk-load/table-column-edit.component.html","webpack:///src/app/+hub/files/files-bulk-load/files-bulk-load.routing.ts","webpack:///src/app/+hub/files/files-bulk-load/table-edit.component.html"],"names":["TableColumnEditComponent","TableEditComponent","FilesBulkLoadModule","authService","hubService","formService","route","router","detailedView","this","_subscription","combineLatest","data","params","queryParams","getCurrentFormObservable","subscribe","result","tableForm","pageTitle","action","columnKey","e","addHubClientErrorMessage","unsubscribe","navigateUp","navigate","relativeTo","parent","isUpdated","changeColumn","Routing","forChild","path","component","canDeactivate","children","formsService","navigateSkip","ngModule","providers"],"mappings":"giBAYaA,ECLAC,ECyBAC,E,wHFpBN,IAAMF,EAAN,WAWH,WACYG,EACAC,EACDC,EACCC,EACAC,2BAJA,KAAAJ,cACA,KAAAC,aACD,KAAAC,cACC,KAAAC,QACA,KAAAC,SAXL,KAAAC,gBALJ,wDAmBO,WAEN,IACIC,KAAKC,cAAgB,OAAAC,EAAA,GACjBF,KAAKH,MAAMM,KACXH,KAAKH,MAAMO,OACXJ,KAAKH,MAAMQ,YACXL,KAAKJ,YAAYU,4BACnBC,WAAUC,YACR,IAAIL,EAAOK,EAAO,GACdJ,EAASI,EAAO,GAChBH,EAAcG,EAAO,GACzBR,EAAKS,UAAYD,EAAO,GAExBR,EAAKU,UAAYP,EAAgB,UACjCH,EAAKW,OAASR,EAAa,OAE3BH,EAAKY,WAAaR,EAAkB,UACpCJ,EAAKD,aAA2C,UAA5BM,EAAsB,YAEhD,MAAOQ,GACLb,KAAKL,WAAWmB,yBAAyBD,EAAG,wBAxCjD,oCA8CKb,KAAKC,eAAiBD,KAAKC,cAAcc,gBA9C9C,kCAkDCf,KAAKN,YAAYsB,eAlDlB,mCAqDUJ,GACTZ,KAAKF,OAAOmB,SAAS,CAAC,SAAUL,GAAY,CAACM,WAAYlB,KAAKH,MAAMsB,aAtDrE,M,oCAAM5B,GAAwB,oD,uBAAxBA,EAAwB,mKGZrC,wBAA2F,oCAAa,EAAA6B,cAAb,CAAyB,mCAAiB,EAAAC,aAAA,MAAsB,Q,KAA9I,8BAAuB,wBAAvB,CAAuB,gC,sFCuBvBC,EAAU,IAAaC,SAPN,CACtB,CAAEC,KAAM,GAAIC,UAAW,IAAwBC,cAAe,CAAC,KAAgBC,SAAU,CACjF,CAAEH,KAAM,aAAcrB,KAAM,CAAEO,UAAW,cAAgBiB,SAV1C,CACvB,CAAEH,KAAM,GAAIC,WHFPjC,EAAN,WAEL,WACSoC,2BAAA,KAAAA,eAHJ,yG,sCAAMpC,GAAkB,Y,uBAAlBA,EAAkB,8HIP/B,wCACA,gC,MAD6B,oCACT,uD,0CDQgCW,KAAM,CAAE0B,cAAaA,IACjE,CAAEL,KAAM,SAAUC,UAAW,EAA0BtB,KAAM,CAAEO,UAAW,gBAC1E,CAAEc,KAAM,oBAAqBC,UAAW,EAA0BtB,KAAM,CAAEO,UAAW,gBACrF,CAAEc,KAAM,0BAA2BC,UAAW,IAA+BtB,KAAM,CAAEO,UAAW,YAChG,CAAEc,KAAM,iBAAkBC,UAAW,IAAyBtB,KAAM,CAAEQ,OAAQ,MAAOD,UAAW,sBAMxF,CAAEc,KAAM,iBAAkBC,UAAW,IAAyBtB,KAAM,CAAEQ,OAAQ,MAAOD,UAAW,wB,oCFazG,IAAMjB,EAAN,4GAEC,MAAO,CACHqC,SAAUrC,EACVsC,UAAW,CAAE,UAJlB,M,qBAAMtC,I,oDAAAA,IAAmB,UALjB,CACP,IACA,KACH,SAjBQ,CACL,IACA,IACA,IACA,IACA,IACA6B,M","file":"x","sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { AuthService } from '../../../+auth/auth.service';\nimport { HubService } from '../../hub.service';\nimport { FormGroup } from '@angular/forms';\nimport { Subscription, combineLatest} from 'rxjs';\nimport { HubFormsService } from '../../hub.forms.service';\n\n@Component({\n    selector: 'dexih-table-column-edit',\n    templateUrl: './table-column-edit.component.html',\n})\nexport class TableColumnEditComponent implements OnInit, OnDestroy {\n    private _subscription: Subscription;\n\n    public tableForm: FormGroup;\n    public columnKey: number;\n    public detailedView = true;\n\n    public pageTitle: string;\n    public action: string;\n\n\n    constructor(\n        private authService: AuthService,\n        private hubService: HubService,\n        public formService: HubFormsService,\n        private route: ActivatedRoute,\n        private router: Router        ) {\n    }\n\n    ngOnInit() {\n\n        try {\n            this._subscription = combineLatest(\n                this.route.data,\n                this.route.params,\n                this.route.queryParams,\n                this.formService.getCurrentFormObservable()\n            ).subscribe(result => {\n                let data = result[0];\n                let params = result[1];\n                let queryParams = result[2];\n                this.tableForm = result[3];\n\n                this.pageTitle = data['pageTitle'];\n                this.action = data['action'];\n\n                this.columnKey = +params['columnKey'];\n                this.detailedView = queryParams['detailed'] === 'false' ? false : true;\n            });\n        } catch (e) {\n            this.hubService.addHubClientErrorMessage(e, 'Table Column Edit');\n        }\n\n    }\n\n    ngOnDestroy() {\n        if (this._subscription) { this._subscription.unsubscribe(); }\n    }\n\n    isUpdated() {\n        this.authService.navigateUp();\n    }\n\n    changeColumn(columnKey: number) {\n        this.router.navigate(['column', columnKey], {relativeTo: this.route.parent});\n    }\n\n}\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { HubFormsService } from '../../hub.forms.service';\n\n@Component({\n  selector: 'dexih-table-edit-form',\n  templateUrl: './table-edit.component.html'\n})\nexport class TableEditComponent implements OnInit, OnDestroy {\n\n  constructor(\n    public formsService: HubFormsService,\n  ) { }\n\n  ngOnInit() {\n  }\n\n  ngOnDestroy() {\n  }\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { TableSharedModule } from '../../table/table.shared.module';\nimport { HubFormsService } from '../../hub.forms.service';\nimport { ItemEditGuard } from '../../item-edit.guard';\nimport { Routing } from './files-bulk-load.routing';\nimport { FilesBulkLoadComponent } from './files-bulk-load.component';\nimport { SharedModule } from '../../../shared';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { TableColumnEditComponent } from './table-column-edit.component';\nimport { TableEditComponent } from './table-edit.component';\n\n@NgModule({\n    imports: [\n        SharedModule,\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        TableSharedModule,\n        Routing\n    ],\n    exports: [],\n    declarations: [\n        FilesBulkLoadComponent,\n        TableColumnEditComponent,\n        TableEditComponent\n    ],\n    providers: [\n        HubFormsService,\n        ItemEditGuard\n    ],\n})\nexport class FilesBulkLoadModule {\n    static forRoot(): ModuleWithProviders<FilesBulkLoadModule> {\n        return {\n            ngModule: FilesBulkLoadModule,\n            providers: [ HubFormsService ]\n        };\n    }\n}\n","<column-edit [tableForm]=\"tableForm\" [columnKey]=\"columnKey\" [detailedView]=\"detailedView\" (isUpdated)=\"isUpdated()\" (changeColumn)=\"changeColumn($event)\"></column-edit>\n","import { Routes, RouterModule } from '@angular/router';\nimport { ItemEditGuard } from '../../item-edit.guard';\nimport { FilesBulkLoadComponent } from './files-bulk-load.component';\nimport { TableColumnEditComponent } from './table-column-edit.component';\nimport { TableEditPreviewDataComponent } from '../../table/table-edit/table-edit-preview-data';\nimport { FileFormatEditComponent } from '../../fileFormat';\nimport { TableEditComponent } from './table-edit.component';\n\nexport const tableEditRoutes = [\n        { path: '', component: TableEditComponent,  data: { navigateSkip: true} },\n        { path: 'column', component: TableColumnEditComponent, data: { pageTitle: 'Edit Column' } },\n        { path: 'column/:columnKey', component: TableColumnEditComponent, data: { pageTitle: 'Edit Column' } },\n        { path: 'table-preview/:tableKey', component: TableEditPreviewDataComponent, data: { pageTitle: 'Preview' } },\n        { path: 'fileFormat-new', component: FileFormatEditComponent, data: { action: 'new', pageTitle: 'New File Format'}},\n];\n\nexport const routes: Routes = [\n        { path: '', component: FilesBulkLoadComponent, canDeactivate: [ItemEditGuard], children: [\n                { path: 'table-edit', data: { pageTitle: 'Edit Table' }, children: tableEditRoutes},\n                { path: 'fileFormat-new', component: FileFormatEditComponent, data: { action: 'new', pageTitle: 'New File Format'}},\n        ]},\n];\n\nexport const Routing = RouterModule.forChild(routes);\n","<dexih-table-edit-properties [formsService]='formsService'></dexih-table-edit-properties>\n<table-edit-columns [tableForm]='formsService.currentForm'></table-edit-columns>\n"]}