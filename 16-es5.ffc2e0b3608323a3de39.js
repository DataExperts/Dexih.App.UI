function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{NAU5:function(e,t,n){"use strict";n.r(t),n.d(t,"PublicModule",(function(){return C}));var a=n("tyNb"),r=n("3WyZ"),i=n("fXoL"),o=n("ofXK"),s=n("3Pt+"),u=n("Wumg"),c=n("ScdM");function d(e,t){if(1&e&&(i.Ob(0,"div",2),i.Ob(1,"nav",3),i.Ob(2,"div",4),i.Ob(3,"span",5),i.Lb(4,"img",6),i.Nb(),i.Nb(),i.Lb(5,"div",7),i.Ob(6,"form",8),i.Ob(7,"div"),i.Ob(8,"span",9),i.Fc(9," Need an account? "),i.Nb(),i.Ob(10,"a",10),i.Fc(11,"Sign Up"),i.Nb(),i.Nb(),i.Ob(12,"div"),i.Ob(13,"span",9),i.Fc(14," Already Registered? "),i.Nb(),i.Ob(15,"a",11),i.Fc(16,"Sign In"),i.Nb(),i.Nb(),i.Ob(17,"a",12),i.Fc(18,"Help"),i.Nb(),i.Ob(19,"dexih-button-dropdown",13),i.Ob(20,"a",14),i.Fc(21,"Sign Up"),i.Nb(),i.Ob(22,"a",15),i.Fc(23,"Sign In"),i.Nb(),i.Lb(24,"div",16),i.Ob(25,"a",17),i.Fc(26,"Forgot password"),i.Nb(),i.Ob(27,"a",18),i.Fc(28,"Verify password"),i.Nb(),i.Lb(29,"div",16),i.Ob(30,"a",19),i.Fc(31,"Privacy Policy"),i.Nb(),i.Ob(32,"a",20),i.Fc(33,"Terms and Conditions"),i.Nb(),i.Ob(34,"a",21),i.Fc(35,"Help"),i.Nb(),i.Nb(),i.Nb(),i.Nb(),i.Lb(36,"dexih-ribbon"),i.Lb(37,"router-outlet"),i.Nb()),2&e){var n=i.Zb();i.yb(4),i.hc("src",n.logoUrl,i.xc),i.yb(15),i.hc("pullRight",!0)("hideCarrot",!0)}}function h(e,t){1&e&&i.Lb(0,"router-outlet")}var b,l,p,f=((b=function(){function e(t){_classCallCheck(this,e),this.route=t,this.logoUrl=r.k,this.embedded=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._subscription=this.route.queryParams.subscribe((function(t){"true"===t.embed&&(e.embedded=!0)}))}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||b)(i.Kb(a.a))},b.\u0275cmp=i.Eb({type:b,selectors:[["dexih-public"]],decls:2,vars:2,consts:[["id","content",4,"ngIf"],[4,"ngIf"],["id","content"],[1,"navbar","navbar-expand-md","navbar-dark","bg-dark"],["id","logo-group"],["id","logo"],["alt","Data Experts Group",3,"src"],[1,"collapse","navbar-collapse","mr-sm-2"],[1,"form-inline"],[1,"d-none","d-md-inline","text-white","m-1"],["routerLink","/auth/register",1,"btn","btn-success","mr-1"],["routerLink","/auth/login",1,"btn","btn-success","mr-1"],["routerLink","/auth/help",1,"d-none","d-md-inline","btn","btn-secondary","text-white","mr-1"],["buttonClass","btn-primary","iconClass","fa fa-navicon",3,"pullRight","hideCarrot"],["routerLink","/auth/register",1,"dropdown-item"],["routerLink","/auth/login",1,"dropdown-item"],[1,"dropdown-divider"],["routerLink","/auth/forgot-password",1,"dropdown-item"],["routerLink","/auth/verifyemail",1,"dropdown-item"],["routerLink","/auth/privacy",1,"dropdown-item"],["routerLink","/auth/terms",1,"dropdown-item"],["routerLink","/auth/help",1,"dropdown-item"]],template:function(e,t){1&e&&(i.Dc(0,d,38,3,"div",0),i.Dc(1,h,1,0,"router-outlet",1)),2&e&&(i.hc("ngIf",!t.embedded),i.yb(1),i.hc("ngIf",t.embedded))},directives:[o.t,s.I,s.t,s.u,a.h,u.i,c.a,a.j],encapsulation:2}),b),v=n("1wre"),g=a.i.forChild([{path:"",component:f,children:[{path:"",redirectTo:"index"},{path:"index",data:{pageTitle:"Shared Data"},children:[{path:"",component:v.c,data:{pageTitle:"Shared Data"}},{path:"preview/:hubKey/:objectType/:objectKey",component:v.a,data:{pageTitle:"Preview"}},{path:"previewDashboard/:hubKey/:dashboardKey",component:v.b,data:{pageTitle:"Preview Dashboard"}}]}]}]),m=n("PCNd"),y=n("rgmq"),w=n("2Vo4"),k=n("ElCs"),S=((l=function(){function e(t){_classCallCheck(this,e),this.authService=t,this.logger=new y.a("public.service"),this._hubMessages=new w.a([])}return _createClass(e,[{key:"ngOnDestroy",value:function(){}},{key:"getHubMessagesObservable",value:function(){return this._hubMessages.asObservable()}},{key:"getHubMessages",value:function(){return this._hubMessages.value}},{key:"addHubMessage",value:function(e){this.authService.addUpdateNotification(e,!1);var t=this.getHubMessages();t.push(e),this._hubMessages.next(t)}},{key:"addHubErrorMessage",value:function(e){var t=new r.e(!1,e,null,null);this.addHubMessage(t)}},{key:"addHubClientErrorMessage",value:function(e,t){var n=new r.e(!1,t+".  The following error occurred on the client: "+e.message,e.stack,null);this.addHubMessage(n)}},{key:"addHubSuccessMessage",value:function(e){var t=new r.e(!0,e,null,null);this.addHubMessage(t)}},{key:"getSharedDataIndex",value:function(e,t,n,a){if(a||!this.sharedItemsIndex)return this.authService.post("/api/SharedData/SharedDataIndex",{searchString:e,hubKeys:t,maxResults:n},"Getting shared data index...");Promise.resolve(this.sharedItemsIndex)}},{key:"downloadData",value:function(e,t,n,a){var r=this;return new Promise((function(i,o){for(var s=[],u=[],c=0;c<e.length;c++)s[e[c].hubKey]||(s[e[c].hubKey]=!0,u.push(e[c].hubKey));u.forEach((function(s){r.authService.post("/api/SharedData/GetActiveAgent",{hubKey:s},"Getting active remote agent...").then((function(u){r.authService.postRemote("/api/SharedData/DownloadData",{hubKey:s,clientId:r.authService.getWebSocketConnectionId(),downloadFormat:n,zipFiles:t,sharedItems:e.filter((function(e){return e.hubKey===s})),remoteAgentId:u.instanceId},u,"Downloading data...",a).then((function(e){r.authService.addUpdateTask(e),i(!0)})).catch((function(e){r.logger.LogC((function(){return"downloadData, error: ".concat(e.message,".")}),y.b.Error),o(e)}))}))}))}))}},{key:"previewData",value:function(e,t,n,a,r,i,o){var s=this;return new Promise((function(u,c){s.authService.post("/api/SharedData/GetActiveAgent",{hubKey:e},"Getting active remote agent...").then((function(d){s.authService.postRemote("/api/SharedData/PreviewData",{hubKey:e,objectType:n,objectKey:t,selectQuery:r,remoteAgentId:d.instanceId,inputColumns:a,parameters:i},d,"Previewing data...",o).then((function(e){e.columns=s.authService.constructDataTableColumns(e.columns),u(e)})).catch((function(e){c(e)}))})).catch((function(e){c(e)}))}))}},{key:"previewListOfValues",value:function(e,t,n,a,r,i){var o=this;return new Promise((function(s,u){o.authService.post("/api/SharedData/GetActiveAgent",{hubKey:e},"Getting active remote agent...").then((function(c){o.authService.postRemote("/api/SharedData/PreviewListOfValues",{hubKey:e,objectType:n,objectKey:t,parameterName:a,resetCache:r,remoteAgentId:c.instanceId},c,"Previewing list of values...",i).then((function(e){s(e)})).catch((function(e){u(e)}))})).catch((function(e){u(e)}))}))}},{key:"getDashboard",value:function(e,t){var n=this;return new Promise((function(a,r){n.authService.post("/api/SharedData/PreviewDashboard",{hubKey:e,dashboardKey:t},"Getting dashboard download locations...").then((function(e){a(e)})).catch((function(e){return r(e)}))}))}}]),e}()).\u0275fac=function(e){return new(e||l)(i.Sb(k.a))},l.\u0275prov=i.Gb({token:l,factory:l.\u0275fac}),l),D=n("Fxci"),C=((p=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[S]}}}]),e}()).\u0275mod=i.Ib({type:p}),p.\u0275inj=i.Hb({factory:function(e){return new(e||p)},providers:[S],imports:[[m.a,g,s.C,D.a]]}),p)}}]);
//# sourceMappingURL=16-es5.ffc2e0b3608323a3de39.js.map