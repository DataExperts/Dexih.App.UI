{"version":3,"sources":["webpack:///src/app/+hub/dashboard/dashboard-edit/dashboard-edit.module.ts","webpack:///src/app/+hub/dashboard/dashboard-edit/properties/dashboard-properties.component.ts","webpack:///src/app/+hub/dashboard/dashboard-edit/properties/dashboard-properties.component.html","webpack:///src/app/+hub/dashboard/dashboard-edit/dashboard-edit.routing.ts"],"names":["DashboardEditModule","ngModule","providers","imports","exports","declarations","DashboardPropertiesComponent","authService","hubService","formsService","showEdit","lock","refreshDataSubject","refreshDataObservable","asObservable","eViewType","eSourceType","cancelToken","options","gridType","ScrollVertical","compactType","None","margin","outerMargin","outerMarginTop","outerMarginRight","outerMarginBottom","outerMarginLeft","useTransformPositioning","mobileBreakpoint","minCols","maxCols","minRows","maxRows","maxItemCols","minItemCols","maxItemRows","minItemRows","maxItemArea","minItemArea","defaultItemCols","defaultItemRows","fixedColWidth","fixedRowHeight","keepFixedHeightInMobile","keepFixedWidthInMobile","scrollSensitivity","scrollSpeed","enableEmptyCellClick","enableEmptyCellContextMenu","enableEmptyCellDrop","enableEmptyCellDrag","emptyCellDragMaxCols","emptyCellDragMaxRows","ignoreMarginInRow","draggable","enabled","resizable","swap","pushItems","disablePushOnDrag","disablePushOnResize","pushDirections","north","east","south","west","pushResizeItems","displayGrid","disableWindowResize","disableWarnings","scrollToNewItems","itemChangeCallback","item","itemComponent","itemResize","itemResizeCallback","itemInitCallback","_hubCacheSubscription","getHubCacheObservable","subscribe","hubCache","isLoaded","_formChangeSubscription","getCurrentFormObservable","currentForm","dashboardItemControls","controls","dexihDashboardItems","parameters","value","runTime","_runTimeSubscription","unsubscribe","valueChanges","updateShowEdit","cancel","gridItem","x","y","cols","rows","control","newItem","gridster","getFirstPossiblePosition","Always","Object","assign","setWhenChanged","c","setValue","resizeEvent","width","emit","height","index","form","items","removeAt","maximizedItem","autoRefresh","refresh","previewDashboard","then","keys","next","forEach","url","find","key","dashboardItemKey","data","getRemoteResponse","dataKey","result","columns","constructDataTableColumns","status","addHubMessage","name","selector","templateUrl","dashboardEditRoutes","path","redirectTo","component","navigateSkip","action","pageTitle","routes","canDeactivate","children","Routing","forChild"],"mappings":"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","file":"2-es5.js","sourcesContent":["import { NgModule, ModuleWithProviders } from '@angular/core';\n\nimport { DashboardEditComponent } from './dashboard-edit.component';\nimport { DashboardItemComponent } from './item/dashboard-item.component';\nimport { HubFormsService } from '../../hub.forms.service';\nimport { ItemEditGuard } from '../../item-edit.guard';\nimport { SharedModule } from '../../../shared';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routing } from './dashboard-edit.routing';\nimport { HubSharedModule } from '../../hub.shared.module';\nimport { DashboardPropertiesComponent } from './properties//dashboard-properties.component';\nimport { ViewEditComponent } from '../../view';\n\n@NgModule({\n    imports: [\n        SharedModule,\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        Routing,\n        HubSharedModule,\n    ],\n    exports: [],\n    declarations: [\n        DashboardEditComponent,\n        DashboardItemComponent,\n        DashboardPropertiesComponent,\n        ],\n    providers: [\n        HubFormsService,\n        ItemEditGuard\n    ],\n})\nexport class DashboardEditModule {\n    static forRoot(): ModuleWithProviders<DashboardEditModule> {\n        return {\n            ngModule: DashboardEditModule,\n            providers: [ HubFormsService ]\n        };\n    }\n}\n","import { Component, OnInit, OnDestroy, Input, ViewChild, Output, EventEmitter } from '@angular/core';\nimport { HubService } from '../../..';\nimport { HubFormsService } from '../../../hub.forms.service';\nimport { FormArray, FormGroup, AbstractControl } from '@angular/forms';\nimport { HubCache, PreviewResults, DataCache } from '../../../hub.models';\nimport { Subscription, Subject } from 'rxjs';\nimport { GridsterConfig, GridType, CompactType, DisplayGrid, GridsterItem, GridsterItemComponentInterface,\n  GridsterComponent} from 'angular-gridster2';\nimport { eViewType, eSourceType, InputColumn } from '../../../../shared/shared.models';\nimport { AuthService } from '../../../../+auth/auth.service';\nimport { CancelToken } from '../../../../+auth/auth.models';\n\n@Component({\n    selector: 'dashboard-properties',\n    templateUrl: 'dashboard-properties.component.html',\n})\n\nexport class DashboardPropertiesComponent implements OnInit, OnDestroy {\n  @Input() showEdit = false;\n  @Input() lock = true;\n\n  @ViewChild('gridster', {static: true}) public gridster: GridsterComponent\n\n    private _formChangeSubscription: Subscription;\n    private _runTimeSubscription: Subscription;\n    private _hubCacheSubscription: Subscription;\n\n    private refreshDataSubject: Subject<void> = new Subject<void>();\n    public refreshDataObservable = this.refreshDataSubject.asObservable();\n    \n    eViewType = eViewType;\n    eSourceType = eSourceType;\n\n    public inputColumns: InputColumn[];\n\n    public maximizedItem: FormGroup;\n\n    columns: Array<any>;\n    public data: Array<any>;\n\n    public options: GridsterConfig;\n\n    currentForm: FormGroup;\n    dashboardItemControls: FormArray;\n    parameters: FormArray;\n\n    hubCache: HubCache;\n\n    private cancelToken = new CancelToken();\n\n    constructor(\n      private authService: AuthService,\n      private hubService: HubService,\n      public formsService: HubFormsService) { }\n\n    ngOnInit() {\n      this.options = {\n        gridType: GridType.ScrollVertical,\n        compactType: CompactType.None,\n        margin: 5,\n        outerMargin: true,\n        outerMarginTop: null,\n        outerMarginRight: null,\n        outerMarginBottom: null,\n        outerMarginLeft: null,\n        useTransformPositioning: true,\n        mobileBreakpoint: 640,\n        minCols: 12,\n        maxCols: 100,\n        minRows: 6,\n        maxRows: 100,\n        maxItemCols: 100,\n        minItemCols: 1,\n        maxItemRows: 100,\n        minItemRows: 1,\n        maxItemArea: 2500,\n        minItemArea: 1,\n        defaultItemCols: 2,\n        defaultItemRows: 2,\n        fixedColWidth: 105,\n        fixedRowHeight: 105,\n        keepFixedHeightInMobile: false,\n        keepFixedWidthInMobile: false,\n        scrollSensitivity: 10,\n        scrollSpeed: 20,\n        enableEmptyCellClick: false,\n        enableEmptyCellContextMenu: false,\n        enableEmptyCellDrop: false,\n        enableEmptyCellDrag: false,\n        emptyCellDragMaxCols: 50,\n        emptyCellDragMaxRows: 50,\n        ignoreMarginInRow: false,\n        // setGridSize: true,\n        draggable: {\n          enabled: false,\n        },\n        resizable: {\n          enabled: false,\n        },\n        swap: false,\n        pushItems: true,\n        disablePushOnDrag: false,\n        disablePushOnResize: false,\n        pushDirections: {north: true, east: true, south: true, west: true},\n        pushResizeItems: false,\n        displayGrid: DisplayGrid.None,\n        disableWindowResize: false,\n        disableWarnings: false,\n        scrollToNewItems: false,\n        itemChangeCallback: (item, itemComponent: GridsterItemComponentInterface) => {\n          this.itemResize(item, itemComponent);\n        },\n        itemResizeCallback: (item, itemComponent: GridsterItemComponentInterface) => {\n          this.itemResize(item, itemComponent);\n        },\n        itemInitCallback: (item, itemComponent: GridsterItemComponentInterface) => {\n          this.itemResize(item, itemComponent);\n        },\n      };\n\n      this._hubCacheSubscription = this.hubService.getHubCacheObservable().subscribe(hubCache => {\n          if (hubCache.isLoaded()) {\n            this.hubCache = hubCache;\n          }\n      });\n\n      this._formChangeSubscription = this.formsService.getCurrentFormObservable().subscribe(currentForm => {\n          this.currentForm = currentForm;\n          if (currentForm) {\n            this.dashboardItemControls = <FormArray> currentForm.controls.dexihDashboardItems;\n            this.parameters = <FormArray> currentForm.controls.parameters;\n\n            this.options.minCols = currentForm.controls.minCols.value;\n            this.options.maxCols = currentForm.controls.maxCols.value;\n            this.options.minRows = currentForm.controls.minRows.value;\n            this.options.maxRows = currentForm.controls.maxRows.value;\n\n            this.showEdit = currentForm.controls.runTime.value.showEdit;\n\n            if (this._runTimeSubscription) { this._runTimeSubscription.unsubscribe(); }\n            this._runTimeSubscription = currentForm.controls.runTime.valueChanges.subscribe(runTime => {\n              this.showEdit = runTime.showEdit;\n              this.lock = runTime.lock;\n\n              this.updateShowEdit();\n            });\n\n            this.updateShowEdit();\n          }\n      });\n    }\n\n    ngOnDestroy(): void {\n      if (this._formChangeSubscription) { this._formChangeSubscription.unsubscribe(); }\n      if (this._runTimeSubscription) { this._runTimeSubscription.unsubscribe(); }\n      if (this._hubCacheSubscription) { this._hubCacheSubscription.unsubscribe(); }\n      this.cancelToken.cancel();\n    }\n\n    public getNextPossiblePosition(): GridsterItem {\n      let gridItem = {x: 0, y: 0, cols: 1, rows: 1, control: null};\n      let newItem = this.gridster.getFirstPossiblePosition(gridItem);\n      return newItem;\n    }\n\n    public updateShowEdit() {\n      if (this.showEdit || !this.lock ) {\n        this.options.displayGrid = DisplayGrid.Always;\n        this.options.draggable.enabled = true;\n        this.options.resizable.enabled = true;\n      } else {\n        this.options.displayGrid = DisplayGrid.None;\n          this.options.draggable.enabled = false;\n          this.options.resizable.enabled = false;\n      }\n      this.options = Object.assign({}, this.options);\n    }\n\n    public itemResize(item: GridsterItem, itemComponent: GridsterItemComponentInterface) {\n      function setWhenChanged(c: AbstractControl, value: Number) {\n          if (c.value !== value) {\n            c.setValue(value);\n          }\n      }\n\n      let control = <FormGroup>item.control;\n\n      setWhenChanged(control.controls.x, item.x);\n      setWhenChanged(control.controls.y, item.y);\n      setWhenChanged(control.controls.cols, item.cols);\n      setWhenChanged(control.controls.rows, item.rows);\n\n      let resizeEvent = item.control.controls.runTime.value.resizeEvent;\n      if (itemComponent.width) {\n        resizeEvent.emit([itemComponent.width, itemComponent.height]);\n      }\n    }\n\n      removeItem(index) {\n        let form = this.formsService.currentForm;\n        let items = <FormArray> form.controls.dexihDashboardItems;\n        items.removeAt(index);\n      }\n\n      updateGrid() {\n        let currentForm = this.formsService.currentForm;\n        this.options.minCols = currentForm.controls.minCols.value;\n        this.options.maxCols = currentForm.controls.maxCols.value;\n        this.options.minRows = currentForm.controls.minRows.value;\n        this.options.maxRows = currentForm.controls.maxRows.value;\n        this.options = Object.assign({}, this.options);\n      }\n\n      maximize(item) {\n        if (this.maximizedItem) {\n          this.maximizedItem = null;\n        } else {\n          this.maximizedItem = item;\n        }\n      }\n\n      parameterChange() {\n        if (this.formsService.currentForm.controls.autoRefresh.value) {\n          this.refresh();\n        }\n      }\n\n      refresh() {\n        this.hubService.previewDashboard(this.formsService.currentForm.value,\n          this.formsService.currentForm.value.parameters, this.cancelToken).then(keys => {\n            this.refreshDataSubject.next();\n          let items = <FormArray> this.formsService.currentForm.controls.dexihDashboardItems;\n\n          keys.forEach(url => {\n            let item = <FormGroup> items.controls.find((form: FormGroup) => form.controls.key.value === url.dashboardItemKey);\n            if (item) {\n              let data = <DataCache> item.controls.runTime.value.data;\n              this.hubService.getRemoteResponse<PreviewResults>(url.dataKey, this.cancelToken).then(result => {\n                result.columns = this.authService.constructDataTableColumns(result.columns);\n                if (result.status) {\n                  this.hubService.addHubMessage(result.status, false, result.name);\n                }\n                data.data.next(result);\n              }).catch();\n            }\n          });\n        });\n      }\n}\n","<div [ngClass]=\"{ 'd-none': maximizedItem}\">\n\n    <d-widget-section *ngIf=\"showEdit\" title=\"Properties\" [showExpandButton]=\"true\">\n        <form *ngIf=\"formsService.currentForm \" [formGroup]=\"formsService.currentForm\" class=\"container\">\n            <fieldset>\n                <section>\n                    <form-input label=\"Dashboard Name\" formControlName=\"name\" placeholder=\"Enter the dashboard name.\"\n                        [autocapitalize]=\"true\" iconClass=\"fa fa-list\" [errors]=\"formsService.formErrors['name']\">\n                    </form-input>\n                </section>\n                <section>\n                    <form-textarea label=\"Description\" [showPreview]=\"true\"  [isHidden]=\"true\" formControlName=\"description\"\n                        placeholder=\"Enter the description.\">\n                    </form-textarea>\n                </section>\n                <section>\n                    <div class=\"form-row\">\n                        <section class=\"form-group col-md-3\">\n                            <form-input type=\"number\" label=\"Minimum Columns\" formControlName=\"minCols\">\n                            </form-input>\n                        </section>\n                        <section class=\"form-group col-md-3\">\n                            <form-input type=\"number\" label=\"Maximum Columns\" formControlName=\"maxCols\">\n                            </form-input>\n                        </section>\n                        <section class=\"form-group col-md-3\">\n                            <form-input type=\"number\" label=\"Minimum Rows\" formControlName=\"minRows\">\n                            </form-input>\n                        </section>\n                        <section class=\"form-group col-md-3\">\n                            <form-input type=\"number\" label=\"Maximum Rows\" formControlName=\"maxRows\">\n                            </form-input>\n                        </section>\n                        <d-button-refresh (click)=\"updateGrid()\" text=\"Update Grid\"></d-button-refresh>\n                    </div>\n\n                </section>\n\n                <section>\n                    <form-checkbox formControlName=\"autoRefresh\" label=\"Automatically refresh data when view is opened\">\n                    </form-checkbox>\n                    <form-checkbox label=\"Table is shared in the catalog to users with read access.\" formControlName=\"isShared\">\n\t\t\t\t\t</form-checkbox>\n                </section>\n\n            </fieldset>\n        </form>\n    </d-widget-section>\n\n    <d-widget-section  title=\"Parameters\" *ngIf=\"showEdit || parameters?.length > 0\" [showExpandButton]=\"true\" (onChange)=\"parameterChange()\">\n        <div class=\"container\">\n            <input-parameters [showEdit]=\"showEdit\" [parameters]=\"parameters\"\n                [formsService]=\"formsService\" (onChange)=\"parameterChange()\" (onRefreshData)=\"refresh()\" [refreshEvent]=\"refreshDataObservable\" ></input-parameters>\n        </div>\n    </d-widget-section>\n\n    <d-widget-section *ngIf=\"inputColumns && inputColumns.length > 0\" title=\"InputColumns\" [showExpandButton]=\"true\">\n        <div class=\"container\">\n            <span *ngFor=\"let column of inputColumns; let i = index\" class=\"input-group\">\n                <div class=\"input-group-prepend\">\n                    <div class=\"input-group-text\">\n                        {{column.logicalName}}\n                    </div>\n                </div>\n                <form-input name=\"column{{i}}\" class=\"form-control p-0\" [placeholder]=\"'Enter ' + column.logicalName\"\n                    [(ngModel)]=\"column.value\"></form-input>\n            </span>\n        </div>\n    </d-widget-section>\n\n    <div style=\"height:800px\">\n        <gridster [options]=\"options\" #gridster>\n            <ng-template [ngIf]=\"dashboardItemControls\">\n                <gridster-item\n                    [item]=\"{x: item.controls.x.value, y: item.controls.y.value, cols: item.controls.cols.value, rows: item.controls.rows.value, control: item}\"\n                    *ngFor=\"let item of dashboardItemControls.controls; let i = index;\">\n                    <dashboard-item [item]=\"item\" [showEdit]=\"showEdit\" (onRemove)=\"removeItem(i)\"\n                        (onMaximize)=\"maximize($event)\" [refreshData]=\"item.controls.runTime.value.refreshData\">\n                    </dashboard-item>\n                </gridster-item>\n            </ng-template>\n        </gridster>\n    </div>\n</div>\n<div *ngIf=\"maximizedItem\" class=\"position-relative\" style=\"height:800px; overflow: hidden;\">\n    <dashboard-item [item]=\"maximizedItem\" [showEdit]=\"showEdit\" (onRemove)=\"removeItem(i)\"\n        (onMaximize)=\"maximize($event)\" [refreshData]=\"maximizedItem.controls.runTime.value.refreshData\"\n        [isMaximized]=\"true\">\n    </dashboard-item>\n</div>","import { DashboardEditComponent } from './dashboard-edit.component';\nimport { ViewEditComponent } from '../../view';\nimport { ItemEditGuard } from '../../item-edit.guard';\nimport { RouterModule, Routes } from '@angular/router';\nimport { DashboardPropertiesComponent } from './properties/dashboard-properties.component';\n\nexport const dashboardEditRoutes = [\n    { path: '', redirectTo: 'properties'},\n    { path: 'properties', component: DashboardPropertiesComponent,  data: { navigateSkip: true} },\n    { path: 'view-edit/:viewKey', component: ViewEditComponent,  data: { action: 'edit', pageTitle: 'Edit View'} },\n    { path: 'view-new', component: ViewEditComponent, data: { action: 'new', pageTitle: 'New View'}}\n];\n\nexport const routes: Routes = [\n    { path: '', component: DashboardEditComponent, canDeactivate: [ItemEditGuard], children: dashboardEditRoutes},\n];\n\nexport const Routing = RouterModule.forChild(routes);\n"]}