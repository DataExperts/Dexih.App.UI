{"version":3,"sources":["webpack:///src/app/+hub/table/column-edit/column-edit-base.component.ts","webpack:///src/app/+hub/table/column-edit/column-edit-base.component.html","webpack:///src/app/+hub/table/column-edit/column-edit.component.ts","webpack:///src/app/+hub/table/column-edit/column-edit.component.html","webpack:///src/app/+hub/table/column-edit/index.ts","webpack:///src/app/+hub/table/table-edit/column-edit-bulk/column-edit-bulk.component.ts","webpack:///src/app/+hub/table/table-edit/column-edit-bulk/column-edit-bulk.component.html","webpack:///src/app/+hub/table/table-edit/table-edit-columns/table-edit-columns.component.ts","webpack:///src/app/+hub/table/table-edit/table-edit-columns/table-edit-columns.component.html","webpack:///src/app/+hub/table/table-edit/table-edit-file/table-edit-file.component.ts","webpack:///src/app/+hub/table/table-edit/table-edit-file/table-edit-file.component.html","webpack:///src/app/+hub/table/table-edit/table-edit-preview-data/index.ts","webpack:///src/app/+hub/table/table-edit/table-edit-preview-data/table-edit-preview-data.component.ts","webpack:///src/app/+hub/table/table-edit/table-edit-preview-data/table-edit-preview-data.component.html","webpack:///src/app/+hub/table/table-edit/table-edit-properties/table-edit-properties.component.html","webpack:///src/app/+hub/table/table-edit/table-edit-properties/table-edit-properties.component.ts","webpack:///src/app/+hub/table/table-edit/table-edit-rest/table-edit-input-column.component.ts","webpack:///src/app/+hub/table/table-edit/table-edit-rest/table-edit-input-column.component.html","webpack:///src/app/+hub/table/table-edit/table-edit-rest/table-edit-rest.component.ts","webpack:///src/app/+hub/table/table-edit/table-edit-rest/table-edit-rest.component.html","webpack:///src/app/+hub/table/table.shared.module.ts"],"names":["ColumnEditBaseComponent","hubService","detailedView","typeCodes","deltaTypes","securityFlags","_hubCacheSubscription","getHubCacheObservable","subscribe","cache","hubCache","unsubscribe","selector","templateUrl","columnFormService","ColumnEditComponent","authService","fb","isUpdated","changeColumn","eTypeCode","status","Loaded","isLoaded","tableForm","initializeForm","updateColumns","columnForm","columns","value","dexihTableColumns","columnKey","originalColumn","find","c","key","navigateUp","tableColumn","column","newColumn","deltaType","informationDialog","startForm","emit","currentForm","columnsArray","controls","push","setValue","markAsDirty","childColumns","sort","a","b","position","col","apply","hasChanged","ColumnEditBulkComponent","formsService","updated","properties","name","property","bulkColumn","subscription","columnsFormArray","forEach","getColumnForm","columnGroup","dataType","maxLength","rank","precision","scale","securityFlag","defaultValue","columnValidationKey","allowDbNull","isUnicode","isInput","TableEditColumnsComponent","route","router","entityType","canEdit","showBulkEdit","eConnectionPurpose","title","format","tooltip","footer","_columnData","columnData","asObservable","updateColumnData","_tableFormSubscription","valueChanges","tableData","parentColumnForm","filter","isValid","nameClass","valid","description","dataTypeToString","logicalName","logicalNameClass","columnValidation","getColumnValidation","isIncrementalUpdate","updateDate","next","deleteSelected","index","findIndex","removeAt","navigate","relativeTo","parent","items","control","columnSortChange","editColumn","TableEditFileComponent","isFile","hasBaseDropZoneOver","updatingTable","formatTypes","cancelToken","_subscription","result","e","addHubClientErrorMessage","cancel","files","doImport","event","srcElement","file","formService","fileFormat","fileFormatKey","size","type","File","slice","addHubErrorMessage","form","FormData","append","hub","hubKey","toString","JsonNoNulls","connection","remoteAgent","getRemoteAgentCurrent","postFormRemoteGetKey","then","getRemoteData","importedTables","importedTable","entityStatus","lastStatus","message","reason","addHubMessage","importTables","tables","length","tableColumnsForm","count","i","TableEditPreviewDataComponent","eDataObjectType","data","getCurrentFormObservable","action","pageTitle","table","TableEditPropertiesComponent","isExpanded","eTableType","eTableTypeItems","eConnectionCategory","runningSql","params","getRemoteLibrariesObservable","mainForm","connections","dexihConnections","connectionKey","GetConnectionReference","connectionReference","_connectionSubscription","map","addHubSuccessMessage","join","sqlMessage","TableEditInputColumnComponent","$event","TableEditRestComponent","location","inputTable","getConnectionTables","_currentFormSubscription","inputColumns","_restfulUrlSubscription","restfulUri","pipe","newValue","updateInputColumns","importTable","importCol","inputValue","regExp","item","match","exec","String","NaturalKey","isUnique","TableSharedModule","ngModule","imports","declarations","exports"],"mappings":"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","file":"0-es5.js","sourcesContent":["import { Component, Input, Output, EventEmitter, OnInit, OnDestroy } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { HubFormsService } from '../../hub.forms.service';\nimport { HubCache, deltaTypes, securityFlags} from '../../hub.models';\nimport { Subscription, combineLatest} from 'rxjs';\nimport { HubService } from '../../hub.service';\nimport { TypeCodes } from '../../hub.remote.models';\n\n@Component({\n    selector: 'column-edit-base',\n    templateUrl: './column-edit-base.component.html',\n})\nexport class ColumnEditBaseComponent implements OnInit, OnDestroy {\n    @Input() columnFormService: HubFormsService;\n    @Input() detailedView = true;\n\n    private _hubCacheSubscription: Subscription;\n\n    hubCache: HubCache;\n\n    typeCodes = TypeCodes;\n    deltaTypes = deltaTypes;\n    securityFlags = securityFlags;\n\n    constructor(private hubService: HubService) { }\n\n    ngOnInit() {\n        this._hubCacheSubscription = this.hubService.getHubCacheObservable().subscribe(cache => {\n            this.hubCache = cache;\n        });\n    }\n\n    ngOnDestroy() {\n        if (this._hubCacheSubscription) { this._hubCacheSubscription.unsubscribe(); }\n    }\n}\n","<form *ngIf=\"columnFormService.currentForm\" [formGroup]=\"columnFormService.currentForm\">\n    <fieldset>\n        <div class=\"form-row\">\n            <section class=\"form-group col-md-6\">\n                <form-input label=\"Group\" formControlName=\"columnGroup\" placeholder=\"Enter a column group name\" iconClass=\"fa fa-list\"\n                    [errors]=\"columnFormService.formErrors.columnGroup\" note=\"The group column grouping, used to distinguish duplicate column names when applying to structured data (such as json).\">\n                </form-input>\n            </section>\n            <section class=\"form-group col-md-6\">\n                    <form-input label=\"Column Name\" formControlName=\"name\" placeholder=\"Enter the column name.\" iconClass=\"fa fa-list\"\n                        [errors]=\"columnFormService.formErrors.name\" note=\"The physical column name in the underlying table\">\n                    </form-input>\n                </section>\n            </div>\n\n        <section>\n            <form-checkbox label=\"Specify a different logical name\" formControlName=\"useLogical\">\n            </form-checkbox>\n        </section>\n        <section *ngIf=\"columnFormService.currentForm.value.useLogical\">\n            <form-input label=\"Logical Name\" formControlName=\"logicalName\" placeholder=\"Enter the logical name.\" iconClass=\"fa fa-list\"\n                [errors]=\"columnFormService.formErrors.logicalName\" note=\"The logical name is a short term to represent the column\">\n            </form-input>\n        </section>\n\n        <section *ngIf=\"detailedView\">\n            <form-textarea label=\"Description\" formControlName=\"description\" [showMarkdown]=\"true\" placeholder=\"Enter the description.\"\n                [errors]=\"columnFormService.formErrors.description\">\n            </form-textarea>\n        </section>\n\n        <div class=\"form-row\">\n            <section class=\"form-group col-md-4\">\n                <form-select label=\"Data Type\" formControlName=\"dataType\" [errors]=\"columnFormService.formErrors.dataType\" [items]=\"typeCodes\"\n                    itemKey=\"key\" itemName=\"name\">\n                </form-select>\n            </section>\n            <section class=\"form-group col-md-2\">\n                <form-input type=\"number\" label=\"Array Dimensions\" formControlName=\"rank\" [errors]=\"columnFormService.formErrors.rank\">\n                </form-input>\n            </section>\n            <section *ngIf=\"columnFormService.currentForm.value.isString\" class=\"form-group col-md-6\">\n                <form-input label=\"Max Length\" formControlName=\"maxLength\" placeholder=\"Max Length\" type=\"number\" [errors]=\"columnFormService.formErrors.maxLength\"\n                    note=\"Maximum string length (blank for unlimited)\">\n                </form-input>\n            </section>\n            <section *ngIf=\"columnFormService.currentForm.value.isNumber\" class=\"form-group col-md-3\">\n                <form-input label=\"Precision\" formControlName=\"precision\" placeholder=\"Precision\" type=\"number\" [errors]=\"columnFormService.formErrors.precision\">\n                </form-input>\n            </section>\n            <section *ngIf=\"columnFormService.currentForm.value.isNumber\" class=\"form-group col-md-3\">\n                <form-input label=\"Scale\" formControlName=\"scale\" placeholder=\"Scale\" type=\"number\" [errors]=\"columnFormService.formErrors.scale\">\n                </form-input>\n            </section>\n        </div>\n\n        <div *ngIf=\"detailedView\">\n\n            <section>\n                <form-checkbox label=\"Allow Nulls\" formControlName=\"allowDbNull\"></form-checkbox>\n            </section>\n\n            <section>\n                <form-checkbox label=\"Is Unicode\" formControlName=\"isUnicode\"></form-checkbox>\n            </section>\n\n            <section>\n                <form-checkbox label=\"Is an Input Column\" formControlName=\"isInput\"></form-checkbox>\n            </section>\n            <section>\n                <form-checkbox label=\"Is always incrementing column that can be used for change detection\" formControlName=\"isIncrementalUpdate\"></form-checkbox>\n            </section>\n\n            <div class=\"form-row\">\n                <section class=\"form-group col-md-6\">\n                    <form-select label=\"Delta Type\" formControlName=\"deltaType\" [errors]=\"columnFormService.formErrors.deltaType\" [items]=\"deltaTypes\"\n                        itemKey=\"key\" itemName=\"name\" note=\"How to treat the column when used to update target table.\">\n                    </form-select>\n                </section>\n                <section class=\"form-group col-md-6\">\n                    <form-select label=\"Security Flag\" formControlName=\"securityFlag\" [errors]=\"columnFormService.formErrors.securityFlag\" [items]=\"securityFlags\"\n                        itemKey=\"key\" itemName=\"name\" note=\"How to secure this column when reading data.\">\n                    </form-select>\n                </section>\n            </div>\n\n            <div class=\"form-row\">\n                <section class=\"form-group col-md-6\">\n                    <form-input label=\"Default Value\" formControlName=\"defaultValue\" placeholder=\"Default Value\" [errors]=\"columnFormService.formErrors.defaultValue\"\n                        note=\"Default value if unmapped or null.\">\n                    </form-input>\n                </section>\n                <section class=\"form-group col-md-6\" *ngIf=\"columnFormService.currentForm.controls.columnValidationKey\">\n                    <form-select label=\"Validation Rule\" formControlName=\"columnValidationKey\" [allowNullSelect]=\"true\" [items]=\"hubCache?.hub.dexihColumnValidations\"\n                        itemKey=\"key\" itemName=\"name\" note=\"Validation rule to apply.\">\n                        <columnValidation-edit-button [key]=\"columnFormService.currentForm.controls.columnValidationKey.value\"></columnValidation-edit-button>\n                    </form-select>\n                </section>\n            </div>\n        </div>\n    </fieldset>\n</form>\n","import { Component, OnInit, OnChanges, OnDestroy, Input, Output, EventEmitter } from '@angular/core';\nimport { HubCache, eCacheStatus,\n     } from '../../hub.models';\nimport { AuthService } from '../../../+auth/auth.service';\nimport { HubService } from '../../hub.service';\nimport { FormBuilder, FormGroup, FormArray } from '@angular/forms';\nimport { Subscription} from 'rxjs';\nimport { HubFormsService } from '../../hub.forms.service';\nimport { eDeltaType, DexihTableColumn, eTypeCode } from '../../../shared/shared.models';\n\n@Component({\n    selector: 'column-edit',\n    templateUrl: './column-edit.component.html',\n})\nexport class ColumnEditComponent implements OnInit, OnChanges, OnDestroy {\n    @Input() tableForm: FormGroup;\n    @Input() columnKey: number;\n    @Input() deltaType: eDeltaType;\n    @Input() detailedView = true;\n    @Output() isUpdated = new EventEmitter<boolean>();\n    @Output() changeColumn = new EventEmitter<number>();\n\n    private _hubCacheSubscription: Subscription;\n\n    private hubCache: HubCache;\n    public pageTitle: string;\n    public action: string;\n\n    public errorMessage: string;\n    public successMessage: string;\n    public savingTable: boolean;\n\n    public newColumnForm: FormGroup;\n    private originalColumn: DexihTableColumn;\n\n    public columns: any[];\n\n    public eTypeCode = eTypeCode;\n\n\n    public columnFormService: HubFormsService;\n\n    constructor(\n        private authService: AuthService,\n        private hubService: HubService,\n        fb: FormBuilder) {\n\n        // create a separate formService instance to manage the copied form\n        this.columnFormService = new HubFormsService(fb, hubService, authService);\n    }\n\n    ngOnInit() {\n        this._hubCacheSubscription = this.hubService.getHubCacheObservable().subscribe(hubCache => {\n            if (hubCache.status === eCacheStatus.Loaded) {\n                this.hubCache = hubCache;\n\n                if (!this.hubCache.isLoaded() || !this.tableForm) { return; }\n\n                this.initializeForm();\n\n                this.updateColumns();\n            }\n        });\n    }\n\n    ngOnChanges() {\n        if (this.tableForm && this.hubCache) {\n            this.initializeForm();\n            this.updateColumns();\n        }\n    }\n\n    ngOnDestroy() {\n        if (this._hubCacheSubscription) { this._hubCacheSubscription.unsubscribe(); }\n    }\n\n    initializeForm() {\n        let columnForm: FormGroup;\n        let columns = this.tableForm.value.dexihTableColumns;\n\n        if (this.columnKey) {\n            if (this.tableForm) {\n                this.originalColumn = columns.find(c => c.key === this.columnKey);\n                if (!this.originalColumn) {\n                    this.authService.navigateUp();\n                    return;\n                }\n                columnForm = this.columnFormService.tableColumn(columns, this.originalColumn);\n            }\n        } else {\n            let column = this.hubCache.newColumn(this.tableForm.value, this.deltaType);\n            if (column) {\n                columnForm = this.columnFormService.tableColumn(columns, column);\n            } else {\n                this.authService.informationDialog('Column not added.',\n                `The column with delta type ${this.deltaType} could not be inserted into the current table.`);\n            }\n        }\n        this.columnFormService.startForm(columnForm);\n    }\n\n    cancel() {\n        this.isUpdated.emit(false);\n    }\n\n    apply() {\n        const columnForm = this.columnFormService.currentForm;\n        const columnsArray = <FormArray>this.tableForm.controls.dexihTableColumns;\n\n        if (!this.originalColumn) {\n        columnsArray.push(columnForm);\n        } else {\n        const originalColumn = columnsArray.controls.find(c => c.value.key === columnForm.value.key);\n        originalColumn.setValue(columnForm.value);\n        }\n\n        this.tableForm.markAsDirty();\n    }\n\n    updateColumns() {\n        if (this.tableForm && this.originalColumn) {\n            this.columns = (<DexihTableColumn[]> this.originalColumn.childColumns)\n            .sort((a, b) => a.position - b.position)\n        }\n    }\n\n    navigateToColumn(col: DexihTableColumn) {\n        this.apply();\n        this.changeColumn.emit(col.key);\n    }\n\n    applyExit() {\n        if (this.columnFormService.hasChanged) {\n            this.apply();\n            this.isUpdated.emit(true);\n        }\n    }\n}\n","<dexih-widget-section title='Edit Column' [showExpandButton]=\"true\">\n<ng-template #header>\n        <dexih-invalid-form-details class=\"mr-1\" (click)=\"columnFormService.showErrors()\" [control]=\"columnFormService.currentForm\"></dexih-invalid-form-details>\n        <dexih-button-dropdown class=\"mr-1\" buttonClass=\"btn-primary\" text=\"Column\">\n            <li *ngFor=\"let col of columns\">\n                <a class=\"dropdown-item\" (click)=\"navigateToColumn(col)\">{{col.columnGroup ? col.columnGroup + \".\" : \"\"}}{{col.name}}</a>\n            </li>\n        </dexih-button-dropdown>\n        <dexih-button-apply class=\"mr-1\" [disabled]=\"!columnFormService?.hasChanged\" (click)=\"applyExit()\"></dexih-button-apply>\n        <dexih-button-cancel (click)=\"cancel()\"></dexih-button-cancel>\n</ng-template>\n\n<column-edit-base [columnFormService]=\"columnFormService\" [detailedView]=\"detailedView\"></column-edit-base>\n</dexih-widget-section>\n\n<table-edit-columns *ngIf=\"columnFormService?.currentForm?.controls.dataType.value === eTypeCode.Node\" [tableForm]='tableForm' [parentColumnForm]=\"columnFormService.currentForm\"></table-edit-columns>\n","export * from './column-edit.component';\nexport * from './column-edit-base.component';\n","import { Component, OnInit, Input, Output, EventEmitter, OnDestroy } from '@angular/core';\nimport { FormGroup, FormArray } from '@angular/forms';\nimport {  deltaTypes, securityFlags, HubCache } from '../../../hub.models';\nimport { FormsService } from '../../../../shared/forms/forms.service';\nimport { HubFormsService } from '../../../hub.forms.service';\nimport { TypeCodes } from '../../../hub.remote.models';\nimport { DexihTableColumn } from '../../../../shared/shared.models';\nimport { HubService } from '../../../hub.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n    selector: 'column-edit-bulk',\n    templateUrl: 'column-edit-bulk.component.html'\n})\n\nexport class ColumnEditBulkComponent implements OnInit, OnDestroy {\n    @Input() columns: DexihTableColumn[];\n    @Input() columnsFormArray: FormArray;\n\n    @Output() updated = new EventEmitter();\n\n    subscription: Subscription;\n\n    public properties = [\n        {name: 'Group Name', property: 'group'},\n        {name: 'Data Type', property: 'dataType'},\n        {name: 'Delta Type', property: 'deltaType'},\n        {name: 'Security Flag', property: 'securityFlag'},\n        {name: 'Default Value', property: 'defaultValue'},\n        {name: 'Validation Rule', property: 'validationRule'},\n        {name: 'Allow DbNull', property: 'allowDbNull'},\n        {name: 'Is Input', property: 'isInput'},\n        {name: 'Is Unicode', property: 'isUnicode'},\n    ];\n\n    hubCache: HubCache;\n    property: string;\n    bulkColumn: FormGroup;\n    typeCodes = TypeCodes;\n    deltaTypes = deltaTypes;\n    securityFlags = securityFlags;\n\n    constructor(private hubService: HubService,\n        private formsService: HubFormsService) { }\n\n    ngOnInit() {\n        this.bulkColumn = this.formsService.tableColumn([], new DexihTableColumn());\n\n        this.subscription = this.hubService.getHubCacheObservable().subscribe(hubCache => {\n            this.hubCache = hubCache;\n        });\n    }\n\n    ngOnDestroy() {\n        if (this.subscription) {this.subscription.unsubscribe(); }\n    }\n\n    getColumnForm(column: DexihTableColumn): FormGroup {\n        return <FormGroup> this.columnsFormArray.controls.find((c: FormGroup) => c.controls.key.value === column.key);\n    }\n\n    applyBulkEdit() {\n\n        let bulkColumn = <DexihTableColumn> this.bulkColumn.value;\n        this.columns.forEach(column => {\n            let columnForm = this.getColumnForm(column);\n            if (!columnForm) { return; }\n\n            switch (this.property) {\n                case 'group':\n                    columnForm.controls.columnGroup.setValue(bulkColumn.columnGroup);\n                    break;\n                case 'dataType':\n                    columnForm.controls.dataType.setValue(bulkColumn.dataType);\n                    columnForm.controls.maxLength.setValue(bulkColumn.maxLength);\n                    columnForm.controls.rank.setValue(bulkColumn.rank);\n                    columnForm.controls.precision.setValue(bulkColumn.precision);\n                    columnForm.controls.scale.setValue(bulkColumn.scale);\n                    break;\n                case 'deltaType':\n                    columnForm.controls.deltaType.setValue(bulkColumn.deltaType);\n                    break;\n                case 'securityFlag':\n                    columnForm.controls.securityFlag.setValue(bulkColumn.securityFlag);\n                    break;\n                case 'defaultValue':\n                    columnForm.controls.defaultValue.setValue(bulkColumn.defaultValue);\n                    break;\n                case 'validationRule':\n                    columnForm.controls.columnValidationKey.setValue(bulkColumn.columnValidationKey);\n                    break;\n                case 'allowDbNull':\n                    columnForm.controls.allowDbNull.setValue(bulkColumn.allowDbNull);\n                    break;\n                case 'isUnicode':\n                    columnForm.controls.isUnicode.setValue(bulkColumn.isUnicode);\n                    break;\n                case 'isInput':\n                    columnForm.controls.isInput.setValue(bulkColumn.isInput);\n                    break;\n            }\n        });\n        this.updated.emit();\n      }\n\n      cancel() {\n          this.updated.emit();\n      }\n\n      setAllowDbNull(value: boolean) {\n        this.columns.forEach(column => {\n            let columnForm = this.getColumnForm(column);\n            columnForm.controls.allowDbNull.setValue(value);\n        });\n      }\n\n      setIsInput(value: boolean) {\n        this.columns.forEach(column  => {\n            let columnForm = this.getColumnForm(column);\n            columnForm.controls.isInput.setValue(value);\n        });\n      }\n\n      setIsUnicode(value: boolean) {\n        this.columns.forEach(column  => {\n            let columnForm = this.getColumnForm(column);\n            columnForm.controls.isUnicode.setValue(value);\n        });\n      }\n}\n","<dexih-widget title=\"Update columns\" headerClass=\"text-white bg-primary\">\n<form [formGroup]=\"bulkColumn\">\n    <section class=\"form-group col-md-4\">\n        <form-select label=\"Property\" [(ngModel)]=\"property\" [ngModelOptions]=\"{standalone: true}\" [items]=\"properties\" itemKey=\"property\"\n            itemName=\"name\">\n        </form-select>\n    </section>\n    <div *ngIf=\"property=='dataType'\">\n        <section class=\"form-group col-md-4\">\n            <form-select label=\"Data Type\" formControlName=\"dataType\" [items]=\"typeCodes\" itemKey=\"key\"\n                itemName=\"name\">\n            </form-select>\n        </section>\n        <section class=\"form-group col-md-2\">\n            <form-input type=\"number\" label=\"Array Dimensions\" formControlName=\"rank\">\n            </form-input>\n        </section>\n        <section *ngIf=\"bulkColumn.value.isString\" class=\"form-group col-md-6\">\n            <form-input label=\"Max Length\" formControlName=\"maxLength\" placeholder=\"Max Length\"\n                type=\"number\" note=\"Maximum string length (blank for unlimited)\">\n            </form-input>\n        </section>\n        <section *ngIf=\"bulkColumn.value.isNumber\" class=\"form-group col-md-3\">\n            <form-input label=\"Precision\" formControlName=\"precision\" placeholder=\"Precision\"\n                type=\"number\">\n            </form-input>\n        </section>\n        <section *ngIf=\"bulkColumn.value.isNumber\" class=\"form-group col-md-3\">\n            <form-input label=\"Scale\" formControlName=\"scale\" placeholder=\"Scale\" type=\"number\">\n            </form-input>\n        </section>\n    </div>\n\n    <div *ngIf=\"property=='group'\" >\n            <section class=\"form-group col-md-6\">\n        <form-input label=\"Group\" formControlName=\"columnGroup\" placeholder=\"Enter a column group name\"\n            iconClass=\"fa fa-list\"\n            note=\"The group column grouping, used to distinguish duplicate column names when applying to structured data (such as json).\">\n        </form-input>\n            </section>\n    </div>\n    <div *ngIf=\"property=='securityFlag'\" >\n        <section class=\"form-group col-md-6\">\n            <form-select label=\"Security Flag\" formControlName=\"securityFlag\" [items]=\"securityFlags\"\n                itemKey=\"key\" itemName=\"name\" note=\"How to secure this column when reading data.\">\n            </form-select>\n        </section>\n    </div>\n    <div *ngIf=\"property=='deltaType'\" >\n        <section class=\"form-group col-md-6\">\n            <form-select label=\"Delta Type\" formControlName=\"deltaType\" [items]=\"deltaTypes\"\n                itemKey=\"key\" itemName=\"name\"\n                note=\"How to treat the column when used to update target table.\">\n            </form-select>\n        </section>\n    </div>\n    <div *ngIf=\"property=='defaultValue'\" >\n        <section class=\"form-group col-md-6\">\n            <form-input label=\"Default Value\" formControlName=\"defaultValue\" placeholder=\"Default Value\"\n                note=\"Default value if unmapped or null.\">\n            </form-input>\n        </section>\n    </div>\n    <div *ngIf=\"property=='validationRule'\" >\n        <section class=\"form-group col-md-6\">\n            <form-select label=\"Validation Rule\" formControlName=\"columnValidationKey\"\n                [allowNullSelect]=\"true\" [items]=\"hubCache?.hub.dexihColumnValidations\" itemKey=\"key\"\n                itemName=\"name\" note=\"Validation rule to apply.\">\n                <columnValidation-edit-button [key]=\"bulkColumn.controls.columnValidationKey.value\"></columnValidation-edit-button>\n            </form-select>\n        </section>\n    </div>\n    <div *ngIf=\"property=='allowDbNull'\">\n        <section class=\"form-group col-md-6\">\n            <form-checkbox label=\"Allow Nulls\" formControlName=\"allowDbNull\"></form-checkbox>\n        </section>\n    </div>\n    <div *ngIf=\"property=='isInput'\">\n        <section class=\"form-group col-md-6\">\n            <form-checkbox label=\"Is an Input Column\" formControlName=\"isInput\"></form-checkbox>\n        </section>\n    </div>\n    <div *ngIf=\"property=='isUnicode'\">\n        <section class=\"form-group col-md-6\">\n            <form-checkbox label=\"Is Unicode\" formControlName=\"isUnicode\"></form-checkbox>\n        </section>\n    </div>\n</form>\n    <ng-template #footer>\n        <dexih-button-apply class=\"mr-1\" (click)=\"applyBulkEdit(items)\"></dexih-button-apply>\n        <dexih-button-cancel class=\"mr-1\" (click)=\"cancel()\"></dexih-button-cancel>\n    </ng-template>\n</dexih-widget>\n\n\n\n\n\n","import { Component, OnInit, OnChanges, OnDestroy, Input } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { HubService } from '../../../hub.service';\nimport { Subscription, Observable, BehaviorSubject} from 'rxjs';\nimport { FormGroup, FormArray } from '@angular/forms';\nimport { HubFormsService } from '../../../hub.forms.service';\nimport { HubCache, deltaTypes, securityFlags, eCacheStatus } from '../../../hub.models';\nimport { DexihTableColumn, eConnectionPurpose } from '../../../../shared/shared.models';\n\n@Component({\n\n    selector: 'table-edit-columns',\n    templateUrl: './table-edit-columns.component.html',\n})\nexport class TableEditColumnsComponent implements OnInit, OnChanges, OnDestroy {\n    @Input() tableForm: FormGroup;\n    @Input() parentColumnForm: FormGroup;\n\n    private _hubCacheSubscription: Subscription;\n    private _tableFormSubscription: Subscription;\n\n    public entityType = 'Table';\n\n    public canEdit = false;\n    public tableKey: number;\n\n    private hubCache: HubCache;\n    public action: string; // new or edit\n    public pageTitle: string;\n\n    public mainForm: FormGroup;\n\n    private deltaTypes = deltaTypes;\n    private securityFlags = securityFlags;\n    public showBulkEdit = false;\n\n    inputColumns: Array<DexihTableColumn>;\n\n    eConnectionPurpose = eConnectionPurpose;\n\n    columns = [\n        { name: 'position', title: '#', format: ''},\n        { name: 'name', title: 'Column Name', format: '', class: 'nameClass', tooltip: 'description'},\n        { name: 'logicalName', title: 'Logical Name', format: 'Md', footer: 'description', class: 'logicalNameClass'},\n        { name: 'isInput', title: 'Input?', format: 'Boolean'},\n        { name: 'dataType', title: 'Data Type', format: ''},\n        { name: 'allowDbNull', title: 'Null?', format: 'Boolean'},\n        { name: 'deltaType', title: 'Delta Type', format: ''},\n        { name: 'defaultValue', title: 'Default Value', format: ''},\n        { name: 'columnValidation', title: 'Column Validation', format: ''},\n        { name: 'isIncrementalUpdate', title: 'Is Incremental', format: 'Boolean'},\n        { name: 'securityFlag', title: 'Security Flag', format: ''},\n        { name: 'updateDate', title: 'Last Modified', format: 'Calendar'},\n    ];\n\n    private _columnData = new BehaviorSubject<Array<DexihTableColumn>>(null);\n    columnData: Observable<Array<DexihTableColumn>> = this._columnData.asObservable();\n\n    constructor(\n        private hubService: HubService,\n        public formsService: HubFormsService,\n        private route: ActivatedRoute,\n        private router: Router) {\n    }\n\n    ngOnInit() {\n        // load the initial connection from the cache\n        this._hubCacheSubscription = this.hubService.getHubCacheObservable().subscribe(cache => {\n            if (cache && cache.status === eCacheStatus.Loaded) {\n                this.hubCache = cache;\n                this.updateColumnData();\n            }\n        });\n    }\n\n    ngOnChanges() {\n        if (this._tableFormSubscription) { this._tableFormSubscription.unsubscribe(); }\n        if (this.formsService.currentForm) {\n            this._tableFormSubscription = this.formsService.currentForm.valueChanges.subscribe(() => this.updateColumnData());\n        }\n        this.updateColumnData();\n    }\n\n    ngOnDestroy() {\n        if (this._hubCacheSubscription) { this._hubCacheSubscription.unsubscribe(); }\n        if (this._tableFormSubscription) { this._tableFormSubscription.unsubscribe(); }\n    }\n\n    updateColumnData() {\n        if (this.hubCache && this.formsService.currentForm) {\n            let tableData = [];\n\n            let columns: FormArray;\n\n            if (this.parentColumnForm) {\n                columns = <FormArray>this.parentColumnForm.controls.childColumns;\n            } else {\n                columns = <FormArray>this.formsService.currentForm.controls.dexihTableColumns;\n            }\n\n            columns.controls\n                .filter(c => c.value.isValid)\n                .sort((a, b) => a.value.position - b.value.position)\n                .forEach(column => {\n                    let columnForm = <FormGroup>column;\n                    tableData.push({\n                        key: column.value.key,\n                        position: column.value.position,\n                        name: (column.value.columnGroup ? column.value.columnGroup + '.' : '') + column.value.name,\n                        nameClass: (columnForm.controls.name.valid ? '' : 'dexih-state-error'),\n                        description: column.value.description,\n                        isInput: column.value.isInput,\n                        dataType: this.hubCache.dataTypeToString(column.value),\n                        allowDbNull: column.value.allowDbNull,\n                        logicalName: column.value.logicalName,\n                        logicalNameClass: (columnForm.controls.logicalName.valid ? '' : 'dexih-error-icon'),\n                        deltaType: this.deltaTypes.find(c => c.key === column.value.deltaType).name,\n                        defaultValue: column.value.defaultValue,\n                        columnValidation: this.hubCache.getColumnValidation(column.value.columnValidationKey).name,\n                        isIncrementalUpdate: column.value.isIncrementalUpdate,\n                        securityFlag: this.securityFlags.find(c => c.key === column.value.securityFlag).name,\n                        updateDate: column.value.updateDate,\n                    });\n                });\n            this._columnData.next(tableData);\n        } else {\n            this._columnData.next(null);\n        }\n    }\n\n  deleteColumn(column: DexihTableColumn) {\n      this.deleteSelected([column]);\n  }\n\n  deleteSelected(columns: Array<DexihTableColumn>) {\n      let columnsArray = <FormArray>this.formsService.currentForm.controls.dexihTableColumns;\n\n    columns.forEach(column => {\n        let index = columnsArray.controls.findIndex(c => c.value.key === column.key);\n        columnsArray.removeAt(index);\n    });\n    // this._columnData.next(this.table.dexihTableColumns.filter(c => c.isValid));\n  }\n\n  newColumn() {\n    this.router.navigate(['column'], { relativeTo: this.route.parent });\n  }\n\n  editColumn(column: DexihTableColumn) {\n    this.router.navigate(['column', column.key], { relativeTo: this.route.parent });\n  }\n\n  columnSortChange(items: Array<any>) {\n        let columnsArray = <FormArray>this.formsService.currentForm.controls.dexihTableColumns;\n      let position = 1;\n      items.forEach(c => {\n        let column = <FormGroup>columnsArray.controls.find(control => control.value.key === c.key);\n        column.controls.position.setValue(position++);\n      });\n\n      this.updateColumnData();\n  }\n}\n","<dexih-widget-section title='Columns' [showExpandButton]=\"true\" [padding]=\"false\">\n    <dexih-table [enableMultiSelect]=\"true\" [enableStickyToolbar]=\"true\"  [toolbarZIndex]=\"100\" [enableManualSort]=\"true\" (onSortChanged)=\"columnSortChange($event)\"\n        sortColumn=\"position\" [columns]=\"columns\" [dataObservable]=\"columnData\" (rowClick)=\"editColumn($event)\">\n        <ng-template #selectedItemsAction select=\"selectedItemsAction\" let-items=\"items\">\n            <dexih-button-delete (click)=\"deleteSelected(items)\" title=\"Delete selected columns\" class=\"mr-1\"></dexih-button-delete>\n            <dexih-button iconClass=\"fa fa-th-list\" class=\"mr-1\" (click)=\"showBulkEdit=!showBulkEdit\">\n                {{showBulkEdit ? 'Hide Bulk Edit' : 'Show Bulk Edit'}} </dexih-button>\n        </ng-template>\n\n        <ng-template #tableHeader let-items=\"items\">\n            <column-edit-bulk *ngIf=\"formsService.currentForm && showBulkEdit && items.length > 0\" [columns]=\"items\"\n                [columnsFormArray]=\"formsService.currentForm.controls.dexihTableColumns\" (updated)=\"showBulkEdit = false\" class=\"mr-1\"></column-edit-bulk>\n        </ng-template>\n\n        <ng-template #actions select=\"actionsTemplate\" let-items=\"items\">\n            <dexih-button-new (click)=\"newColumn()\" title=\"Create a new column\" class=\"mr-1\"></dexih-button-new>\n        </ng-template>\n\n        <ng-template #selectedItemAction select=\"selectedItemAction\" let-item=\"item\" class=\"mr-1\">\n            <dexih-button-edit (click)=\"editColumn(item)\" title=\"Edit selected column\" class=\"mr-1\"></dexih-button-edit>\n        </ng-template>\n\n    </dexih-table>\n\n</dexih-widget-section>","import { Component, OnInit, OnDestroy, Input } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { AuthService } from '../../../../+auth/auth.service';\nimport { HubService } from '../../../hub.service';\nimport { Subscription} from 'rxjs';\nimport { Location } from '@angular/common';\nimport { FormArray } from '@angular/forms';\nimport { HubFormsService } from '../../../hub.forms.service';\nimport { DexihConnection, DexihFileFormat, eTypeCode, DexihTable, DexihTableColumn, ConnectionReference } from '../../../../shared/shared.models';\nimport { HubCache, formatTypes } from '../../../hub.models';\nimport { CancelToken } from '../../../../+auth/auth.models';\n\n@Component({\n\n    selector: 'dexih-table-edit-file',\n    templateUrl: './table-edit-file.component.html'\n})\nexport class TableEditFileComponent implements OnInit, OnDestroy {\n    @Input() public connection: DexihConnection;\n    @Input() public isFile = false;\n    @Input() public formService: HubFormsService;\n\n    public hasBaseDropZoneOver = false;\n\n    public updatingTable = false;\n\n    private _subscription: Subscription;\n    public hubCache: HubCache;\n    public fileFormats: DexihFileFormat[];\n\n    filesSubdirectory: string;\n\n    formatTypes = formatTypes;\n    eTypeCode = eTypeCode;\n\n    public cancelToken: CancelToken = new CancelToken();\n\n    constructor(private authService: AuthService,\n        private hubService: HubService) {\n\n    }\n\n    ngOnInit() {\n        try {\n            this._subscription = this.hubService.getHubCacheObservable().subscribe(result => {\n                this.hubCache = result;\n            });\n        } catch (e) {\n            this.hubService.addHubClientErrorMessage(e, 'Table Edit File');\n        }\n    }\n\n    ngOnDestroy() {\n        if (this._subscription) { this._subscription.unsubscribe(); }\n        this.cancelToken.cancel();\n    }\n\n    public filesDrop(files: any) {\n        this.doImport(files[0]);\n    }\n\n    public uploadFile(event) {\n        let files = event.srcElement.files;\n        this.doImport(files[0]);\n    }\n\n    public doImport(file: File) {\n\n        if (this.formService.currentForm.value.fileFormat) {\n            this.formService.currentForm.value.fileFormatKey = this.formService.currentForm.value.fileFormat.fileFormatKey;\n        }\n\n        if (file.size > 100000) {\n            if (file.type === 'text/csv' || file.type === 'text/plain') {\n                file = new File([file.slice(0, 100000) ], file.name);\n            } else {\n                // tslint:disable-next-line:max-line-length\n                this.hubService.addHubErrorMessage(`The file size ${file.size}b exceeded the maximum of 100,000b.  Submit a smaller sample file, or a plain text file (which will be trimmed automatically) to proceed.`);\n                return;\n            }\n        }\n\n        const form: FormData = new FormData();\n        form.append('file', file, file.name);\n        form.append('hubKey', this.hubCache.hub.hubKey.toString());\n        form.append('table', this.authService.JsonNoNulls(this.formService.currentForm.value));\n        form.append('connectionKey', this.connection.key.toString());\n        form.append('save', 'false');\n\n        let remoteAgent = this.hubService.getRemoteAgentCurrent();\n\n        this.authService.postFormRemoteGetKey('/api/Hub/ImportFileFormat', form, remoteAgent, this.cancelToken)\n            .then(key => {\n                this.authService.getRemoteData<DexihTable[]>(remoteAgent, key, this.cancelToken, 'download').then(importedTables => {\n                    let importedTable = importedTables[0];\n                    if (importedTable.entityStatus.lastStatus.toString() === 'Error') {\n                        this.hubService.addHubErrorMessage(importedTable.entityStatus.message);\n                    }\n\n                    this.updateColumns(importedTable.dexihTableColumns);\n                });\n\n        }).catch(reason => {\n            if (reason) {\n                this.hubService.addHubMessage(reason);\n            } else {\n                // tslint:disable-next-line:max-line-length\n                this.hubService.addHubErrorMessage('The file upload failed.  This may be due to the file being too large, try making the sample file smaller (headings only) and upload again.')\n            }\n        });\n    }\n\n    import() {\n        this.hubService.importTables([this.formService.currentForm.value], false, this.cancelToken).then(tables => {\n            if (tables && tables.length > 0) {\n                this.updateColumns(tables[0].dexihTableColumns);\n            }\n        }).catch(reason => {\n            if (reason) {\n                this.hubService.addHubMessage(reason);\n            } else {\n                // tslint:disable-next-line:max-line-length\n                this.hubService.addHubErrorMessage('The file upload failed.  This may be due to the file being too large, try making the sample file smaller (headings only) and upload again.')\n            }\n        });\n    }\n\n    updateColumns(columns: DexihTableColumn[]) {\n        let tableColumnsForm = <FormArray>this.formService.currentForm.controls.dexihTableColumns;\n\n        // remove existing columns.\n        const count = tableColumnsForm.controls.length;\n        for (let i = 0; i <= count; i++) {\n            tableColumnsForm.removeAt(0);\n        }\n        columns.filter(c => c.isValid).forEach(column => {\n            tableColumnsForm.push(this.formService.tableColumn(tableColumnsForm.value, column));\n        });\n    }\n}\n","<dexih-widget-section title='File Properties' [showExpandButton]=\"true\" [padding]=\"true\">\n\n    <form *ngIf=\"formService?.currentForm\" [formGroup]=\"formService.currentForm\">\n        <ng-template [ngIf]=\"isFile\">\n            <section>\n                <form-input label=\"Files Subdirectory\" formControlName=\"fileRootPath\" placeholder=\"Enter the file path name.\" iconClass=\"fa fa-file\"\n                    [errors]=\"formService.formErrors.fileRootPath\" [note]=\"'Specify the subdirectory.  This will be the connection directory (' + connection.server + ') plus the path specified.'\">\n                </form-input>\n            </section>\n\n            <section>\n                <form-input label=\"File Match Pattern\" formControlName=\"fileMatchPattern\" placeholder=\"Enter the file path.\" iconClass=\"fa fa-file\"\n                    [errors]=\"formService.formErrors.fileMatchPattern\" note=\"Specify the file pattern to use to match files when bulk uploading.  Patterns can include wildcards */?, leave blank for all files.\">\n                </form-input>\n            </section>\n\n            <section>\n                <form-checkbox label=\"Auto manage files\" formControlName=\"autoManageFiles\" note=\"Files loaded from the incoming directory, and moved to the processed or rejected directories when they are loaded by a datalink.  If not checked source files will be left untouched after a load.\">\n                </form-checkbox>\n            </section>\n\n            <div *ngIf=\"formService.currentForm.value.autoManageFiles \">\n\n                <section>\n                    <form-checkbox label=\"Specify custom file paths for auto-managed files\" formControlName=\"useCustomFilePaths\" [note]=\"'If custom paths are not specified files will be read/written to the directory: ' + connection.server + '/' + formService.currentForm.value.name + '/'\">\n                    </form-checkbox>\n                </section>\n\n                <div *ngIf=\"formService.currentForm.value.useCustomFilePaths\">\n\n                    <section>\n                        <form-input label=\"Incoming subdirectory\" formControlName=\"fileIncomingPath\" placeholder=\"Enter the file path.\" iconClass=\"fa fa-file\"\n                            [errors]=\"formService.formErrors.fileIncomingPath\" note=\"Specify the sub-directory for incoming files\">\n                        </form-input>\n                    </section>\n\n                    <section>\n                        <form-input label=\"Outgoing subdirectory\" formControlName=\"fileOutgoingPath\" placeholder=\"Enter the file path.\" iconClass=\"fa fa-file\"\n                            [errors]=\"formService.formErrors.fileOutgoingPath\" note=\"Specify the sub-directory for outgoing (written) files\">\n                        </form-input>\n                    </section>\n\n                    <section>\n                        <form-input label=\"Processed subdirectory\" formControlName=\"fileProcessedPath\" placeholder=\"Enter the file path.\" iconClass=\"fa fa-file\"\n                            [errors]=\"formService.formErrors.fileProcessedPath\" note=\"Specify the sub-directory for processed files\">\n                        </form-input>\n                    </section>\n                    <section>\n                        <form-input label=\"Rejected subdirectory\" formControlName=\"fileRejectedPath\" placeholder=\"Enter the file path.\" iconClass=\"fa fa-file\"\n                            [errors]=\"formService.formErrors.fileRejectedPath\" note=\"Specify the sub-directory for rejected files\">\n                        </form-input>\n                    </section>\n\n                </div>\n            </div>\n        </ng-template>\n        <section>\n            <form-select label=\"Format Type\" formControlName=\"formatType\" [items]=\"formatTypes\" itemKey=\"key\" itemName=\"name\" iconClass=\"fa fa-database\"\n                note='The format of data.'>\n            </form-select>\n        </section>\n\n        <section *ngIf=\"formService.currentForm.value.formatType == eTypeCode.Text\">    \n            <form-select label=\"File Format\" formControlName=\"fileFormatKey\" placeholder=\"File Format\" [errors]=\"formService.formErrors.fileFormatKey\"\n                [items]=\"hubCache.hub.dexihFileFormats\" itemKey=\"key\" itemName=\"name\" [enableFilter]=\"false\" note=\"Specify the file format to use, if not specified, a csv (command separated) format will be used.\"\n                [allowNullSelect]=\"true\" selectNullMessage=\"Use default (csv) format\">\n                <a routerLink=\"../fileFormat-new\">(<i class=\"fa fa-sticky-note-o\"></i> New Format )</a>\n            </form-select>\n        </section>\n\n        <section *ngIf=\"formService.currentForm.value.formatType == eTypeCode.Json || formService.currentForm.value.formatType == eTypeCode.Xml\">\n            <form-input label=\"Optional: Web Service Row Path\" formControlName=\"rowPath\" placeholder=\"Enter the row path.\" iconClass=\"fa fa-feed\"\n                [errors]=\"formService.formErrors.rowPath\" note=\"Optional Json Path indicating where a row should be read from.\">\n            </form-input>\n        </section>\n\n        <section>\n            <label class=\"label\">Add a sample file which will be used to determine column names.\n                <a  href=\"javascript:void(0)\" (click)=\"import()\">(<i class=\"fa fa-download\"></i> Import directly from source )</a>\n            </label>\n\n            <div class=\"well my-drop-zone\" dropZone [requireFiles]=\"true\" (dropFiles)=\"filesDrop($event)\" dropAllowedClass=\"nv-file-over\">\n                Drop Sample File Here\n                <div class=\"custom-file w-25 float-right\">\n                    <input type=\"file\" class=\"custom-file-input\" (change)=\"uploadFile($event)\" onclick=\"this.value=null\">\n                    <label class=\"custom-file-label\" for=\"inputGroupFile01\">Choose file</label>\n                </div>\n            </div>\n\n            <br/>\n            <dexih-button-refresh *ngIf=\"uploader?.queue?.length == 1\" (click)=\"importTable()\" text='Import Table Columns' [busy]=\"updatingTable\"></dexih-button-refresh>\n            <section>\n                <form-input label=\"Max Import Levels\" formControlName=\"maxImportLevels\" placeholder=\"Enter the maximum node levels to query the json structure.\" iconClass=\"fa fa-file\"\n                    [errors]=\"formService.formErrors.maxImportLevels\" note=\"Enter the maximum levels to query the json file.\">\n                </form-input>\n            </section>\n        </section>\n    </form>\n</dexih-widget-section>","export { TableEditPreviewDataComponent } from './table-edit-preview-data.component';\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { HubService } from '../../../hub.service';\nimport { AuthService } from '../../../../+auth/auth.service';\nimport { Subscription, combineLatest} from 'rxjs';\nimport { ActivatedRoute } from '@angular/router';\nimport { HubFormsService } from '../../../hub.forms.service';\nimport { DexihTable, eDataObjectType } from '../../../../shared/shared.models';\n\n@Component({\n\n    selector: 'table-edit-preview-data',\n    templateUrl: './table-edit-preview-data.component.html'\n})\nexport class TableEditPreviewDataComponent implements OnInit, OnDestroy {\n    private _subscription: Subscription;\n\n    public table: DexihTable;\n    public action: string; // new or edit\n    public pageTitle: string;\n    public message: string;\n\n    public eDataObjectType = eDataObjectType;\n\n    constructor(\n        public formsService: HubFormsService,\n        private hubService: HubService,\n        private authService: AuthService,\n        private route: ActivatedRoute) {\n\n    }\n\n    ngOnInit() {\n        try {\n            this._subscription = combineLatest(\n                this.route.data,\n                this.hubService.getHubCacheObservable(),\n                this.formsService.getCurrentFormObservable(),\n            ).subscribe(result => {\n                let data = result[0];\n                let tableForm = result[2];\n\n                this.action = data['action'];\n                this.pageTitle = data['pageTitle'];\n\n                if (tableForm) {\n                    this.table = tableForm.value;\n                }\n            });\n        } catch (e) {\n            this.hubService.addHubClientErrorMessage(e, 'Table Edit Preview');\n        }\n    }\n\n    ngOnDestroy() {\n        if (this._subscription) { this._subscription.unsubscribe(); }\n    }\n\n    close() {\n        this.authService.navigateUp();\n    }\n}\n","<dexih-widget-section title=\"Preview Table\" [showExpandButton]=\"false\" [padding]=\"false\">\n    <ng-template #header>\n        <dexih-button-close (click)=\"close()\"></dexih-button-close>\n    </ng-template>\n        <preview-data [table]='table' [viewSource]='eDataObjectType.Table'></preview-data>\n</dexih-widget-section>","<dexih-widget-section title='Properties' [showExpandButton]=\"true\" [isExpanded]=\"isExpanded\" >\n        <form *ngIf=\"mainForm\" [formGroup]=\"mainForm\">\n            <fieldset>\n                <div class=\"form-row\">\n                    <section class=\"form-group col-md-4\">\n                        <form-select label=\"Connection\" formControlName=\"connectionKey\" [items]=\"connections\" itemKey=\"key\" itemName=\"name\"\n                            [errors]=\"formsService.formErrors.connectionKey\" iconClass=\"fa fa-database\" note='The connection for this table.'>\n                            <connection-edit-button [key]=\"mainForm.controls.connectionKey.value\"></connection-edit-button>\n                        </form-select>\n                    </section>\n\n                    <section class=\"form-group col-md-4\">\n                        <form-input [label]=\"entityType + ' Name'\" formControlName=\"name\" placeholder=\"Enter the physical name.\" iconClass=\"fa fa-list\"\n                            [errors]=\"formsService.formErrors.name\" note=\"The physical name of the underlying entity\">\n                        </form-input>\n                    </section>\n\n                    <section class=\"form-group col-md-4\" *ngIf=\"connectionReference?.connectionCategory == eConnectionCategory.SqlDatabase\">\n                        <form-input [label]=\"entityType + ' Schema'\" formControlName=\"schema\" placeholder=\"Enter the (database) schema name\" iconClass=\"fa fa-list\"\n                            [errors]=\"formsService.formErrors.schema\" note=\"The physical name of the database schema (if applicable).\">\n                        </form-input>\n                    </section>\n                </div>\n                \n                <section>\n                    <form-checkbox label=\"Specify a different logical name\" formControlName=\"useLogical\">\n                    </form-checkbox>\n                </section>\n\n                <section *ngIf=\"formsService.currentForm.value.useLogical\">\n                    <form-input label=\"Logical Name\" formControlName=\"logicalName\" placeholder=\"Enter the logical name.\" iconClass=\"fa fa-list\"\n                        [errors]=\"formsService.formErrors.logicalName\" note=\"The logical name is a short term to represent the table\">\n                    </form-input>\n                </section>\n\n                <section>\n                    <form-textarea label=\"Description\" formControlName=\"description\" [showMarkdown]=\"true\" placeholder=\"Enter the description.\"\n                        [errors]=\"formsService.formErrors.description\">\n                    </form-textarea>\n                </section>\n\n                <div *ngIf=\"connection?.purpose == eConnectionPurpose.Managed\" class=\"form-row\">\n                    <section class=\"form-group col-md-6\">\n                        <form-input label=\"Reject Table Name\" formControlName=\"rejectedTableName\" placeholder=\"Enter the rejected table name.\" iconClass=\"fa fa-list\"\n                            [errors]=\"formsService.formErrors.rejectedTableName\" note=\"The name of the table to send any records that could not be written to the primary table.\">\n                        </form-input>\n                    </section>\n                </div>\n\n                <section *ngIf=\"connectionReference?.connectionCategory == eConnectionCategory.SqlDatabase\">\n                    <form-select label=\"Table Type\" formControlName=\"tableType\" [errors]=\"formsService.formErrors.tableType\" [items]=\"eTableTypeItems\" itemKey=\"key\" itemName=\"name\">\n                    </form-select>\n                </section>\n\n                <section *ngIf=\"formsService.currentForm.controls.tableType.value === eTableType.Query\">\n                    <form-textarea label=\"Specify the sql query\" rows=\"15\" formControlName=\"queryString\" [hideToggle]=\"true\" placeholder=\"Sql Query\"\n                        [showPreview]=\"false\">\n                        <a *ngIf=\"runningSql == false\" href=\"javascript:void(0)\" (click)=\"test()\"> (\n                            <i class=\"fa fa-check-circle-o\"></i> Test) </a>\n                        <a *ngIf=\"runningSql == false\" href=\"javascript:void(0)\" (click)=\"reloadColumns()\"> (\n                            <i class=\"fa fa-refresh\"></i> Reload Columns) </a>\n                        <span *ngIf=\"runningSql == true\">\n                            <i class=\"fa fa-spin fa-refresh\"></i> (Busy... please wait) </span>\n                        <dexih-message [message]=\"sqlMessage\"></dexih-message>\n                    </form-textarea>\n                </section>\n\n                <section *ngIf=\"connectionReference?.connectionCategory == eConnectionCategory.Hub\">\n                    <form-input label=\"Source Connection Name\" formControlName=\"sourceConnectionName\" placeholder=\"Name of the source connection.\"\n                        iconClass=\"fa fa-list\" note=\"The name of the connection for this table in the source hub.\">\n                    </form-input>\n                </section>\n\n                <section>\n                    <form-checkbox label=\"Table is shared in the catalog to users with read access.\" formControlName=\"isShared\">\n                    </form-checkbox>\n                </section>\n\n            </fieldset>\n        </form>\n</dexih-widget-section>\n\n<div *ngIf=\"connectionReference?.connectionCategory == eConnectionCategory.WebService\">\n    <dexih-table-edit-rest [formService]='formsService' [connection]='connection' (onTableChanged)=\"onTableChanged($event)\"></dexih-table-edit-rest>\n</div>\n\n<div *ngIf=\"connection && ( connectionReference?.connectionCategory == eConnectionCategory.File || connection?.purpose !== eConnectionPurpose.Source )\">\n    <dexih-table-edit-file [formService]='formsService' [connection]='connection' [isFile]='connectionReference?.connectionCategory == eConnectionCategory.File' (onTableChanged)=\"onTableChanged($event)\"></dexih-table-edit-file>\n</div>\n","import { Component, OnInit, OnDestroy, Input } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { HubService } from '../../../hub.service';\nimport { Subscription, Observable, BehaviorSubject, combineLatest} from 'rxjs';\nimport { FormGroup, FormArray } from '@angular/forms';\nimport { HubFormsService } from '../../../hub.forms.service';\nimport { HubCache, deltaTypes, securityFlags } from '../../../hub.models';\nimport { eTableType, DexihConnection, ConnectionReference,\n    eConnectionCategory, DexihTableColumn, eConnectionPurpose, DexihTable, eTableTypeItems } from '../../../../shared/shared.models';\nimport { TypeCodes } from '../../../hub.remote.models';\nimport { CancelToken, Message } from '../../../../+auth/auth.models';\n\n@Component({\n\n    selector: 'dexih-table-edit-properties',\n    templateUrl: './table-edit-properties.component.html',\n})\nexport class TableEditPropertiesComponent implements OnInit, OnDestroy {\n    @Input() public formsService: HubFormsService;\n    @Input() public isExpanded = true;\n\n    // private connection: DexihConnection;\n\n    private _subscription: Subscription;\n    private _connectionSubscription: Subscription;\n    private cancelToken: CancelToken = new CancelToken();\n\n    public entityType = 'Table';\n\n    public canEdit = false;\n    public tableKey: number;\n\n    private hubCache: HubCache;\n    public action: string; // new or edit\n    public pageTitle: string;\n\n    public mainForm: FormGroup;\n\n    typeCodes = TypeCodes;\n    deltaTypes = deltaTypes;\n    securityFlags = securityFlags;\n    eTableType = eTableType;\n    eTableTypeItems = eTableTypeItems;\n\n    public sqlMessage: Message;\n\n    public connections: DexihConnection[];\n    public connection: DexihConnection;\n    public connectionReference: ConnectionReference;\n    eConnectionCategory = eConnectionCategory;\n\n    inputColumns: Array<DexihTableColumn>;\n\n    eConnectionPurpose = eConnectionPurpose;\n\n    public runningSql = false;\n\n    private _columnData = new BehaviorSubject<Array<DexihTableColumn>>(null);\n    columnData: Observable<Array<DexihTableColumn>> = this._columnData.asObservable();\n\n    constructor(\n        private hubService: HubService,\n        private route: ActivatedRoute    ) {\n    }\n\n    ngOnInit() {\n        try {\n            this._subscription = combineLatest(\n                this.route.data,\n                this.route.params,\n                this.hubService.getHubCacheObservable(),\n                this.formsService.getCurrentFormObservable(),\n                this.hubService.getRemoteLibrariesObservable(), // included to ensure correct connection reference when refreshing page.\n            ).subscribe(async result => {\n                let data = result[0];\n                this.hubCache = result[2];\n                this.mainForm = result[3];\n\n                this.action = data['action'];\n                this.pageTitle = data['pageTitle'];\n\n                if (this.hubCache && this.hubCache.isLoaded() && this.mainForm ) {\n                    this.connections = this.hubCache.hub.dexihConnections;\n                    this.connection = this.connections.find(c => c.key === this.mainForm.controls.connectionKey.value);\n                    this.connectionReference = await this.hubService.GetConnectionReference(this.connection);\n\n                    if (this._connectionSubscription) { this._connectionSubscription.unsubscribe(); }\n                    this._connectionSubscription = this.mainForm.controls.connectionKey.valueChanges.subscribe(async (connectionKey) => {\n                        this.connection = this.connections.find(c => c.key === connectionKey);\n                        this.connectionReference = await this.hubService.GetConnectionReference(this.connection);\n                    });\n                }\n\n            });\n        } catch (e) {\n            this.hubService.addHubClientErrorMessage(e, 'Table edit properties');\n        }\n    }\n\n    ngOnDestroy() {\n        if (this._subscription) { this._subscription.unsubscribe(); }\n        if (this._connectionSubscription) { this._connectionSubscription.unsubscribe(); }\n        this.cancelToken.cancel();\n    }\n\n    reloadColumns() {\n        this.runningSql = true;\n        this.hubService.importTables([this.mainForm.value], false, this.cancelToken).then(tables => {\n            if (!tables || tables.length === 0) { return; }\n\n            const table: DexihTable = tables[0];\n            const tableColumnsForm = <FormArray>this.formsService.currentForm.controls.dexihTableColumns;\n            while (tableColumnsForm.controls.length > 0) {\n                tableColumnsForm.removeAt(0);\n            }\n            table.dexihTableColumns.filter(c => c.isValid).forEach(column => {\n                tableColumnsForm.push(this.formsService.tableColumn(table.dexihTableColumns, column));\n            });\n            this.runningSql = false;\n        }).catch(() => this.runningSql = false);\n    }\n\n    test() {\n        this.runningSql = true;\n        this.hubService.doImport([this.mainForm.value], false, this.cancelToken).then(tables => {\n            let columns = tables[0].dexihTableColumns.map(c => c.name);\n            this.hubService.addHubSuccessMessage('The query was successful, and returned the following columns.  ' + columns.join(', '));\n            this.runningSql = false;\n        }).catch((reason) => {\n            this.runningSql = false;\n            this.sqlMessage = reason;\n            this.hubService.addHubMessage(reason);\n        });\n    }\n}\n","import { Component, Input, OnInit, OnChanges } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\n\n@Component({\n    selector: 'table-edit-input-column',\n    templateUrl: './table-edit-input-column.component.html'\n})\nexport class TableEditInputColumnComponent implements OnInit, OnChanges {\n    @Input() public columnForm: FormGroup = null;\n\n    constructor() {\n    }\n\n    ngOnInit() {\n    }\n\n    ngOnChanges() {\n    }\n\n    toggleInput($event) {\n    }\n}\n","<form [formGroup]=\"columnForm\" class=\"\">\n    <section>\n        <form-input \n        [label]=\"columnForm.value.name\" \n        formControlName=\"defaultValue\" \n        placeholder=\"Enter default value for the input column\" \n        iconClass=\"fa fa-dollar\">\n        </form-input>\n    </section>\n</form>","import { Component, OnInit, OnDestroy, Input, Output, EventEmitter } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { HubService } from '../../../hub.service';\nimport { Subscription, combineLatest} from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { Location } from '@angular/common';\nimport { FormControl, FormGroup, FormArray } from '@angular/forms';\nimport { HubFormsService } from '../../../hub.forms.service';\nimport { DexihConnection, DexihTable, eTypeCode, DexihTableColumn, eDeltaType } from '../../../../shared/shared.models';\nimport { HubCache, ConnectionTables, formatTypes, eCacheStatus } from '../../../hub.models';\nimport { CancelToken } from '../../../../+auth/auth.models';\n\n@Component({\n    selector: 'dexih-table-edit-rest',\n    templateUrl: './table-edit-rest.component.html'\n})\nexport class TableEditRestComponent implements OnInit, OnDestroy {\n    @Input() public formService: HubFormsService;\n    @Input() public connection: DexihConnection;\n\n    private _hubCacheSubscription: Subscription;\n    private _currentFormSubscription: Subscription;\n    private _restfulUrlSubscription: Subscription;\n    private cancelToken: CancelToken = new CancelToken();\n\n    private hubCache: HubCache;\n\n    tables: ConnectionTables[];\n    inputColumns: Array<FormGroup>;\n    inputTable: DexihTable = null;\n\n    formatTypes = formatTypes;\n    eTypeCode = eTypeCode;\n\n    constructor(private hubService: HubService, private route: ActivatedRoute, private router: Router, private location: Location) {\n    }\n\n    ngOnInit() {\n        // load the initial connection from the cache\n        this._hubCacheSubscription = this.hubService.getHubCacheObservable().subscribe(cache => {\n            if (cache && cache.status === eCacheStatus.Loaded) {\n\n                this.hubCache = cache;\n\n                this.tables = this.hubCache.getConnectionTables();\n\n            }\n        });\n\n        this._currentFormSubscription = this.formService.getCurrentFormObservable().subscribe( currentForm => {\n            // load the inputColumns\n            const columns = <FormArray>this.formService.currentForm.controls.dexihTableColumns;\n            this.inputColumns = <Array<FormGroup>>columns.controls.filter(c => c.value.isInput && c.value.isValid);\n\n            if (this._restfulUrlSubscription) { this._restfulUrlSubscription.unsubscribe(); }\n            this._restfulUrlSubscription = currentForm.controls.restfulUri.valueChanges\n                .pipe(debounceTime(500))\n                .subscribe(newValue => {\n                    this.updateInputColumns();\n                });\n        });\n\n    }\n\n    ngOnDestroy() {\n        if (this._hubCacheSubscription) { this._hubCacheSubscription.unsubscribe(); }\n        if (this._restfulUrlSubscription) { this._restfulUrlSubscription.unsubscribe(); }\n        if (this._currentFormSubscription) { this._currentFormSubscription.unsubscribe(); }\n        this.cancelToken.cancel();\n    }\n\n    hasChanged($event) {\n        // this.tableChanged = true;\n    }\n\n    importTable() {\n        let importTable = this.formService.currentForm.value;\n        let inputColumns = this.formService.currentForm.value.dexihTableColumns.filter(c => c.isInput && c.isValid);\n\n        // merge any input columns with columns already in the table\n        if (inputColumns) {\n            inputColumns.forEach(column => {\n                let importCol = importTable.dexihTableColumns.find(c => c.name === column.name);\n                if (importCol) {\n                    importCol.inputValue = column.inputValue;\n                } else {\n                    importCol = column;\n                    importTable.dexihTableColumns.push(importCol);\n                }\n            });\n        }\n\n        this.hubService.importTables([importTable], false, this.cancelToken)\n            .then(result => {\n                const columns = <FormArray>this.formService.currentForm.controls.dexihTableColumns;\n                while (columns.controls.length > 0) {\n                    columns.removeAt(0);\n                }\n\n                result[0].dexihTableColumns.forEach(column => {\n                    columns.push(this.formService.tableColumn(result[0].dexihTableColumns, column));\n                });\n            }).catch();\n    }\n\n    updateInputColumns() {\n        // use the regex to extract items in uri between { }.  These will be input columns\n        const regExp = /\\{([^}]+)\\}/g;\n\n        const columns = <FormArray>this.formService.currentForm.controls.dexihTableColumns;\n        const inputColumns = <Array<FormGroup>>columns.controls.filter(c => c.value.isInput && c.value.isValid);\n\n        inputColumns.forEach(item => {\n            const columnForm = <FormGroup>item;\n            columnForm.controls.isValid.setValue(false);\n        });\n        let match;\n        let position = -1000;\n\n        while ((match = regExp.exec(this.formService.currentForm.value.restfulUri))) {\n            let columnForm = <FormGroup>columns.controls.find(c => c.value.name === match[1] && c.value.isInput);\n\n            if (!columnForm) {\n                let col = new DexihTableColumn();\n\n                // add the basic properties\n                col.name = match[1];\n                col.isInput = true;\n                col.logicalName = match[1];\n                col.dataType = eTypeCode.String;\n                col.deltaType = eDeltaType.NaturalKey;\n                col.maxLength = 1024;\n                col.position = position++;\n                col.description = 'Url Parameter ' + match[1];\n\n                col.allowDbNull = true;\n                col.isUnique = false;\n                col.isValid = true;\n\n                columnForm = this.formService.tableColumn(columns.value, col);\n                columns.push(columnForm);\n            } else {\n                columnForm.controls.isValid.setValue(true);\n            }\n        }\n\n        position = 1;\n        columns.controls.filter(column => column.value.isValid) .sort((a, b) => a.value.position - b.value.position).forEach(column => {\n            (<FormGroup>column).controls.position.setValue(position++);\n        });\n\n        this.inputColumns = <Array<FormGroup>>columns.controls.filter(c => c.value.isInput && c.value.isValid);\n    }\n}\n","<div class=\"list-group-item list-group-item-info  rounded-0\">\n    <div class=\"d-flex flex-row\">\n        <h5>Web Service Properties</h5>\n    </div>\n</div>\n<div class=\"container mt-3 mb-3\">\n    <form *ngIf=\"formService?.currentForm\" [formGroup]=\"formService.currentForm\">\n\n        <section>\n            <form-input label=\"Web Service Uri String\" formControlName=\"restfulUri\" placeholder=\"Enter the uri.\" iconClass=\"fa fa-feed\"\n                [errors]=\"formService.formErrors.restfulUri\" [note]=\"'Specify the uri following the base path ' + connection.server +'.  To include input columns use {} in the uri definition (eg. GetWeather?City={CityName})'\">\n            </form-input>\n        </section>\n        <section>\n        </section>\n\n        <section>\n            <div *ngFor=\"let columnForm of inputColumns | isValidFilter\">\n                <table-edit-input-column [columnForm]=\"columnForm\"></table-edit-input-column>\n            </div>\n        </section>\n\n        <section>\n            <form-select label=\"Format Type\" formControlName=\"formatType\" [items]=\"formatTypes\" itemKey=\"key\" itemName=\"name\" iconClass=\"fa fa-database\"\n                note='The format of data.'>\n            </form-select>\n        </section>\n\n\n        <section *ngIf=\"formService.currentForm.value.formatType == eTypeCode.Text\">\n            <form-select label=\"File Format\" formControlName=\"fileFormatKey\" placeholder=\"File Format\" [errors]=\"formService.formErrors.fileFormatKey\"\n                [items]=\"hubCache.hub.dexihFileFormats\" itemKey=\"key\" itemName=\"name\" [enableFilter]=\"false\" note=\"Specify the file format to use, if not specified, defaults will be used.\">\n            </form-select>\n        </section>\n\n        <section *ngIf=\"formService.currentForm.value.formatType == eTypeCode.Json || formService.currentForm.value.formatType == eTypeCode.Xml\">\n            <form-input label=\"Optional: Web Service Row Path\" formControlName=\"rowPath\" placeholder=\"Enter the row path.\" iconClass=\"fa fa-feed\"\n                [errors]=\"formService.formErrors.rowPath\" note=\"Optional Json Path indicating where a row should be read from.\">\n            </form-input>\n        </section>\n\n        <section class=\"btn-toolbar\">\n            <dexih-button [busy]=\"formService.formSaving\" (click)=\"!formService.formSaving && importTable()\">Import </dexih-button>\n\n            <div *ngIf=\"formService.currentForm.value.formatType == eTypeCode.Json || formService.currentForm.value.formatType == eTypeCode.Xml\" class=\"input-group pl-1\">\n                <div  class=\"input-group-prepend\">\n                    <div class=\"input-group-text\">Max Import Levels</div>\n                </div>\n                <input class=\"form-control\" placeholder=\"Maximum levels...\" title=\"Maximum import levels\" formControlName=\"maxImportLevels\"\n                    style=\"width: 100%; max-width: 100px\">\n            </div>\n        </section>\n\n    </form>\n</div>","\nimport { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '../../shared/shared.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { TableEditPropertiesComponent } from './table-edit/table-edit-properties/table-edit-properties.component';\nimport { TableEditColumnsComponent } from './table-edit//table-edit-columns/table-edit-columns.component';\nimport { TableEditFileComponent } from './table-edit/table-edit-file/table-edit-file.component';\nimport { TableEditRestComponent } from './table-edit/table-edit-rest/table-edit-rest.component';\nimport { TableEditInputColumnComponent } from './table-edit//table-edit-rest/table-edit-input-column.component';\nimport { HubSharedModule } from '../hub.shared.module';\nimport { TableEditPreviewDataComponent } from './table-edit//table-edit-preview-data';\nimport { ColumnEditComponent, ColumnEditBaseComponent } from './column-edit';\nimport { ColumnEditBulkComponent } from './table-edit/column-edit-bulk/column-edit-bulk.component';\n@NgModule({\n    imports: [\n        SharedModule,\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        HubSharedModule\n    ],\n    declarations: [\n      TableEditPropertiesComponent,\n      TableEditColumnsComponent,\n      TableEditFileComponent,\n      TableEditRestComponent,\n      TableEditInputColumnComponent,\n      TableEditPreviewDataComponent,\n      ColumnEditComponent, ColumnEditBaseComponent,\n      ColumnEditBulkComponent\n    ],\n    exports: [\n      TableEditPropertiesComponent,\n      TableEditColumnsComponent,\n      TableEditFileComponent,\n      TableEditRestComponent,\n      TableEditInputColumnComponent,\n      TableEditPreviewDataComponent,\n      ColumnEditComponent, ColumnEditBaseComponent,\n      ColumnEditBulkComponent\n    ]\n})\nexport class TableSharedModule {\n    static forRoot(): ModuleWithProviders<TableSharedModule> {\n        return {\n            ngModule: TableSharedModule,\n        };\n    }\n}\n"]}