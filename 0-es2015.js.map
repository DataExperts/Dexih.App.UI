{"version":3,"sources":["./src/app/+hub/table/column-edit/column-edit-base.component.ts","./src/app/+hub/table/column-edit/column-edit-base.component.html","./src/app/+hub/table/column-edit/column-edit.component.ts","./src/app/+hub/table/column-edit/column-edit.component.html","./src/app/+hub/table/column-edit/index.ts","./src/app/+hub/table/table-edit/column-edit-bulk/column-edit-bulk.component.ts","./src/app/+hub/table/table-edit/column-edit-bulk/column-edit-bulk.component.html","./src/app/+hub/table/table-edit/table-edit-columns/table-edit-columns.component.ts","./src/app/+hub/table/table-edit/table-edit-columns/table-edit-columns.component.html","./src/app/+hub/table/table-edit/table-edit-file/table-edit-file.component.ts","./src/app/+hub/table/table-edit/table-edit-file/table-edit-file.component.html","./src/app/+hub/table/table-edit/table-edit-preview-data/index.ts","./src/app/+hub/table/table-edit/table-edit-preview-data/table-edit-preview-data.component.ts","./src/app/+hub/table/table-edit/table-edit-preview-data/table-edit-preview-data.component.html","./src/app/+hub/table/table-edit/table-edit-properties/table-edit-properties.component.ts","./src/app/+hub/table/table-edit/table-edit-properties/table-edit-properties.component.html","./src/app/+hub/table/table-edit/table-edit-rest/table-edit-input-column.component.ts","./src/app/+hub/table/table-edit/table-edit-rest/table-edit-input-column.component.html","./src/app/+hub/table/table-edit/table-edit-rest/table-edit-rest.component.ts","./src/app/+hub/table/table-edit/table-edit-rest/table-edit-rest.component.html","./src/app/+hub/table/table.shared.module.ts"],"names":[],"mappings":"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","file":"0-es2015.js","sourcesContent":["import { Component, Input, Output, EventEmitter, OnInit, OnDestroy } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { HubFormsService } from '../../hub.forms.service';\nimport { HubCache, deltaTypes, securityFlags} from '../../hub.models';\nimport { Subscription, combineLatest} from 'rxjs';\nimport { HubService } from '../../hub.service';\nimport { TypeCodes } from '../../hub.remote.models';\n\n@Component({\n    selector: 'column-edit-base',\n    templateUrl: './column-edit-base.component.html',\n})\nexport class ColumnEditBaseComponent implements OnInit, OnDestroy {\n    @Input() columnFormService: HubFormsService;\n    @Input() detailedView = true;\n\n    private _hubCacheSubscription: Subscription;\n\n    hubCache: HubCache;\n\n    typeCodes = TypeCodes;\n    deltaTypes = deltaTypes;\n    securityFlags = securityFlags;\n\n    constructor(private hubService: HubService) { }\n\n    ngOnInit() {\n        this._hubCacheSubscription = this.hubService.getHubCacheObservable().subscribe(cache => {\n            this.hubCache = cache;\n        });\n    }\n\n    ngOnDestroy() {\n        if (this._hubCacheSubscription) { this._hubCacheSubscription.unsubscribe(); }\n    }\n}\n","<form *ngIf=\"columnFormService.currentForm\" [formGroup]=\"columnFormService.currentForm\">\n    <fieldset>\n        <div class=\"form-row\">\n            <section class=\"form-group col-md-6\">\n                <form-input label=\"Group\" formControlName=\"columnGroup\" placeholder=\"Enter a column group name\" iconClass=\"fa fa-list\"\n                    [errors]=\"columnFormService.formErrors.columnGroup\" note=\"The group column grouping, used to distinguish duplicate column names when applying to structured data (such as json).\">\n                </form-input>\n            </section>\n            <section class=\"form-group col-md-6\">\n                    <form-input label=\"Column Name\" formControlName=\"name\" placeholder=\"Enter the column name.\" iconClass=\"fa fa-list\"\n                        [errors]=\"columnFormService.formErrors.name\" note=\"The physical column name in the underlying table\">\n                    </form-input>\n                </section>\n            </div>\n\n        <section>\n            <form-checkbox label=\"Specify a different logical name\" formControlName=\"useLogical\">\n            </form-checkbox>\n        </section>\n        \n        <section *ngIf=\"columnFormService.currentForm.value.useLogical\">\n            <form-input label=\"Logical Name\" formControlName=\"logicalName\" placeholder=\"Enter the logical name.\" iconClass=\"fa fa-list\"\n                [errors]=\"columnFormService.formErrors.logicalName\" note=\"The logical name is a short term to represent the column\">\n            </form-input>\n        </section>\n\n        <section *ngIf=\"detailedView\">\n            <form-textarea label=\"Description\" formControlName=\"description\" [showMarkdown]=\"true\" placeholder=\"Enter the description.\"\n                [errors]=\"columnFormService.formErrors.description\">\n            </form-textarea>\n        </section>\n\n        <div class=\"form-row\">\n            <section class=\"form-group col-md-4\">\n                <form-select label=\"Data Type\" formControlName=\"dataType\" [errors]=\"columnFormService.formErrors.dataType\" [items]=\"typeCodes\"\n                    itemKey=\"key\" itemName=\"name\">\n                </form-select>\n            </section>\n            <section class=\"form-group col-md-2\">\n                <form-input type=\"number\" label=\"Array Dimensions\" formControlName=\"rank\" [errors]=\"columnFormService.formErrors.rank\">\n                </form-input>\n            </section>\n            <section *ngIf=\"columnFormService.currentForm.value.isString\" class=\"form-group col-md-6\">\n                <form-input label=\"Max Length\" formControlName=\"maxLength\" placeholder=\"Max Length\" type=\"number\" [errors]=\"columnFormService.formErrors.maxLength\"\n                    note=\"Maximum string length (blank for unlimited)\">\n                </form-input>\n            </section>\n            <section *ngIf=\"columnFormService.currentForm.value.isNumber\" class=\"form-group col-md-3\">\n                <form-input label=\"Precision\" formControlName=\"precision\" placeholder=\"Precision\" type=\"number\" [errors]=\"columnFormService.formErrors.precision\">\n                </form-input>\n            </section>\n            <section *ngIf=\"columnFormService.currentForm.value.isNumber\" class=\"form-group col-md-3\">\n                <form-input label=\"Scale\" formControlName=\"scale\" placeholder=\"Scale\" type=\"number\" [errors]=\"columnFormService.formErrors.scale\">\n                </form-input>\n            </section>\n        </div>\n\n        <div *ngIf=\"detailedView\">\n\n            <section>\n                <form-checkbox label=\"Allow Nulls\" formControlName=\"allowDbNull\"></form-checkbox>\n            </section>\n\n            <section>\n                <form-checkbox label=\"Is Unicode\" formControlName=\"isUnicode\"></form-checkbox>\n            </section>\n\n            <section>\n                <form-checkbox label=\"Is an Input Column\" formControlName=\"isInput\"></form-checkbox>\n            </section>\n            <section>\n                <form-checkbox label=\"Is always incrementing column that can be used for change detection\" formControlName=\"isIncrementalUpdate\"></form-checkbox>\n            </section>\n\n            <div class=\"form-row\">\n                <section class=\"form-group col-md-6\">\n                    <form-select label=\"Delta Type\" formControlName=\"deltaType\" [errors]=\"columnFormService.formErrors.deltaType\" [items]=\"deltaTypes\"\n                        itemKey=\"key\" itemName=\"name\" note=\"How to treat the column when used to update target table.\">\n                    </form-select>\n                </section>\n                <section class=\"form-group col-md-6\">\n                    <form-select label=\"Security Flag\" formControlName=\"securityFlag\" [errors]=\"columnFormService.formErrors.securityFlag\" [items]=\"securityFlags\"\n                        itemKey=\"key\" itemName=\"name\" note=\"How to secure this column when reading data.\">\n                    </form-select>\n                </section>\n            </div>\n\n            <div class=\"form-row\">\n                <section class=\"form-group col-md-6\">\n                    <form-input label=\"Default Value\" formControlName=\"defaultValue\" placeholder=\"Default Value\" [errors]=\"columnFormService.formErrors.defaultValue\"\n                        note=\"Default value if unmapped or null.\">\n                    </form-input>\n                </section>\n                <section class=\"form-group col-md-6\" *ngIf=\"columnFormService.currentForm.controls.columnValidationKey\">\n                    <form-select label=\"Validation Rule\" formControlName=\"columnValidationKey\" [allowNullSelect]=\"true\" [items]=\"hubCache?.hub.dexihColumnValidations\"\n                        itemKey=\"key\" itemName=\"name\" note=\"Validation rule to apply.\">\n                        <columnValidation-edit-button [key]=\"columnFormService.currentForm.controls.columnValidationKey.value\"></columnValidation-edit-button>\n                    </form-select>\n                </section>\n            </div>\n        </div>\n    </fieldset>\n</form>\n","import { Component, OnInit, OnChanges, OnDestroy, Input, Output, EventEmitter } from '@angular/core';\nimport { HubCache, eCacheStatus,\n     } from '../../hub.models';\nimport { AuthService } from '../../../+auth/auth.service';\nimport { HubService } from '../../hub.service';\nimport { FormBuilder, FormGroup, FormArray } from '@angular/forms';\nimport { Subscription} from 'rxjs';\nimport { HubFormsService } from '../../hub.forms.service';\nimport { eDeltaType, DexihTableColumn, eTypeCode } from '../../../shared/shared.models';\n\n@Component({\n    selector: 'column-edit',\n    templateUrl: './column-edit.component.html',\n})\nexport class ColumnEditComponent implements OnInit, OnChanges, OnDestroy {\n    @Input() tableForm: FormGroup;\n    @Input() columnKey: number;\n    @Input() deltaType: eDeltaType;\n    @Input() detailedView = true;\n    @Output() isUpdated = new EventEmitter<boolean>();\n    @Output() changeColumn = new EventEmitter<number>();\n\n    private _hubCacheSubscription: Subscription;\n\n    private hubCache: HubCache;\n    public pageTitle: string;\n    public action: string;\n\n    public errorMessage: string;\n    public successMessage: string;\n    public savingTable: boolean;\n\n    public newColumnForm: FormGroup;\n    private originalColumn: DexihTableColumn;\n\n    public columns: any[];\n\n    public eTypeCode = eTypeCode;\n\n\n    public columnFormService: HubFormsService;\n\n    constructor(\n        private authService: AuthService,\n        private hubService: HubService,\n        fb: FormBuilder) {\n\n        // create a separate formService instance to manage the copied form\n        this.columnFormService = new HubFormsService(fb, hubService, authService);\n    }\n\n    ngOnInit() {\n        this._hubCacheSubscription = this.hubService.getHubCacheObservable().subscribe(hubCache => {\n            if (hubCache.status === eCacheStatus.Loaded) {\n                this.hubCache = hubCache;\n\n                if (!this.hubCache.isLoaded() || !this.tableForm) { return; }\n\n                this.initializeForm();\n\n                this.updateColumns();\n            }\n        });\n    }\n\n    ngOnChanges() {\n        if (this.tableForm && this.hubCache) {\n            this.initializeForm();\n            this.updateColumns();\n        }\n    }\n\n    ngOnDestroy() {\n        if (this._hubCacheSubscription) { this._hubCacheSubscription.unsubscribe(); }\n    }\n\n    initializeForm() {\n        let columnForm: FormGroup;\n        let columns = this.tableForm.value.dexihTableColumns;\n\n        if (this.columnKey) {\n            if (this.tableForm) {\n                this.originalColumn = columns.find(c => c.key === this.columnKey);\n                if (!this.originalColumn) {\n                    this.authService.navigateUp();\n                    return;\n                }\n                columnForm = this.columnFormService.tableColumn(columns, this.originalColumn);\n            }\n        } else {\n            let column = this.hubCache.newColumn(this.tableForm.value, this.deltaType);\n            if (column) {\n                columnForm = this.columnFormService.tableColumn(columns, column);\n            } else {\n                this.authService.informationDialog('Column not added.',\n                `The column with delta type ${this.deltaType} could not be inserted into the current table.`);\n            }\n        }\n        this.columnFormService.startForm(columnForm);\n    }\n\n    cancel() {\n        this.isUpdated.emit(false);\n    }\n\n    apply() {\n        const columnForm = this.columnFormService.currentForm;\n        const columnsArray = <FormArray>this.tableForm.controls.dexihTableColumns;\n\n        if (!this.originalColumn) {\n        columnsArray.push(columnForm);\n        } else {\n        const originalColumn = columnsArray.controls.find(c => c.value.key === columnForm.value.key);\n        originalColumn.setValue(columnForm.value);\n        }\n\n        this.tableForm.markAsDirty();\n    }\n\n    updateColumns() {\n        if (this.tableForm && this.originalColumn) {\n            this.columns = (<DexihTableColumn[]> this.originalColumn.childColumns)\n            .sort((a, b) => a.position - b.position)\n        }\n    }\n\n    navigateToColumn(col: DexihTableColumn) {\n        this.apply();\n        this.changeColumn.emit(col.key);\n    }\n\n    applyExit() {\n        if (this.columnFormService.hasChanged) {\n            this.apply();\n            this.isUpdated.emit(true);\n        }\n    }\n}\n","<d-widget-section title='Edit Column' [showExpandButton]=\"true\">\n<ng-template #header>\n        <dexih-invalid-form-details class=\"mr-1\" (click)=\"columnFormService.showErrors()\" [control]=\"columnFormService.currentForm\"></dexih-invalid-form-details>\n        <d-button-dropdown class=\"mr-1\" buttonClass=\"btn-primary\" text=\"Column\">\n            <li *ngFor=\"let col of columns\">\n                <a class=\"dropdown-item\" (click)=\"navigateToColumn(col)\">{{col.columnGroup ? col.columnGroup + \".\" : \"\"}}{{col.name}}</a>\n            </li>\n        </d-button-dropdown>\n        <d-button-apply class=\"mr-1\" [disabled]=\"!columnFormService?.hasChanged\" (click)=\"applyExit()\"></d-button-apply>\n        <d-button-cancel (click)=\"cancel()\"></d-button-cancel>\n</ng-template>\n\n<column-edit-base [columnFormService]=\"columnFormService\" [detailedView]=\"detailedView\"></column-edit-base>\n</d-widget-section>\n\n<table-edit-columns *ngIf=\"columnFormService?.currentForm?.controls.dataType.value === eTypeCode.Node\" [tableForm]='tableForm' [parentColumnForm]=\"columnFormService.currentForm\"></table-edit-columns>\n","export * from './column-edit.component';\nexport * from './column-edit-base.component';\n","import { Component, OnInit, Input, Output, EventEmitter, OnDestroy } from '@angular/core';\nimport { FormGroup, FormArray } from '@angular/forms';\nimport {  deltaTypes, securityFlags, HubCache } from '../../../hub.models';\nimport { FormsService } from '../../../../shared/forms/forms.service';\nimport { HubFormsService } from '../../../hub.forms.service';\nimport { TypeCodes } from '../../../hub.remote.models';\nimport { DexihTableColumn } from '../../../../shared/shared.models';\nimport { HubService } from '../../../hub.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n    selector: 'column-edit-bulk',\n    templateUrl: 'column-edit-bulk.component.html'\n})\n\nexport class ColumnEditBulkComponent implements OnInit, OnDestroy {\n    @Input() columns: DexihTableColumn[];\n    @Input() columnsFormArray: FormArray;\n\n    @Output() updated = new EventEmitter();\n\n    subscription: Subscription;\n\n    public properties = [\n        {name: 'Group Name', property: 'group'},\n        {name: 'Data Type', property: 'dataType'},\n        {name: 'Delta Type', property: 'deltaType'},\n        {name: 'Security Flag', property: 'securityFlag'},\n        {name: 'Default Value', property: 'defaultValue'},\n        {name: 'Validation Rule', property: 'validationRule'},\n        {name: 'Allow DbNull', property: 'allowDbNull'},\n        {name: 'Is Input', property: 'isInput'},\n        {name: 'Is Unicode', property: 'isUnicode'},\n    ];\n\n    hubCache: HubCache;\n    property: string;\n    bulkColumn: FormGroup;\n    typeCodes = TypeCodes;\n    deltaTypes = deltaTypes;\n    securityFlags = securityFlags;\n\n    constructor(private hubService: HubService,\n        private formsService: HubFormsService) { }\n\n    ngOnInit() {\n        this.bulkColumn = this.formsService.tableColumn([], new DexihTableColumn());\n\n        this.subscription = this.hubService.getHubCacheObservable().subscribe(hubCache => {\n            this.hubCache = hubCache;\n        });\n    }\n\n    ngOnDestroy() {\n        if (this.subscription) {this.subscription.unsubscribe(); }\n    }\n\n    getColumnForm(column: DexihTableColumn): FormGroup {\n        return <FormGroup> this.columnsFormArray.controls.find((c: FormGroup) => c.controls.key.value === column.key);\n    }\n\n    applyBulkEdit() {\n\n        let bulkColumn = <DexihTableColumn> this.bulkColumn.value;\n        this.columns.forEach(column => {\n            let columnForm = this.getColumnForm(column);\n            if (!columnForm) { return; }\n\n            switch (this.property) {\n                case 'group':\n                    columnForm.controls.columnGroup.setValue(bulkColumn.columnGroup);\n                    break;\n                case 'dataType':\n                    columnForm.controls.dataType.setValue(bulkColumn.dataType);\n                    columnForm.controls.maxLength.setValue(bulkColumn.maxLength);\n                    columnForm.controls.rank.setValue(bulkColumn.rank);\n                    columnForm.controls.precision.setValue(bulkColumn.precision);\n                    columnForm.controls.scale.setValue(bulkColumn.scale);\n                    break;\n                case 'deltaType':\n                    columnForm.controls.deltaType.setValue(bulkColumn.deltaType);\n                    break;\n                case 'securityFlag':\n                    columnForm.controls.securityFlag.setValue(bulkColumn.securityFlag);\n                    break;\n                case 'defaultValue':\n                    columnForm.controls.defaultValue.setValue(bulkColumn.defaultValue);\n                    break;\n                case 'validationRule':\n                    columnForm.controls.columnValidationKey.setValue(bulkColumn.columnValidationKey);\n                    break;\n                case 'allowDbNull':\n                    columnForm.controls.allowDbNull.setValue(bulkColumn.allowDbNull);\n                    break;\n                case 'isUnicode':\n                    columnForm.controls.isUnicode.setValue(bulkColumn.isUnicode);\n                    break;\n                case 'isInput':\n                    columnForm.controls.isInput.setValue(bulkColumn.isInput);\n                    break;\n            }\n        });\n        this.updated.emit();\n      }\n\n      cancel() {\n          this.updated.emit();\n      }\n\n      setAllowDbNull(value: boolean) {\n        this.columns.forEach(column => {\n            let columnForm = this.getColumnForm(column);\n            columnForm.controls.allowDbNull.setValue(value);\n        });\n      }\n\n      setIsInput(value: boolean) {\n        this.columns.forEach(column  => {\n            let columnForm = this.getColumnForm(column);\n            columnForm.controls.isInput.setValue(value);\n        });\n      }\n\n      setIsUnicode(value: boolean) {\n        this.columns.forEach(column  => {\n            let columnForm = this.getColumnForm(column);\n            columnForm.controls.isUnicode.setValue(value);\n        });\n      }\n}\n","<d-widget title=\"Update columns\" headerClass=\"text-white bg-primary\">\n<form [formGroup]=\"bulkColumn\">\n    <section class=\"form-group col-md-4\">\n        <form-select label=\"Property\" [(ngModel)]=\"property\" [ngModelOptions]=\"{standalone: true}\" [items]=\"properties\" itemKey=\"property\"\n            itemName=\"name\">\n        </form-select>\n    </section>\n    <div *ngIf=\"property=='dataType'\">\n        <section class=\"form-group col-md-4\">\n            <form-select label=\"Data Type\" formControlName=\"dataType\" [items]=\"typeCodes\" itemKey=\"key\"\n                itemName=\"name\">\n            </form-select>\n        </section>\n        <section class=\"form-group col-md-2\">\n            <form-input type=\"number\" label=\"Array Dimensions\" formControlName=\"rank\">\n            </form-input>\n        </section>\n        <section *ngIf=\"bulkColumn.value.isString\" class=\"form-group col-md-6\">\n            <form-input label=\"Max Length\" formControlName=\"maxLength\" placeholder=\"Max Length\"\n                type=\"number\" note=\"Maximum string length (blank for unlimited)\">\n            </form-input>\n        </section>\n        <section *ngIf=\"bulkColumn.value.isNumber\" class=\"form-group col-md-3\">\n            <form-input label=\"Precision\" formControlName=\"precision\" placeholder=\"Precision\"\n                type=\"number\">\n            </form-input>\n        </section>\n        <section *ngIf=\"bulkColumn.value.isNumber\" class=\"form-group col-md-3\">\n            <form-input label=\"Scale\" formControlName=\"scale\" placeholder=\"Scale\" type=\"number\">\n            </form-input>\n        </section>\n    </div>\n\n    <div *ngIf=\"property=='group'\" >\n            <section class=\"form-group col-md-6\">\n        <form-input label=\"Group\" formControlName=\"columnGroup\" placeholder=\"Enter a column group name\"\n            iconClass=\"fa fa-list\"\n            note=\"The group column grouping, used to distinguish duplicate column names when applying to structured data (such as json).\">\n        </form-input>\n            </section>\n    </div>\n    <div *ngIf=\"property=='securityFlag'\" >\n        <section class=\"form-group col-md-6\">\n            <form-select label=\"Security Flag\" formControlName=\"securityFlag\" [items]=\"securityFlags\"\n                itemKey=\"key\" itemName=\"name\" note=\"How to secure this column when reading data.\">\n            </form-select>\n        </section>\n    </div>\n    <div *ngIf=\"property=='deltaType'\" >\n        <section class=\"form-group col-md-6\">\n            <form-select label=\"Delta Type\" formControlName=\"deltaType\" [items]=\"deltaTypes\"\n                itemKey=\"key\" itemName=\"name\"\n                note=\"How to treat the column when used to update target table.\">\n            </form-select>\n        </section>\n    </div>\n    <div *ngIf=\"property=='defaultValue'\" >\n        <section class=\"form-group col-md-6\">\n            <form-input label=\"Default Value\" formControlName=\"defaultValue\" placeholder=\"Default Value\"\n                note=\"Default value if unmapped or null.\">\n            </form-input>\n        </section>\n    </div>\n    <div *ngIf=\"property=='validationRule'\" >\n        <section class=\"form-group col-md-6\">\n            <form-select label=\"Validation Rule\" formControlName=\"columnValidationKey\"\n                [allowNullSelect]=\"true\" [items]=\"hubCache?.hub.dexihColumnValidations\" itemKey=\"key\"\n                itemName=\"name\" note=\"Validation rule to apply.\">\n                <columnValidation-edit-button [key]=\"bulkColumn.controls.columnValidationKey.value\"></columnValidation-edit-button>\n            </form-select>\n        </section>\n    </div>\n    <div *ngIf=\"property=='allowDbNull'\">\n        <section class=\"form-group col-md-6\">\n            <form-checkbox label=\"Allow Nulls\" formControlName=\"allowDbNull\"></form-checkbox>\n        </section>\n    </div>\n    <div *ngIf=\"property=='isInput'\">\n        <section class=\"form-group col-md-6\">\n            <form-checkbox label=\"Is an Input Column\" formControlName=\"isInput\"></form-checkbox>\n        </section>\n    </div>\n    <div *ngIf=\"property=='isUnicode'\">\n        <section class=\"form-group col-md-6\">\n            <form-checkbox label=\"Is Unicode\" formControlName=\"isUnicode\"></form-checkbox>\n        </section>\n    </div>\n</form>\n    <ng-template #footer>\n        <d-button-apply class=\"mr-1\" (click)=\"applyBulkEdit(items)\"></d-button-apply>\n        <d-button-cancel class=\"mr-1\" (click)=\"cancel()\"></d-button-cancel>\n    </ng-template>\n</d-widget>\n\n\n\n\n\n","import { Component, OnInit, OnChanges, OnDestroy, Input } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { HubService } from '../../../hub.service';\nimport { Subscription, Observable, BehaviorSubject} from 'rxjs';\nimport { FormGroup, FormArray } from '@angular/forms';\nimport { HubFormsService } from '../../../hub.forms.service';\nimport { HubCache, deltaTypes, securityFlags, eCacheStatus } from '../../../hub.models';\nimport { DexihTableColumn, eConnectionPurpose } from '../../../../shared/shared.models';\n\n@Component({\n\n    selector: 'table-edit-columns',\n    templateUrl: './table-edit-columns.component.html',\n})\nexport class TableEditColumnsComponent implements OnInit, OnChanges, OnDestroy {\n    @Input() tableForm: FormGroup;\n    @Input() parentColumnForm: FormGroup;\n\n    private _hubCacheSubscription: Subscription;\n    private _tableFormSubscription: Subscription;\n\n    public entityType = 'Table';\n\n    public canEdit = false;\n    public tableKey: number;\n\n    private hubCache: HubCache;\n    public action: string; // new or edit\n    public pageTitle: string;\n\n    public mainForm: FormGroup;\n\n    private deltaTypes = deltaTypes;\n    private securityFlags = securityFlags;\n    public showBulkEdit = false;\n\n    inputColumns: Array<DexihTableColumn>;\n\n    eConnectionPurpose = eConnectionPurpose;\n\n    columns = [\n        { name: 'position', title: '#', format: ''},\n        { name: 'name', title: 'Column Name', format: '', class: 'nameClass', tooltip: 'description'},\n        { name: 'logicalName', title: 'Logical Name', format: 'Md', footer: 'description', class: 'logicalNameClass'},\n        { name: 'isInput', title: 'Input?', format: 'Boolean'},\n        { name: 'dataType', title: 'Data Type', format: ''},\n        { name: 'allowDbNull', title: 'Null?', format: 'Boolean'},\n        { name: 'deltaType', title: 'Delta Type', format: ''},\n        { name: 'defaultValue', title: 'Default Value', format: ''},\n        { name: 'columnValidation', title: 'Column Validation', format: ''},\n        { name: 'isIncrementalUpdate', title: 'Is Incremental', format: 'Boolean'},\n        { name: 'securityFlag', title: 'Security Flag', format: ''},\n        { name: 'updateDate', title: 'Last Modified', format: 'Calendar'},\n    ];\n\n    private _columnData = new BehaviorSubject<Array<DexihTableColumn>>(null);\n    columnData: Observable<Array<DexihTableColumn>> = this._columnData.asObservable();\n\n    constructor(\n        private hubService: HubService,\n        public formsService: HubFormsService,\n        private route: ActivatedRoute,\n        private router: Router) {\n    }\n\n    ngOnInit() {\n        // load the initial connection from the cache\n        this._hubCacheSubscription = this.hubService.getHubCacheObservable().subscribe(cache => {\n            if (cache && cache.status === eCacheStatus.Loaded) {\n                this.hubCache = cache;\n                this.updateColumnData();\n            }\n        });\n    }\n\n    ngOnChanges() {\n        if (this._tableFormSubscription) { this._tableFormSubscription.unsubscribe(); }\n        if (this.formsService.currentForm) {\n            this._tableFormSubscription = this.formsService.currentForm.valueChanges.subscribe(() => this.updateColumnData());\n        }\n        this.updateColumnData();\n    }\n\n    ngOnDestroy() {\n        if (this._hubCacheSubscription) { this._hubCacheSubscription.unsubscribe(); }\n        if (this._tableFormSubscription) { this._tableFormSubscription.unsubscribe(); }\n    }\n\n    updateColumnData() {\n        if (this.hubCache && this.formsService.currentForm) {\n            let tableData = [];\n\n            let columns: FormArray;\n\n            if (this.parentColumnForm) {\n                columns = <FormArray>this.parentColumnForm.controls.childColumns;\n            } else {\n                columns = <FormArray>this.formsService.currentForm.controls.dexihTableColumns;\n            }\n\n            columns.controls\n                .filter(c => c.value.isValid)\n                .sort((a, b) => a.value.position - b.value.position)\n                .forEach(column => {\n                    let columnForm = <FormGroup>column;\n                    tableData.push({\n                        key: column.value.key,\n                        position: column.value.position,\n                        name: (column.value.columnGroup ? column.value.columnGroup + '.' : '') + column.value.name,\n                        nameClass: (columnForm.controls.name.valid ? '' : 'dexih-state-error'),\n                        description: column.value.description,\n                        isInput: column.value.isInput,\n                        dataType: this.hubCache.dataTypeToString(column.value),\n                        allowDbNull: column.value.allowDbNull,\n                        logicalName: column.value.logicalName,\n                        logicalNameClass: (columnForm.controls.logicalName.valid ? '' : 'dexih-error-icon'),\n                        deltaType: this.deltaTypes.find(c => c.key === column.value.deltaType).name,\n                        defaultValue: column.value.defaultValue,\n                        columnValidation: this.hubCache.getColumnValidation(column.value.columnValidationKey).name,\n                        isIncrementalUpdate: column.value.isIncrementalUpdate,\n                        securityFlag: this.securityFlags.find(c => c.key === column.value.securityFlag).name,\n                        updateDate: column.value.updateDate,\n                    });\n                });\n            this._columnData.next(tableData);\n        } else {\n            this._columnData.next(null);\n        }\n    }\n\n  deleteColumn(column: DexihTableColumn) {\n      this.deleteSelected([column]);\n  }\n\n  deleteSelected(columns: Array<DexihTableColumn>) {\n      let columnsArray = <FormArray>this.formsService.currentForm.controls.dexihTableColumns;\n\n    columns.forEach(column => {\n        let index = columnsArray.controls.findIndex(c => c.value.key === column.key);\n        columnsArray.removeAt(index);\n    });\n    // this._columnData.next(this.table.dexihTableColumns.filter(c => c.isValid));\n  }\n\n  newColumn() {\n    this.router.navigate(['column'], { relativeTo: this.route.parent });\n  }\n\n  editColumn(column: DexihTableColumn) {\n    this.router.navigate(['column', column.key], { relativeTo: this.route.parent });\n  }\n\n  columnSortChange(items: Array<any>) {\n        let columnsArray = <FormArray>this.formsService.currentForm.controls.dexihTableColumns;\n      let position = 1;\n      items.forEach(c => {\n        let column = <FormGroup>columnsArray.controls.find(control => control.value.key === c.key);\n        column.controls.position.setValue(position++);\n      });\n\n      this.updateColumnData();\n  }\n}\n","<d-widget-section title='Columns' [showExpandButton]=\"true\" [padding]=\"false\">\n    <d-table [enableMultiSelect]=\"true\" [enableStickyToolbar]=\"true\"  [toolbarZIndex]=\"100\" [enableManualSort]=\"true\" (onSortChanged)=\"columnSortChange($event)\"\n        sortColumn=\"position\" [columns]=\"columns\" [dataObservable]=\"columnData\" (rowClick)=\"editColumn($event)\">\n        <ng-template #selectedItemsAction select=\"selectedItemsAction\" let-items=\"items\">\n            <d-button-delete (click)=\"deleteSelected(items)\" title=\"Delete selected columns\" class=\"mr-1\"></d-button-delete>\n            <d-button iconClass=\"fa fa-th-list\" class=\"mr-1\" (click)=\"showBulkEdit=!showBulkEdit\">\n                {{showBulkEdit ? 'Hide Bulk Edit' : 'Show Bulk Edit'}} </d-button>\n        </ng-template>\n\n        <ng-template #tableHeader let-items=\"items\">\n            <column-edit-bulk *ngIf=\"formsService.currentForm && showBulkEdit && items.length > 0\" [columns]=\"items\"\n                [columnsFormArray]=\"formsService.currentForm.controls.dexihTableColumns\" (updated)=\"showBulkEdit = false\" class=\"mr-1\"></column-edit-bulk>\n        </ng-template>\n\n        <ng-template #actions select=\"actionsTemplate\" let-items=\"items\">\n            <d-button-new (click)=\"newColumn()\" title=\"Create a new column\" class=\"mr-1\"></d-button-new>\n        </ng-template>\n\n        <ng-template #selectedItemAction select=\"selectedItemAction\" let-item=\"item\" class=\"mr-1\">\n            <d-button-edit (click)=\"editColumn(item)\" title=\"Edit selected column\" class=\"mr-1\"></d-button-edit>\n        </ng-template>\n\n    </d-table>\n\n</d-widget-section>","import { Component, OnInit, OnDestroy, Input } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { AuthService } from '../../../../+auth/auth.service';\nimport { HubService } from '../../../hub.service';\nimport { Subscription} from 'rxjs';\nimport { Location } from '@angular/common';\nimport { FormArray } from '@angular/forms';\nimport { HubFormsService } from '../../../hub.forms.service';\nimport { DexihConnection, DexihFileFormat, eTypeCode, DexihTable, DexihTableColumn, ConnectionReference } from '../../../../shared/shared.models';\nimport { HubCache, formatTypes } from '../../../hub.models';\nimport { CancelToken } from '../../../../+auth/auth.models';\n\n@Component({\n\n    selector: 'dexih-table-edit-file',\n    templateUrl: './table-edit-file.component.html'\n})\nexport class TableEditFileComponent implements OnInit, OnDestroy {\n    @Input() public connection: DexihConnection;\n    @Input() public isFile = false;\n    @Input() public formService: HubFormsService;\n\n    public hasBaseDropZoneOver = false;\n\n    public updatingTable = false;\n\n    private _subscription: Subscription;\n    public hubCache: HubCache;\n    public fileFormats: DexihFileFormat[];\n\n    filesSubdirectory: string;\n\n    formatTypes = formatTypes;\n    eTypeCode = eTypeCode;\n\n    public cancelToken: CancelToken = new CancelToken();\n\n    constructor(private authService: AuthService,\n        private hubService: HubService) {\n\n    }\n\n    ngOnInit() {\n        try {\n            this._subscription = this.hubService.getHubCacheObservable().subscribe(result => {\n                this.hubCache = result;\n            });\n        } catch (e) {\n            this.hubService.addHubClientErrorMessage(e, 'Table Edit File');\n        }\n    }\n\n    ngOnDestroy() {\n        if (this._subscription) { this._subscription.unsubscribe(); }\n        this.cancelToken.cancel();\n    }\n\n    public filesDrop(files: any) {\n        this.doImport(files[0]);\n    }\n\n    public uploadFile(event) {\n        let files = event.srcElement.files;\n        this.doImport(files[0]);\n    }\n\n    public doImport(file: File) {\n\n        if (this.formService.currentForm.value.fileFormat) {\n            this.formService.currentForm.value.fileFormatKey = this.formService.currentForm.value.fileFormat.fileFormatKey;\n        }\n\n        if (file.size > 100000) {\n            if (file.type === 'text/csv' || file.type === 'text/plain') {\n                file = new File([file.slice(0, 100000) ], file.name);\n            } else {\n                // tslint:disable-next-line:max-line-length\n                this.hubService.addHubErrorMessage(`The file size ${file.size}b exceeded the maximum of 100,000b.  Submit a smaller sample file, or a plain text file (which will be trimmed automatically) to proceed.`);\n                return;\n            }\n        }\n\n        const form: FormData = new FormData();\n        form.append('file', file, file.name);\n        form.append('hubKey', this.hubCache.hub.hubKey.toString());\n        form.append('table', this.authService.JsonNoNulls(this.formService.currentForm.value));\n        form.append('connectionKey', this.connection.key.toString());\n        form.append('save', 'false');\n\n        let remoteAgent = this.hubService.getRemoteAgentCurrent();\n\n        this.authService.postFormRemoteGetKey('/api/Hub/ImportFileFormat', form, remoteAgent, this.cancelToken)\n            .then(key => {\n                this.authService.getRemoteData<DexihTable[]>(remoteAgent, key, this.cancelToken, 'download').then(importedTables => {\n                    let importedTable = importedTables[0];\n                    if (importedTable.entityStatus.lastStatus.toString() === 'Error') {\n                        this.hubService.addHubErrorMessage(importedTable.entityStatus.message);\n                    }\n\n                    this.updateColumns(importedTable.dexihTableColumns);\n                });\n\n        }).catch(reason => {\n            if (reason) {\n                this.hubService.addHubMessage(reason);\n            } else {\n                // tslint:disable-next-line:max-line-length\n                this.hubService.addHubErrorMessage('The file upload failed.  This may be due to the file being too large, try making the sample file smaller (headings only) and upload again.')\n            }\n        });\n    }\n\n    import() {\n        this.hubService.importTables([this.formService.currentForm.value], false, this.cancelToken).then(tables => {\n            if (tables && tables.length > 0) {\n                this.updateColumns(tables[0].dexihTableColumns);\n            }\n        }).catch(reason => {\n            if (reason) {\n                this.hubService.addHubMessage(reason);\n            } else {\n                // tslint:disable-next-line:max-line-length\n                this.hubService.addHubErrorMessage('The file upload failed.  This may be due to the file being too large, try making the sample file smaller (headings only) and upload again.')\n            }\n        });\n    }\n\n    updateColumns(columns: DexihTableColumn[]) {\n        let tableColumnsForm = <FormArray>this.formService.currentForm.controls.dexihTableColumns;\n\n        // remove existing columns.\n        const count = tableColumnsForm.controls.length;\n        for (let i = 0; i <= count; i++) {\n            tableColumnsForm.removeAt(0);\n        }\n        columns.filter(c => c.isValid).forEach(column => {\n            tableColumnsForm.push(this.formService.tableColumn(tableColumnsForm.value, column));\n        });\n    }\n}\n","<d-widget-section title='File Properties' [showExpandButton]=\"true\" [padding]=\"true\">\n\n    <form *ngIf=\"formService?.currentForm\" [formGroup]=\"formService.currentForm\">\n        <ng-template [ngIf]=\"isFile\">\n            <section>\n                <form-input label=\"Files Subdirectory\" formControlName=\"fileRootPath\" placeholder=\"Enter the file path name.\" iconClass=\"fa fa-file\"\n                    [errors]=\"formService.formErrors.fileRootPath\" [note]=\"'Specify the subdirectory.  This will be the connection directory (' + connection.server + ') plus the path specified.'\">\n                </form-input>\n            </section>\n\n            <section>\n                <form-input label=\"File Match Pattern\" formControlName=\"fileMatchPattern\" placeholder=\"Enter the file path.\" iconClass=\"fa fa-file\"\n                    [errors]=\"formService.formErrors.fileMatchPattern\" note=\"Specify the file pattern to use to match files when bulk uploading.  Patterns can include wildcards */?, leave blank for all files.\">\n                </form-input>\n            </section>\n\n            <section>\n                <form-checkbox label=\"Auto manage files\" formControlName=\"autoManageFiles\" note=\"Files loaded from the incoming directory, and moved to the processed or rejected directories when they are loaded by a datalink.  If not checked source files will be left untouched after a load.\">\n                </form-checkbox>\n            </section>\n\n            <div *ngIf=\"formService.currentForm.value.autoManageFiles \">\n\n                <section>\n                    <form-checkbox label=\"Specify custom file paths for auto-managed files\" formControlName=\"useCustomFilePaths\" [note]=\"'If custom paths are not specified files will be read/written to the directory: ' + connection.server + '/' + formService.currentForm.value.name + '/'\">\n                    </form-checkbox>\n                </section>\n\n                <div *ngIf=\"formService.currentForm.value.useCustomFilePaths\">\n\n                    <section>\n                        <form-input label=\"Incoming subdirectory\" formControlName=\"fileIncomingPath\" placeholder=\"Enter the file path.\" iconClass=\"fa fa-file\"\n                            [errors]=\"formService.formErrors.fileIncomingPath\" note=\"Specify the sub-directory for incoming files\">\n                        </form-input>\n                    </section>\n\n                    <section>\n                        <form-input label=\"Outgoing subdirectory\" formControlName=\"fileOutgoingPath\" placeholder=\"Enter the file path.\" iconClass=\"fa fa-file\"\n                            [errors]=\"formService.formErrors.fileOutgoingPath\" note=\"Specify the sub-directory for outgoing (written) files\">\n                        </form-input>\n                    </section>\n\n                    <section>\n                        <form-input label=\"Processed subdirectory\" formControlName=\"fileProcessedPath\" placeholder=\"Enter the file path.\" iconClass=\"fa fa-file\"\n                            [errors]=\"formService.formErrors.fileProcessedPath\" note=\"Specify the sub-directory for processed files\">\n                        </form-input>\n                    </section>\n                    <section>\n                        <form-input label=\"Rejected subdirectory\" formControlName=\"fileRejectedPath\" placeholder=\"Enter the file path.\" iconClass=\"fa fa-file\"\n                            [errors]=\"formService.formErrors.fileRejectedPath\" note=\"Specify the sub-directory for rejected files\">\n                        </form-input>\n                    </section>\n\n                </div>\n            </div>\n        </ng-template>\n        <section>\n            <form-select label=\"Format Type\" formControlName=\"formatType\" [items]=\"formatTypes\" itemKey=\"key\" itemName=\"name\" iconClass=\"fa fa-database\"\n                note='The format of data.'>\n            </form-select>\n        </section>\n\n        <section *ngIf=\"formService.currentForm.value.formatType == eTypeCode.Text\">    \n            <form-select label=\"File Format\" formControlName=\"fileFormatKey\" placeholder=\"File Format\" [errors]=\"formService.formErrors.fileFormatKey\"\n                [items]=\"hubCache.hub.dexihFileFormats\" itemKey=\"key\" itemName=\"name\" [enableFilter]=\"false\" note=\"Specify the file format to use, if not specified, a csv (command separated) format will be used.\"\n                [allowNullSelect]=\"true\" selectNullMessage=\"Use default (csv) format\">\n                <a routerLink=\"../fileFormat-new\">(<i class=\"fa fa-sticky-note-o\"></i> New Format )</a>\n            </form-select>\n        </section>\n\n        <section *ngIf=\"formService.currentForm.value.formatType == eTypeCode.Json || formService.currentForm.value.formatType == eTypeCode.Xml\">\n            <form-input label=\"Optional: Web Service Row Path\" formControlName=\"rowPath\" placeholder=\"Enter the row path.\" iconClass=\"fa fa-feed\"\n                [errors]=\"formService.formErrors.rowPath\" note=\"Optional Json Path indicating where a row should be read from.\">\n            </form-input>\n        </section>\n\n        <section>\n            <label class=\"label\">Add a sample file which will be used to determine column names.\n                <a  href=\"javascript:void(0)\" (click)=\"import()\">(<i class=\"fa fa-download\"></i> Import directly from source )</a>\n            </label>\n\n            <div class=\"well my-drop-zone\" dropZone [requireFiles]=\"true\" (dropFiles)=\"filesDrop($event)\" dropAllowedClass=\"nv-file-over\">\n                Drop Sample File Here\n                <div class=\"custom-file w-25 float-right\">\n                    <input type=\"file\" class=\"custom-file-input\" (change)=\"uploadFile($event)\" onclick=\"this.value=null\">\n                    <label class=\"custom-file-label\" for=\"inputGroupFile01\">Choose file</label>\n                </div>\n            </div>\n\n            <br/>\n            <d-button-refresh *ngIf=\"uploader?.queue?.length == 1\" (click)=\"importTable()\" text='Import Table Columns' [busy]=\"updatingTable\"></d-button-refresh>\n            <section>\n                <form-input label=\"Max Import Levels\" formControlName=\"maxImportLevels\" placeholder=\"Enter the maximum node levels to query the json structure.\" iconClass=\"fa fa-file\"\n                    [errors]=\"formService.formErrors.maxImportLevels\" note=\"Enter the maximum levels to query the json file.\">\n                </form-input>\n            </section>\n        </section>\n    </form>\n</d-widget-section>","export { TableEditPreviewDataComponent } from './table-edit-preview-data.component';\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { HubService } from '../../../hub.service';\nimport { AuthService } from '../../../../+auth/auth.service';\nimport { Subscription, combineLatest} from 'rxjs';\nimport { ActivatedRoute } from '@angular/router';\nimport { HubFormsService } from '../../../hub.forms.service';\nimport { DexihTable, eDataObjectType } from '../../../../shared/shared.models';\n\n@Component({\n\n    selector: 'table-edit-preview-data',\n    templateUrl: './table-edit-preview-data.component.html'\n})\nexport class TableEditPreviewDataComponent implements OnInit, OnDestroy {\n    private _subscription: Subscription;\n\n    public table: DexihTable;\n    public action: string; // new or edit\n    public pageTitle: string;\n    public message: string;\n\n    public eDataObjectType = eDataObjectType;\n\n    constructor(\n        public formsService: HubFormsService,\n        private hubService: HubService,\n        private authService: AuthService,\n        private route: ActivatedRoute) {\n\n    }\n\n    ngOnInit() {\n        try {\n            this._subscription = combineLatest(\n                this.route.data,\n                this.hubService.getHubCacheObservable(),\n                this.formsService.getCurrentFormObservable(),\n            ).subscribe(result => {\n                let data = result[0];\n                let tableForm = result[2];\n\n                this.action = data['action'];\n                this.pageTitle = data['pageTitle'];\n\n                if (tableForm) {\n                    this.table = tableForm.value;\n                }\n            });\n        } catch (e) {\n            this.hubService.addHubClientErrorMessage(e, 'Table Edit Preview');\n        }\n    }\n\n    ngOnDestroy() {\n        if (this._subscription) { this._subscription.unsubscribe(); }\n    }\n\n    close() {\n        this.authService.navigateUp();\n    }\n}\n","<d-widget-section title=\"Preview Table\" [showExpandButton]=\"false\" [padding]=\"false\">\n    <ng-template #header>\n        <d-button-close (click)=\"close()\"></d-button-close>\n    </ng-template>\n        <preview-data [table]='table' [viewSource]='eDataObjectType.Table'></preview-data>\n</d-widget-section>","import { Component, OnInit, OnDestroy, Input } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { HubService } from '../../../hub.service';\nimport { Subscription, Observable, BehaviorSubject, combineLatest} from 'rxjs';\nimport { FormGroup, FormArray } from '@angular/forms';\nimport { HubFormsService } from '../../../hub.forms.service';\nimport { HubCache, deltaTypes, securityFlags } from '../../../hub.models';\nimport { eTableType, DexihConnection, ConnectionReference,\n    eConnectionCategory, DexihTableColumn, eConnectionPurpose, DexihTable, eTableTypeItems } from '../../../../shared/shared.models';\nimport { TypeCodes } from '../../../hub.remote.models';\nimport { CancelToken, Message } from '../../../../+auth/auth.models';\n\n@Component({\n\n    selector: 'dexih-table-edit-properties',\n    templateUrl: './table-edit-properties.component.html',\n})\nexport class TableEditPropertiesComponent implements OnInit, OnDestroy {\n    @Input() public formsService: HubFormsService;\n    @Input() public isExpanded = true;\n\n    // private connection: DexihConnection;\n\n    private _subscription: Subscription;\n    private _connectionSubscription: Subscription;\n    private cancelToken: CancelToken = new CancelToken();\n\n    public entityType = 'Table';\n\n    public canEdit = false;\n    public tableKey: number;\n\n    private hubCache: HubCache;\n    public action: string; // new or edit\n    public pageTitle: string;\n\n    public mainForm: FormGroup;\n\n    typeCodes = TypeCodes;\n    deltaTypes = deltaTypes;\n    securityFlags = securityFlags;\n    eTableType = eTableType;\n    eTableTypeItems = eTableTypeItems;\n\n    public sqlMessage: Message;\n\n    public connections: DexihConnection[];\n    public connection: DexihConnection;\n    public connectionReference: ConnectionReference;\n    eConnectionCategory = eConnectionCategory;\n\n    inputColumns: Array<DexihTableColumn>;\n\n    eConnectionPurpose = eConnectionPurpose;\n\n    public runningSql = false;\n\n    private _columnData = new BehaviorSubject<Array<DexihTableColumn>>(null);\n    columnData: Observable<Array<DexihTableColumn>> = this._columnData.asObservable();\n\n    constructor(\n        private hubService: HubService,\n        private route: ActivatedRoute    ) {\n    }\n\n    ngOnInit() {\n        try {\n            this._subscription = combineLatest(\n                this.route.data,\n                this.route.params,\n                this.hubService.getHubCacheObservable(),\n                this.formsService.getCurrentFormObservable(),\n                this.hubService.getRemoteLibrariesObservable(), // included to ensure correct connection reference when refreshing page.\n            ).subscribe(async result => {\n                let data = result[0];\n                this.hubCache = result[2];\n                this.mainForm = result[3];\n\n                this.action = data['action'];\n                this.pageTitle = data['pageTitle'];\n\n                if (this.hubCache && this.hubCache.isLoaded() && this.mainForm ) {\n                    this.connections = this.hubCache.hub.dexihConnections;\n                    this.connection = this.connections.find(c => c.key === this.mainForm.controls.connectionKey.value);\n                    this.connectionReference = await this.hubService.GetConnectionReference(this.connection);\n\n                    if (this._connectionSubscription) { this._connectionSubscription.unsubscribe(); }\n                    this._connectionSubscription = this.mainForm.controls.connectionKey.valueChanges.subscribe(async (connectionKey) => {\n                        this.connection = this.connections.find(c => c.key === connectionKey);\n                        this.connectionReference = await this.hubService.GetConnectionReference(this.connection);\n                    });\n                }\n\n            });\n        } catch (e) {\n            this.hubService.addHubClientErrorMessage(e, 'Table edit properties');\n        }\n    }\n\n    ngOnDestroy() {\n        if (this._subscription) { this._subscription.unsubscribe(); }\n        if (this._connectionSubscription) { this._connectionSubscription.unsubscribe(); }\n        this.cancelToken.cancel();\n    }\n\n    reloadColumns() {\n        this.runningSql = true;\n        this.hubService.importTables([this.mainForm.value], false, this.cancelToken).then(tables => {\n            if (!tables || tables.length === 0) { return; }\n\n            const table: DexihTable = tables[0];\n            const tableColumnsForm = <FormArray>this.formsService.currentForm.controls.dexihTableColumns;\n            while (tableColumnsForm.controls.length > 0) {\n                tableColumnsForm.removeAt(0);\n            }\n            table.dexihTableColumns.filter(c => c.isValid).forEach(column => {\n                tableColumnsForm.push(this.formsService.tableColumn(table.dexihTableColumns, column));\n            });\n            this.runningSql = false;\n        }).catch(() => this.runningSql = false);\n    }\n\n    test() {\n        this.runningSql = true;\n        this.hubService.doImport([this.mainForm.value], false, this.cancelToken).then(tables => {\n            let columns = tables[0].dexihTableColumns.map(c => c.name);\n            this.hubService.addHubSuccessMessage('The query was successful, and returned the following columns.  ' + columns.join(', '));\n            this.runningSql = false;\n        }).catch((reason) => {\n            this.runningSql = false;\n            this.sqlMessage = reason;\n            this.hubService.addHubMessage(reason);\n        });\n    }\n}\n","<d-widget-section title='Properties' [showExpandButton]=\"true\" [isExpanded]=\"isExpanded\" >\n        <form *ngIf=\"mainForm\" [formGroup]=\"mainForm\">\n            <fieldset>\n                <div class=\"form-row\">\n                    <section class=\"form-group col-md-4\">\n                        <form-select label=\"Connection\" formControlName=\"connectionKey\" [items]=\"connections\" itemKey=\"key\" itemName=\"name\"\n                            [errors]=\"formsService.formErrors.connectionKey\" iconClass=\"fa fa-database\" note='The connection for this table.'>\n                            <connection-edit-button [key]=\"mainForm.controls.connectionKey.value\"></connection-edit-button>\n                        </form-select>\n                    </section>\n\n                    <section class=\"form-group col-md-4\">\n                        <form-input [label]=\"entityType + ' Name'\" formControlName=\"name\" placeholder=\"Enter the physical name.\" iconClass=\"fa fa-list\"\n                            [errors]=\"formsService.formErrors.name\" note=\"The physical name of the underlying entity\">\n                        </form-input>\n                    </section>\n\n                    <section class=\"form-group col-md-4\" *ngIf=\"connectionReference?.connectionCategory == eConnectionCategory.SqlDatabase\">\n                        <form-input [label]=\"entityType + ' Schema'\" formControlName=\"schema\" placeholder=\"Enter the (database) schema name\" iconClass=\"fa fa-list\"\n                            [errors]=\"formsService.formErrors.schema\" note=\"The physical name of the database schema (if applicable).\">\n                        </form-input>\n                    </section>\n                </div>\n                \n                <section>\n                    <form-checkbox label=\"Specify a different logical name\" formControlName=\"useLogical\">\n                    </form-checkbox>\n                </section>\n\n                <section *ngIf=\"formsService.currentForm.value.useLogical\">\n                    <form-input label=\"Logical Name\" formControlName=\"logicalName\" placeholder=\"Enter the logical name.\" iconClass=\"fa fa-list\"\n                        [errors]=\"formsService.formErrors.logicalName\" note=\"The logical name is a short term to represent the table\">\n                    </form-input>\n                </section>\n\n                <section>\n                    <form-textarea label=\"Description\" formControlName=\"description\" [showMarkdown]=\"true\" placeholder=\"Enter the description.\"\n                        [errors]=\"formsService.formErrors.description\">\n                    </form-textarea>\n                </section>\n\n                <div *ngIf=\"connection?.purpose == eConnectionPurpose.Managed\" class=\"form-row\">\n                    <section class=\"form-group col-md-6\">\n                        <form-input label=\"Reject Table Name\" formControlName=\"rejectedTableName\" placeholder=\"Enter the rejected table name.\" iconClass=\"fa fa-list\"\n                            [errors]=\"formsService.formErrors.rejectedTableName\" note=\"The name of the table to send any records that could not be written to the primary table.\">\n                        </form-input>\n                    </section>\n                </div>\n\n                <section *ngIf=\"connectionReference?.connectionCategory == eConnectionCategory.SqlDatabase\">\n                    <form-select label=\"Table Type\" formControlName=\"tableType\" [errors]=\"formsService.formErrors.tableType\" [items]=\"eTableTypeItems\" itemKey=\"key\" itemName=\"name\">\n                    </form-select>\n                </section>\n\n                <section *ngIf=\"formsService.currentForm.controls.tableType.value === eTableType.Query\">\n                    <form-textarea label=\"Specify the sql query\" rows=\"15\" formControlName=\"queryString\" [hideToggle]=\"true\" placeholder=\"Sql Query\"\n                        [showPreview]=\"false\">\n                        <a *ngIf=\"runningSql == false\" href=\"javascript:void(0)\" (click)=\"test()\"> (\n                            <i class=\"fa fa-check-circle-o\"></i> Test) </a>\n                        <a *ngIf=\"runningSql == false\" href=\"javascript:void(0)\" (click)=\"reloadColumns()\"> (\n                            <i class=\"fa fa-refresh\"></i> Reload Columns) </a>\n                        <span *ngIf=\"runningSql == true\">\n                            <i class=\"fa fa-spin fa-refresh\"></i> (Busy... please wait) </span>\n                        <dexih-message [message]=\"sqlMessage\"></dexih-message>\n                    </form-textarea>\n                </section>\n\n                <section *ngIf=\"connectionReference?.connectionCategory == eConnectionCategory.Hub\">\n                    <form-input label=\"Source Connection Name\" formControlName=\"sourceConnectionName\" placeholder=\"Name of the source connection.\"\n                        iconClass=\"fa fa-list\" note=\"The name of the connection for this table in the source hub.\">\n                    </form-input>\n                </section>\n\n                <section>\n                    <form-checkbox label=\"Table is shared in the catalog to users with read access.\" formControlName=\"isShared\">\n                    </form-checkbox>\n                </section>\n\n            </fieldset>\n        </form>\n</d-widget-section>\n\n<div *ngIf=\"connectionReference?.connectionCategory == eConnectionCategory.WebService\">\n    <dexih-table-edit-rest [formService]='formsService' [connection]='connection' (onTableChanged)=\"onTableChanged($event)\"></dexih-table-edit-rest>\n</div>\n\n<div *ngIf=\"connection && ( connectionReference?.connectionCategory == eConnectionCategory.File || connection?.purpose !== eConnectionPurpose.Source )\">\n    <dexih-table-edit-file [formService]='formsService' [connection]='connection' [isFile]='connectionReference?.connectionCategory == eConnectionCategory.File' (onTableChanged)=\"onTableChanged($event)\"></dexih-table-edit-file>\n</div>\n","import { Component, Input, OnInit, OnChanges } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\n\n@Component({\n    selector: 'table-edit-input-column',\n    templateUrl: './table-edit-input-column.component.html'\n})\nexport class TableEditInputColumnComponent implements OnInit, OnChanges {\n    @Input() public columnForm: FormGroup = null;\n\n    constructor() {\n    }\n\n    ngOnInit() {\n    }\n\n    ngOnChanges() {\n    }\n\n    toggleInput($event) {\n    }\n}\n","<form [formGroup]=\"columnForm\" class=\"\">\n    <section>\n        <form-input \n        [label]=\"columnForm.value.name\" \n        formControlName=\"defaultValue\" \n        placeholder=\"Enter default value for the input column\" \n        iconClass=\"fa fa-dollar\">\n        </form-input>\n    </section>\n</form>","import { Component, OnInit, OnDestroy, Input, Output, EventEmitter } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { HubService } from '../../../hub.service';\nimport { Subscription, combineLatest} from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { Location } from '@angular/common';\nimport { FormControl, FormGroup, FormArray } from '@angular/forms';\nimport { HubFormsService } from '../../../hub.forms.service';\nimport { DexihConnection, DexihTable, eTypeCode, DexihTableColumn, eDeltaType } from '../../../../shared/shared.models';\nimport { HubCache, ConnectionTables, formatTypes, eCacheStatus } from '../../../hub.models';\nimport { CancelToken } from '../../../../+auth/auth.models';\n\n@Component({\n    selector: 'dexih-table-edit-rest',\n    templateUrl: './table-edit-rest.component.html'\n})\nexport class TableEditRestComponent implements OnInit, OnDestroy {\n    @Input() public formService: HubFormsService;\n    @Input() public connection: DexihConnection;\n\n    private _hubCacheSubscription: Subscription;\n    private _currentFormSubscription: Subscription;\n    private _restfulUrlSubscription: Subscription;\n    private cancelToken: CancelToken = new CancelToken();\n\n    private hubCache: HubCache;\n\n    tables: ConnectionTables[];\n    inputColumns: Array<FormGroup>;\n    inputTable: DexihTable = null;\n\n    formatTypes = formatTypes;\n    eTypeCode = eTypeCode;\n\n    constructor(private hubService: HubService, private route: ActivatedRoute, private router: Router, private location: Location) {\n    }\n\n    ngOnInit() {\n        // load the initial connection from the cache\n        this._hubCacheSubscription = this.hubService.getHubCacheObservable().subscribe(cache => {\n            if (cache && cache.status === eCacheStatus.Loaded) {\n\n                this.hubCache = cache;\n\n                this.tables = this.hubCache.getConnectionTables();\n\n            }\n        });\n\n        this._currentFormSubscription = this.formService.getCurrentFormObservable().subscribe( currentForm => {\n            // load the inputColumns\n            const columns = <FormArray>this.formService.currentForm.controls.dexihTableColumns;\n            this.inputColumns = <Array<FormGroup>>columns.controls.filter(c => c.value.isInput && c.value.isValid);\n\n            if (this._restfulUrlSubscription) { this._restfulUrlSubscription.unsubscribe(); }\n            this._restfulUrlSubscription = currentForm.controls.restfulUri.valueChanges\n                .pipe(debounceTime(500))\n                .subscribe(newValue => {\n                    this.updateInputColumns();\n                });\n        });\n\n    }\n\n    ngOnDestroy() {\n        if (this._hubCacheSubscription) { this._hubCacheSubscription.unsubscribe(); }\n        if (this._restfulUrlSubscription) { this._restfulUrlSubscription.unsubscribe(); }\n        if (this._currentFormSubscription) { this._currentFormSubscription.unsubscribe(); }\n        this.cancelToken.cancel();\n    }\n\n    hasChanged($event) {\n        // this.tableChanged = true;\n    }\n\n    importTable() {\n        let importTable = this.formService.currentForm.value;\n        let inputColumns = this.formService.currentForm.value.dexihTableColumns.filter(c => c.isInput && c.isValid);\n\n        // merge any input columns with columns already in the table\n        if (inputColumns) {\n            inputColumns.forEach(column => {\n                let importCol = importTable.dexihTableColumns.find(c => c.name === column.name);\n                if (importCol) {\n                    importCol.inputValue = column.inputValue;\n                } else {\n                    importCol = column;\n                    importTable.dexihTableColumns.push(importCol);\n                }\n            });\n        }\n\n        this.hubService.importTables([importTable], false, this.cancelToken)\n            .then(result => {\n                const columns = <FormArray>this.formService.currentForm.controls.dexihTableColumns;\n                while (columns.controls.length > 0) {\n                    columns.removeAt(0);\n                }\n\n                result[0].dexihTableColumns.forEach(column => {\n                    columns.push(this.formService.tableColumn(result[0].dexihTableColumns, column));\n                });\n            }).catch();\n    }\n\n    updateInputColumns() {\n        // use the regex to extract items in uri between { }.  These will be input columns\n        const regExp = /\\{([^}]+)\\}/g;\n\n        const columns = <FormArray>this.formService.currentForm.controls.dexihTableColumns;\n        const inputColumns = <Array<FormGroup>>columns.controls.filter(c => c.value.isInput && c.value.isValid);\n\n        inputColumns.forEach(item => {\n            const columnForm = <FormGroup>item;\n            columnForm.controls.isValid.setValue(false);\n        });\n        let match;\n        let position = -1000;\n\n        while ((match = regExp.exec(this.formService.currentForm.value.restfulUri))) {\n            let columnForm = <FormGroup>columns.controls.find(c => c.value.name === match[1] && c.value.isInput);\n\n            if (!columnForm) {\n                let col = new DexihTableColumn();\n\n                // add the basic properties\n                col.name = match[1];\n                col.isInput = true;\n                col.logicalName = match[1];\n                col.dataType = eTypeCode.String;\n                col.deltaType = eDeltaType.NaturalKey;\n                col.maxLength = 1024;\n                col.position = position++;\n                col.description = 'Url Parameter ' + match[1];\n\n                col.allowDbNull = true;\n                col.isUnique = false;\n                col.isValid = true;\n\n                columnForm = this.formService.tableColumn(columns.value, col);\n                columns.push(columnForm);\n            } else {\n                columnForm.controls.isValid.setValue(true);\n            }\n        }\n\n        position = 1;\n        columns.controls.filter(column => column.value.isValid) .sort((a, b) => a.value.position - b.value.position).forEach(column => {\n            (<FormGroup>column).controls.position.setValue(position++);\n        });\n\n        this.inputColumns = <Array<FormGroup>>columns.controls.filter(c => c.value.isInput && c.value.isValid);\n    }\n}\n","<div class=\"list-group-item list-group-item-info  rounded-0\">\n    <div class=\"d-flex flex-row\">\n        <h5>Web Service Properties</h5>\n    </div>\n</div>\n<div class=\"container mt-3 mb-3\">\n    <form *ngIf=\"formService?.currentForm\" [formGroup]=\"formService.currentForm\">\n\n        <section>\n            <form-input label=\"Web Service Uri String\" formControlName=\"restfulUri\" placeholder=\"Enter the uri.\" iconClass=\"fa fa-feed\"\n                [errors]=\"formService.formErrors.restfulUri\" [note]=\"'Specify the uri following the base path ' + connection.server +'.  To include input columns use {} in the uri definition (eg. GetWeather?City={CityName})'\">\n            </form-input>\n        </section>\n        <section>\n        </section>\n\n        <section>\n            <div *ngFor=\"let columnForm of inputColumns | isValidFilter\">\n                <table-edit-input-column [columnForm]=\"columnForm\"></table-edit-input-column>\n            </div>\n        </section>\n\n        <section>\n            <form-select label=\"Format Type\" formControlName=\"formatType\" [items]=\"formatTypes\" itemKey=\"key\" itemName=\"name\" iconClass=\"fa fa-database\"\n                note='The format of data.'>\n            </form-select>\n        </section>\n\n\n        <section *ngIf=\"formService.currentForm.value.formatType == eTypeCode.Text\">\n            <form-select label=\"File Format\" formControlName=\"fileFormatKey\" placeholder=\"File Format\" [errors]=\"formService.formErrors.fileFormatKey\"\n                [items]=\"hubCache.hub.dexihFileFormats\" itemKey=\"key\" itemName=\"name\" [enableFilter]=\"false\" note=\"Specify the file format to use, if not specified, defaults will be used.\">\n            </form-select>\n        </section>\n\n        <section *ngIf=\"formService.currentForm.value.formatType == eTypeCode.Json || formService.currentForm.value.formatType == eTypeCode.Xml\">\n            <form-input label=\"Optional: Web Service Row Path\" formControlName=\"rowPath\" placeholder=\"Enter the row path.\" iconClass=\"fa fa-feed\"\n                [errors]=\"formService.formErrors.rowPath\" note=\"Optional Json Path indicating where a row should be read from.\">\n            </form-input>\n        </section>\n\n        <section class=\"btn-toolbar\">\n            <d-button [busy]=\"formService.formSaving\" (click)=\"!formService.formSaving && importTable()\">Import </d-button>\n\n            <div *ngIf=\"formService.currentForm.value.formatType == eTypeCode.Json || formService.currentForm.value.formatType == eTypeCode.Xml\" class=\"input-group pl-1\">\n                <div  class=\"input-group-prepend\">\n                    <div class=\"input-group-text\">Max Import Levels</div>\n                </div>\n                <input class=\"form-control\" placeholder=\"Maximum levels...\" title=\"Maximum import levels\" formControlName=\"maxImportLevels\"\n                    style=\"width: 100%; max-width: 100px\">\n            </div>\n        </section>\n\n    </form>\n</div>","\nimport { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '../../shared/shared.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { TableEditPropertiesComponent } from './table-edit/table-edit-properties/table-edit-properties.component';\nimport { TableEditColumnsComponent } from './table-edit//table-edit-columns/table-edit-columns.component';\nimport { TableEditFileComponent } from './table-edit/table-edit-file/table-edit-file.component';\nimport { TableEditRestComponent } from './table-edit/table-edit-rest/table-edit-rest.component';\nimport { TableEditInputColumnComponent } from './table-edit//table-edit-rest/table-edit-input-column.component';\nimport { HubSharedModule } from '../hub.shared.module';\nimport { TableEditPreviewDataComponent } from './table-edit//table-edit-preview-data';\nimport { ColumnEditComponent, ColumnEditBaseComponent } from './column-edit';\nimport { ColumnEditBulkComponent } from './table-edit/column-edit-bulk/column-edit-bulk.component';\n@NgModule({\n    imports: [\n        SharedModule,\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        HubSharedModule\n    ],\n    declarations: [\n      TableEditPropertiesComponent,\n      TableEditColumnsComponent,\n      TableEditFileComponent,\n      TableEditRestComponent,\n      TableEditInputColumnComponent,\n      TableEditPreviewDataComponent,\n      ColumnEditComponent, ColumnEditBaseComponent,\n      ColumnEditBulkComponent\n    ],\n    exports: [\n      TableEditPropertiesComponent,\n      TableEditColumnsComponent,\n      TableEditFileComponent,\n      TableEditRestComponent,\n      TableEditInputColumnComponent,\n      TableEditPreviewDataComponent,\n      ColumnEditComponent, ColumnEditBaseComponent,\n      ColumnEditBulkComponent\n    ]\n})\nexport class TableSharedModule {\n    static forRoot(): ModuleWithProviders<TableSharedModule> {\n        return {\n            ngModule: TableSharedModule,\n        };\n    }\n}\n"],"sourceRoot":"webpack:///"}