{"version":3,"sources":["webpack:///src/app/+admin/admin-main.component.ts","webpack:///src/app/+admin/admin-main.component.html","webpack:///src/app/+admin/admin.models.ts","webpack:///src/app/+admin/admin.module.ts","webpack:///src/app/+admin/admin.routing.ts","webpack:///src/app/+admin/users/user-edit/user-edit.component.ts","webpack:///src/app/+admin/users/user-edit/user-edit.component.html","webpack:///src/app/+admin/users/users-index/users-index.component.ts","webpack:///src/app/+admin/users/users-index/users-index.component.html","webpack:///src/app/+admin/users/users-invite/users-invite.component.ts","webpack:///src/app/+admin/users/users-invite/users-invite.component.html"],"names":["AdminMainComponent","selector","templateUrl","UserAuthorization","hubQuota","inviteQuota","firstName","lastName","terms","subscription","isEnabled","isRegistered","isInvited","accessFailedCount","email","emailConfirmed","userName","id","lockoutEnabled","lockoutEnd","twoFactorEnabled","phoneNumber","phoneNumberConfirmed","UserLogin","loginProvider","providerDisplayName","providerKey","userId","UserClaim","issuer","originalIssuer","type","valueType","value","Invites","emails","role","eRole","User","roles","key","Administrator","name","Manager","Viewer","None","AdminModule","imports","exports","declarations","providers","routes","path","component","children","data","pageTitle","action","Routing","forChild","UserEditComponent","authService","formsService","route","router","location","_subscription","params","subscribe","result","user","createDefault","navigateUp","refreshForm","e","dexihMessage","addMessage","message","unsubscribe","post","then","logins","reason","currentForm","users","sendInvite","login","provider","UsersIndexComponent","columns","title","format","_tableData","tableData","asObservable","refreshUsers","searchString","maxResults","next","map","c","confirmDialog","join","confirm","addSuccessMessage","navigate","queryParamsHandling","relativeTo","parent","editUser","styles","UsersInviteComponent","_routeDataSubscription","inviteUsers"],"mappings":"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","file":"10-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\n\n@Component({\n    selector: 'admin-main',\n    templateUrl: './admin-main.component.html'\n})\nexport class AdminMainComponent implements OnInit {\n\n    constructor() {\n    }\n\n    ngOnInit() {\n\n    }\n\n}\n","<div id=\"content\">\n    <router-outlet></router-outlet>\n</div>\n","export class UserAuthorization {\n    public hubQuota = 1;\n    public inviteQuota = 5;\n    public firstName: string = null;\n    public lastName: string = null;\n    public terms = false;\n    public subscription = false;\n    public isEnabled = false;\n    public isRegistered = false;\n    public isInvited = false;\n\n    public accessFailedCount = 0;\n\n    public email: string = null;\n    public emailConfirmed = false;\n\n    public userName: string = null;\n\n    public id: string = null;\n\n    public lockoutEnabled = false;\n    public lockoutEnd: Date = null;\n\n    public logins: UserLogin[];\n    public claims: UserClaim[];\n\n    public twoFactorEnabled = false;\n    public phoneNumber: string = null;\n    public phoneNumberConfirmed = false;\n\n    public roles: string[];\n\n}\n\nexport class UserLogin {\n    public loginProvider: string = null;\n    public providerDisplayName: string = null;\n    public providerKey: string = null;\n    public userId: string = null;\n}\n\nexport class UserClaim {\n    public issuer: string = null;\n    public originalIssuer: string = null;\n    public type: string = null;\n    public valueType: string = null;\n    public value: string = null;\n}\n\nexport class Invites {\n    public emails: string[] = [];\n    public hubQuota = 1;\n    public inviteQuota = 5;\n    public role = eRole.User;\n}\n\nexport enum eRole {\n    Administrator = 1,\n    Manager = 2,\n    User = 3,\n    Viewer = 4,\n    None = 5\n}\nexport const roles = [\n    {key: eRole.Administrator, name: 'Administrator'},\n    {key: eRole.Manager, name: 'Manager'},\n    {key: eRole.User, name: 'User'},\n    {key: eRole.Viewer, name: 'Viewer'},\n    {key: eRole.None, name: 'None'},\n];\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { Routing } from './admin.routing';\nimport { SharedModule } from '../shared/shared.module';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { AdminMainComponent } from './admin-main.component';\nimport { UsersIndexComponent } from './users/users-index/users-index.component';\nimport { UserEditComponent } from './users/user-edit/user-edit.component';\nimport { UsersInviteComponent } from './users/users-invite/users-invite.component';\n\n@NgModule({\n    imports: [\n        SharedModule,\n        Routing,\n        ReactiveFormsModule\n    ],\n    exports: [],\n    declarations: [\n        AdminMainComponent,\n        UsersIndexComponent,\n        UserEditComponent,\n        UsersInviteComponent\n    ],\n    providers: [],\n})\nexport class AdminModule { }\n","import { Routes, RouterModule } from '@angular/router';\nimport { AdminMainComponent } from './admin-main.component';\nimport { UsersIndexComponent } from './users/users-index/users-index.component';\nimport { UserEditComponent } from './users/user-edit/user-edit.component';\nimport { UsersInviteComponent } from './users/users-invite/users-invite.component';\n\nexport const routes: Routes = [\n    { path: '', component: AdminMainComponent, children: [\n    { path: 'users', data: { pageTitle: 'Users' }, children : [\n        { path: '', component: UsersIndexComponent, data: { pageTitle: 'Users Summary' } },\n        { path: 'edit-user/:userName', component: UserEditComponent, data: { action: 'edit', pageTitle: 'Edit User' } },\n        { path: 'new-user', component: UserEditComponent, data: { action: 'new', pageTitle: 'New User' } },\n        { path: 'invite-users', component: UsersInviteComponent, data: { pageTitle: 'Invite Users' } },\n    ] },\n    ]}\n];\n\nexport const Routing = RouterModule.forChild(routes);\n","import { Component, OnInit, OnDestroy, ViewChild } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { AuthService } from '../../../+auth/auth.service';\nimport { UserLoginInfo, User } from '../../../+auth/auth.models';\nimport { Subscription,  Observable, combineLatest} from 'rxjs';\nimport { Location } from '@angular/common';\nimport { FormsService } from '../../../shared/forms/forms.service';\nimport { UserAuthorization, UserLogin } from '../../admin.models';\nimport { DexihMessageComponent } from '../../../shared/ui/dexihMessage';\nimport { UserModel } from '../../../shared/shared.models';\n\n@Component({\n\n  selector: 'user-edit-form',\n  templateUrl: './user-edit.component.html',\n  providers: [FormsService]\n})\nexport class UserEditComponent implements OnInit, OnDestroy {\n  @ViewChild('DexihMessage', { static: true }) public dexihMessage: DexihMessageComponent;\n\n  private _subscription: Subscription;\n\n  private action: string;\n  email: string;\n  logins: Array<UserLogin>;\n\n  constructor(\n    private authService: AuthService,\n    public formsService: FormsService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private location: Location) {\n  }\n\n  ngOnInit() {\n    try {\n      this._subscription = combineLatest(\n        this.route.data,\n        this.route.params,\n      ).subscribe(result => {\n        let data = result[0];\n        let params = result[1];\n\n        this.action = data['action'];\n\n        if (this.action === 'new') {\n          const user = new UserAuthorization();\n          this.formsService.createDefault(user, user);\n        } else {\n          this.email = params['userName'];\n\n          if (!this.email) {\n            this.authService.navigateUp();\n            return;\n          }\n          this.refreshForm();\n        }\n      });\n    } catch (e) {\n      this.dexihMessage.addMessage(e.message);\n    }\n\n  }\n\n  ngOnDestroy() {\n    if (this._subscription) { this._subscription.unsubscribe(); }\n  }\n\n  refreshForm() {\n    this.authService.post<UserModel>('/api/Admin/GetUser', {\n      email: this.email,\n    }, 'Getting user details...').then(result => {\n      this.logins = result.logins;\n      this.formsService.createDefault(result, new UserAuthorization());\n    }).catch(reason => {\n      this.dexihMessage.addMessage(reason);\n    });\n\n  }\n  save() {\n    const user = this.formsService.currentForm.value;\n\n    if (this.action === 'new') {\n      this.authService.post('/api/Admin/AddUsers', {\n        users: [user],\n        sendInvite: true\n      }, 'Adding users...').then(result => {\n        this.authService.navigateUp();\n      }).catch(reason => {\n        this.dexihMessage.addMessage(reason);\n      });\n    } else {\n      this.authService.post('/api/Admin/UpdateUsers', {\n        users: [user],\n      }, 'Updating users...').then(result => {\n        this.authService.navigateUp();\n      }).catch(reason => {\n        this.dexihMessage.addMessage(reason);\n      });\n\n    }\n  }\n\n  cancel() {\n    this.authService.navigateUp();\n  }\n\n  deleteLogin(login: UserLogin) {\n    const user = this.formsService.currentForm.value;\n\n    this.authService.post('/api/Admin/RemoveExternalLogin', {\n      email: user.email,\n      provider: login.loginProvider,\n      providerKey: login.providerKey\n    }, 'Removing external login...').then(result => {\n      this.refreshForm();\n    }).catch(reason => {\n      this.dexihMessage.addMessage(reason);\n    });\n  }\n\n}\n","<dexih-message #DexihMessage></dexih-message>\n\n<div class=\"container pt-3\">\n\t<d-widget-vertical>\n    <d-widget title=\"User Details\" iconClass=\"fa fa-lg fa-fw fa-user\"  [padding]=\"true\">\n        <ng-template #header>\n\t\t\t<d-button-save class=\"mr-1\" [busy]=\"formsService.formSaving\" (click)=\"save()\"></d-button-save>\n\t\t\t<d-button-cancel (click)=\"cancel()\"></d-button-cancel>\n        </ng-template>\n\n\t\t<form *ngIf=\"formsService.currentForm\"  [formGroup]=\"formsService.currentForm\">\n\t\t\t<fieldset>\n\t\t\t\t<section>\n\t\t\t\t\t<form-input label=\"Email Address\" formControlName=\"email\" placeholder=\"Enter the email.\" iconClass=\"fa fa-list\" >\n\t\t\t\t\t</form-input>\n\t\t\t\t</section>\n\n\t\t\t\t<section>\n\t\t\t\t\t<form-input label=\"User Name\" formControlName=\"userName\" placeholder=\"Enter the user name.\" iconClass=\"fa fa-list\" >\n\t\t\t\t\t</form-input>\n\t\t\t\t</section>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input label=\"First Name\" formControlName=\"firstName\" placeholder=\"First Name\" [autocapitalize]=\"true\">\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input label=\"Last Name\" formControlName=\"lastName\" placeholder=\"Last Name\" [autocapitalize]=\"true\">\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Agreed Terms\" formControlName=\"terms\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Agreed Subscription\" formControlName=\"subscription\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input type=\"number\" label=\"Maximum Personal Hubs\" formControlName=\"hubQuota\" placeholder=\"Enter the number of hubs\" iconClass=\"fa fa-list\" >\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input type=\"number\" label=\"Number of invites\" formControlName=\"inviteQuota\" >\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Is Invited\" formControlName=\"isInvited\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"IsRegistered\" formControlName=\"isRegistered\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Is Enabled\" formControlName=\"isEnabled\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Email is confirmed\" formControlName=\"emailConfirmed\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Lockout Enabled\" formControlName=\"lockoutEnabled\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input type=\"date\" label=\"Lockout End\" formControlName=\"lockoutEnd\" >\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input label=\"Phone Number\" formControlName=\"phoneNumber\" >\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Phone Number Confirmed\" formControlName=\"phoneNumberConfirmed\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Two Factor Enabled\" formControlName=\"twoFactorEnabled\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t</fieldset>\n\t\t</form>\n \n    </d-widget>\n\n\t<d-widget title=\"Logins\" subTitle=\"The following login providers are available for this login\" iconClass=\"fa fa-lg fa-fw fa-life-saver\"  [padding]=\"true\">\n\t\t<ng-template #tools>\n\n\t\t</ng-template>\n\n\t\t<ul class=\"list-group\">\n\n\t\t\t<li *ngFor=\"let login of logins\" class=\"list-group-item\">\n\t\t\t\t<h3>Provider: {{login.loginProvider}}</h3>\n\t\t\t\t<hr>\n\t\t\t\t<div>\n\t\t\t\t\t<a class=\"btn btn-danger text-white\" (click)=\"deleteLogin(login)\" title=\"Remove the following login\">Delete</a>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>\n\t</d-widget>\n</d-widget-vertical>\n</div>\n","import { Component, OnInit, OnDestroy, Input, ViewChild } from '@angular/core';\nimport { AuthService } from '../../../+auth/auth.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Subscription, Observable, BehaviorSubject, combineLatest } from 'rxjs';\nimport { UserAuthorization } from '../../admin.models';\nimport { DexihMessageComponent } from '../../../shared/ui/dexihMessage';\nimport { ApplicationUser } from '../../../shared/shared.models';\n\n@Component({\n    selector: 'users',\n    templateUrl: './users-index.component.html',\n    styles: []\n})\nexport class UsersIndexComponent implements OnInit, OnDestroy {\n    @ViewChild('DexihMessage', { static: true }) public dexihMessage: DexihMessageComponent;\n\n    users: Array<UserAuthorization>;\n\n    columns = [\n        { name: 'email', title: 'Email', format: '' },\n        { name: 'firstName', title: 'First Name', format: '' },\n        { name: 'lastName', title: 'Last Name', format: '' },\n        { name: 'isInvited', title: 'Is Invited', format: 'Boolean' },\n        { name: 'emailConfirmed', title: 'Email Confirmed', format: 'Boolean' },\n        { name: 'isRegistered', title: 'Is Registered', format: 'Boolean' },\n        { name: 'isEnabled', title: 'Is Enabled', format: 'Boolean' },\n        { name: 'lockoutEnd', title: 'Lockout End', format: 'Time' },\n        { name: 'terms', title: 'Agreed terms', format: 'Boolean' },\n        { name: 'subscription', title: 'Agreed subscription', format: 'Boolean' },\n    ];\n\n    private _tableData = new BehaviorSubject<Array<any>>(null);\n    tableData: Observable<Array<any>> = this._tableData.asObservable();\n\n    constructor(\n        private authService: AuthService,\n        private router: Router,\n        private route: ActivatedRoute) {\n    }\n\n    ngOnInit() {\n        this.refreshUsers();\n    }\n\n    ngOnDestroy() {\n    }\n\n    refreshUsers() {\n        this.authService.post<ApplicationUser[]>('/api/Admin/GetUsers', {\n            searchString: '',\n            maxResults: 100,\n        }, 'Getting user details...').then(result => {\n            this._tableData.next(result);\n        }).catch(reason => {\n            this.dexihMessage.addMessage(reason);\n        });\n    }\n\n    deleteUsers(users: Array<UserAuthorization>) {\n        const emails = users.map(c => c.userName);\n\n        this.authService.confirmDialog('Delete users?', 'This action will delete users with the following emails: <p>' +\n            emails.join('</p><p>') + '</p>  <p></p>Are you sure?').then(confirm => {\n                if (confirm) {\n                    this.authService.post('/api/Admin/DeleteUsers', {\n                        emails: emails\n                    }, 'Deleting users...').then(result => {\n                        this.refreshUsers();\n                    }).catch(reason => {\n                        this.dexihMessage.addMessage(reason);\n                    });\n                }\n            });\n    }\n\n    revokeUsers(users: Array<UserAuthorization>) {\n        const emails = users.map(c => c.userName);\n\n        this.authService.confirmDialog('Revoke users?', 'This action will revoke users with the following emails: <p>' +\n            emails.join('</p><p>') + '</p>  <p></p>Are you sure?').then(confirm => {\n                if (confirm) {\n\n                    this.authService.post('/api/Admin/RevokeUsers', {\n                        emails: users.map(c => c.userName)\n                    }, 'Revoking users...').then(result => {\n                        this.refreshUsers();\n                    }).catch(reason => {\n                        this.dexihMessage.addMessage(reason);\n                    });\n                }\n            });\n    }\n\n    enableUsers(users: Array<UserAuthorization>) {\n        const emails = users.map(c => c.userName);\n\n        this.authService.confirmDialog('Enable users?', 'This action will re-enable logins for users with the following emails: <p>' +\n            emails.join('</p><p>') + '</p>  <p></p>Are you sure?').then(confirm => {\n                if (confirm) {\n\n                    this.authService.post('/api/Admin/EnableUsers', {\n                        emails: users.map(c => c.userName)\n                    }, 'Enabling users...').then(result => {\n                        this.refreshUsers();\n                    }).catch(reason => {\n                        this.dexihMessage.addMessage(reason);\n                    });\n                }\n            });\n    }\n\n    reinviteUsers(users: Array<UserAuthorization>) {\n        this.authService.post('/api/Admin/ReInviteUsers', {\n            emails: users.map(c => c.userName)\n        }, 'Inviting users...').then(result => {\n            this.dexihMessage.addSuccessMessage('Emails have been sent to the selected users.');\n        }).catch(reason => {\n            this.dexihMessage.addMessage(reason);\n        });\n    }\n\n    editUser(user: UserAuthorization) {\n        this.router.navigate(['edit-user', user.userName], { queryParamsHandling: 'merge', relativeTo: this.route.parent });\n    }\n\n}\n","<dexih-message #DexihMessage></dexih-message>\n\n<div class=\"container-fluid\">\n    <d-widget title=\"Users\" \n\t\ticonClass=\"fa fa-lg fa-fw fa-group\" \n\t\t\n\t>\n\t\t<d-table \n\t\t\t[enableMultiSelect]=\"true\"\n\t\t\t[columns]=\"columns\"\n\t\t\t[dataObservable]=\"tableData\"\n\t\t\t(rowClick)=\"editUser($event)\"\n\t\t\t>\n\t\t\t\t<ng-template #selectedItemsAction select=\"selectedItemsAction\" let-items=\"items\">\n\t\t\t\t\t<d-button class=\"mr-1\" (click)=\"reinviteUsers(items)\" iconClass=\"fa fa-envelope\" buttonClass=\"btn-primary\" title=\"invite or resend invite to selected users.\">Resend Invite</d-button>\n\t\t\t\t\t<d-button-delete class=\"mr-1\" title=\"Delete selected users\" (click)=\"deleteUsers(items)\"></d-button-delete>\n\t\t\t\t\t<d-button class=\"mr-1\" (click)=\"revokeUsers(items)\" iconClass=\"fa fa-lock\" buttonClass=\"btn-danger\" title=\"Revoke selected users access.\">Revoke</d-button>\n\t\t\t\t\t<d-button (click)=\"enableUsers(items)\" iconClass=\"fa fa-unlock\" buttonClass=\"btn-success\" title=\"Re-enable selected users access\">Enable</d-button>\n\t\t\t\t</ng-template>\n\n\t\t\t\t<ng-template #selectedItemAction select=\"selectedItemAction\" let-user=\"item\">\n\t\t\t\t\t<d-button-edit title=\"Edit User\" [routerLink]=\"['edit-user', user.userName]\"></d-button-edit>\n\t\t\t\t</ng-template>\n\n\t\t\t\t<ng-template #actions let-items=\"items\">\n\t\t\t\t\t<d-button-new class=\"mr-1\" title=\"Create a new user\" [routerLink]=\"['new-user']\"></d-button-new>\n\t\t\t\t\t<d-button [routerLink]=\"['invite-users']\" iconClass=\"fa fa-envelope\" buttonClass=\"btn-primary\" title=\"Invite users\">Invite</d-button>\n\t\t\t\t</ng-template>\n\t\t</d-table>\n\n    </d-widget>\n</div>\n\n\n","import { Component, OnInit, OnDestroy, ViewChild } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { AuthService } from '../../../+auth/auth.service';\nimport { Subscription, combineLatest} from 'rxjs';\nimport { Location } from '@angular/common';\nimport { FormsService } from '../../../shared/forms/forms.service';\nimport { Invites, roles } from '../../admin.models';\nimport { DexihMessageComponent } from '../../../shared/ui/dexihMessage';\n\n@Component({\n\n  selector: 'users-invite-form',\n  templateUrl: './users-invite.component.html',\n  providers: [ FormsService ]\n})\nexport class UsersInviteComponent implements OnInit, OnDestroy {\n@ViewChild('DexihMessage', { static: true }) public dexihMessage: DexihMessageComponent;\n\n  private _routeDataSubscription: Subscription;\n\n  private action: string;\n\n  roles = roles;\n\n  constructor(\n    private authService: AuthService,\n    public formsService: FormsService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private location: Location) {\n  }\n\n  ngOnInit() {\n\n    this._routeDataSubscription = this.route.data.subscribe(data => {\n      this.action = data['action'];\n\n      const inviteUsers = new Invites();\n      this.formsService.createDefault(inviteUsers, inviteUsers);\n    });\n  }\n\n  ngOnDestroy() {\n    if (this._routeDataSubscription) { this._routeDataSubscription.unsubscribe(); }\n  }\n\n  save() {\n    const emails = this.formsService.currentForm.value.emails;\n    const hubQuota = this.formsService.currentForm.value.hubQuota;\n      const inviteQuota = this.formsService.currentForm.value.inviteQuota;\n      const role = this.formsService.currentForm.value.role;\n      this.authService.post('/api/Admin/InviteUsers', {\n              emails: emails,\n              hubQuota: hubQuota,\n              inviteQuota: inviteQuota,\n              role: role\n          }, 'Inviting users...').then(result => {\n            this.authService.navigateUp();\n        }).catch(reason => {\n          this.dexihMessage.addMessage(reason);\n      });\n  }\n\n  cancel() {\n    this.authService.navigateUp();\n  }\n\n}\n","<dexih-message #DexihMessage></dexih-message>\n\n<div class=\"container-fluid\">\n    <d-widget title=\"Invite Users\" iconClass=\"fa fa-lg fa-fw fa-user\" [padding]=\"true\">\n        <ng-template #tools>\n\t\t\t\t<button \n\t\t\t\t\tclass=\"btn btn-primary mr-1\" \n\t\t\t\t\t[ngClass]=\"{disabled : formsService.formSaving || !formsService.hasChanged }\" \n\t\t\t\t\t(click)=\"save()\">\n\t\t\t\t\t<i *ngIf=\"formsService.formSaving\" class=\"fa fa-spin fa-cog\"></i> Send Invites\n\t\t\t\t</button>\t\t\t\t\n\t\t\t\t<d-button-cancel (click)=\"cancel()\"></d-button-cancel>\n        </ng-template>\n\n\t\t<form *ngIf=\"formsService.currentForm\"  [formGroup]=\"formsService.currentForm\">\n\t\t\t<fieldset>\n\t\t\t\t<section>\n\t\t\t\t\t<form-tags label=\"Email Addresses\" formControlName=\"emails\" placeholder=\"Provide emails to invite.\" note=\"Enter email addresses of users to invite to join the integration hub.\" >\n\t\t\t\t\t</form-tags>\n\t\t\t\t</section>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input type=\"number\" label=\"Maximum Personal Hubs\" formControlName=\"hubQuota\" placeholder=\"Enter the number of hubs.\" iconClass=\"fa fa-list\" >\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input type=\"number\" label=\"Number of invites\" formControlName=\"inviteQuota\" placeholder=\"Enter the number of invites.\" >\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<section>\n\t\t\t\t\t<form-select label=\"Default Role\" formControlName=\"role\" [items]=\"roles\" itemName=\"name\" itemKey=\"key\" [enableFilter]=\"false\"\n\t\t\t\t\tnote=\"Enter the role provided to the invited users.\" >\n\t\t\t\t\t</form-select>\n\t\t\t\t</section>\n\n\t\t\t</fieldset>\n\t\t</form>\n \n    </d-widget>\n"]}