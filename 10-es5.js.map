{"version":3,"sources":["webpack:///src/app/+admin/admin-main.component.ts","webpack:///src/app/+admin/admin-main.component.html","webpack:///src/app/+admin/admin.routing.ts","webpack:///src/app/+admin/users/users-index/users-index.component.ts","webpack:///src/app/+admin/users/users-index/users-index.component.html","webpack:///src/app/+admin/users/user-edit/user-edit.component.ts","webpack:///src/app/+admin/users/user-edit/user-edit.component.html","webpack:///src/app/+admin/admin.module.ts","webpack:///src/app/+admin/admin.models.ts","webpack:///src/app/+admin/users/users-invite/users-invite.component.ts","webpack:///src/app/+admin/users/users-invite/users-invite.component.html"],"names":["AdminMainComponent","selector","templateUrl","routes","path","component","children","data","pageTitle","action","Routing","forChild","UsersIndexComponent","authService","router","route","columns","name","title","format","_tableData","tableData","asObservable","refreshUsers","post","searchString","maxResults","then","result","next","reason","dexihMessage","addMessage","users","emails","map","c","userName","confirmDialog","join","confirm","addSuccessMessage","user","navigate","queryParamsHandling","relativeTo","parent","editUser","styles","UserEditComponent","formsService","_subscription","params","subscribe","createDefault","email","navigateUp","refreshForm","e","message","unsubscribe","logins","currentForm","value","sendInvite","login","provider","loginProvider","providerKey","providers","AdminModule","imports","exports","declarations","UserAuthorization","hubQuota","inviteQuota","firstName","lastName","terms","subscription","isEnabled","isRegistered","isInvited","accessFailedCount","emailConfirmed","id","lockoutEnabled","lockoutEnd","twoFactorEnabled","phoneNumber","phoneNumberConfirmed","UserLogin","providerDisplayName","userId","UserClaim","issuer","originalIssuer","type","valueType","Invites","role","eRole","User","roles","key","Administrator","Manager","Viewer","None","UsersInviteComponent","_routeDataSubscription","inviteUsers"],"mappings":"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","file":"10-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\n\n@Component({\n    selector: 'admin-main',\n    templateUrl: './admin-main.component.html'\n})\nexport class AdminMainComponent implements OnInit {\n\n    constructor() {\n    }\n\n    ngOnInit() {\n\n    }\n\n}\n","<div id=\"content\">\n    <router-outlet></router-outlet>\n</div>\n","import { Routes, RouterModule } from '@angular/router';\nimport { AdminMainComponent } from './admin-main.component';\nimport { UsersIndexComponent } from './users/users-index/users-index.component';\nimport { UserEditComponent } from './users/user-edit/user-edit.component';\nimport { UsersInviteComponent } from './users/users-invite/users-invite.component';\n\nexport const routes: Routes = [\n    { path: '', component: AdminMainComponent, children: [\n    { path: 'users', data: { pageTitle: 'Users' }, children : [\n        { path: '', component: UsersIndexComponent, data: { pageTitle: 'Users Summary' } },\n        { path: 'edit-user/:userName', component: UserEditComponent, data: { action: 'edit', pageTitle: 'Edit User' } },\n        { path: 'new-user', component: UserEditComponent, data: { action: 'new', pageTitle: 'New User' } },\n        { path: 'invite-users', component: UsersInviteComponent, data: { pageTitle: 'Invite Users' } },\n    ] },\n    ]}\n];\n\nexport const Routing = RouterModule.forChild(routes);\n","import { Component, OnInit, OnDestroy, ViewChild } from '@angular/core';\nimport { AuthService } from '../../../+auth/auth.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Observable, BehaviorSubject } from 'rxjs';\nimport { UserAuthorization } from '../../admin.models';\nimport { DexihMessageComponent } from '../../../shared/ui/dexihMessage';\nimport { ApplicationUser } from '../../../shared/shared.models';\n\n@Component({\n    selector: 'users',\n    templateUrl: './users-index.component.html',\n    styles: []\n})\nexport class UsersIndexComponent implements OnInit, OnDestroy {\n    @ViewChild('DexihMessage', { static: true }) public dexihMessage: DexihMessageComponent;\n\n    users: Array<UserAuthorization>;\n\n    columns = [\n        { name: 'email', title: 'Email', format: '' },\n        { name: 'firstName', title: 'First Name', format: '' },\n        { name: 'lastName', title: 'Last Name', format: '' },\n        { name: 'isInvited', title: 'Is Invited', format: 'Boolean' },\n        { name: 'emailConfirmed', title: 'Email Confirmed', format: 'Boolean' },\n        { name: 'isRegistered', title: 'Is Registered', format: 'Boolean' },\n        { name: 'isEnabled', title: 'Is Enabled', format: 'Boolean' },\n        { name: 'lockoutEnd', title: 'Lockout End', format: 'Time' },\n        { name: 'terms', title: 'Agreed terms', format: 'Boolean' },\n        { name: 'subscription', title: 'Agreed subscription', format: 'Boolean' },\n    ];\n\n    private _tableData = new BehaviorSubject<Array<any>>(null);\n    tableData: Observable<Array<any>> = this._tableData.asObservable();\n\n    constructor(\n        private authService: AuthService,\n        private router: Router,\n        private route: ActivatedRoute) {\n    }\n\n    ngOnInit() {\n        this.refreshUsers();\n    }\n\n    ngOnDestroy() {\n    }\n\n    refreshUsers() {\n        this.authService.post<ApplicationUser[]>('/api/Admin/GetUsers', {\n            searchString: '',\n            maxResults: 100,\n        }, 'Getting user details...').then(result => {\n            this._tableData.next(result);\n        }).catch(reason => {\n            this.dexihMessage.addMessage(reason);\n        });\n    }\n\n    deleteUsers(users: Array<UserAuthorization>) {\n        const emails = users.map(c => c.userName);\n\n        this.authService.confirmDialog('Delete users?', 'This action will delete users with the following emails: <p>' +\n            emails.join('</p><p>') + '</p>  <p></p>Are you sure?').then(confirm => {\n                if (confirm) {\n                    this.authService.post('/api/Admin/DeleteUsers', {\n                        emails: emails\n                    }, 'Deleting users...').then(() => {\n                        this.refreshUsers();\n                    }).catch(reason => {\n                        this.dexihMessage.addMessage(reason);\n                    });\n                }\n            });\n    }\n\n    revokeUsers(users: Array<UserAuthorization>) {\n        const emails = users.map(c => c.userName);\n\n        this.authService.confirmDialog('Revoke users?', 'This action will revoke users with the following emails: <p>' +\n            emails.join('</p><p>') + '</p>  <p></p>Are you sure?').then(confirm => {\n                if (confirm) {\n\n                    this.authService.post('/api/Admin/RevokeUsers', {\n                        emails: users.map(c => c.userName)\n                    }, 'Revoking users...').then(() => {\n                        this.refreshUsers();\n                    }).catch(reason => {\n                        this.dexihMessage.addMessage(reason);\n                    });\n                }\n            });\n    }\n\n    enableUsers(users: Array<UserAuthorization>) {\n        const emails = users.map(c => c.userName);\n\n        this.authService.confirmDialog('Enable users?', 'This action will re-enable logins for users with the following emails: <p>' +\n            emails.join('</p><p>') + '</p>  <p></p>Are you sure?').then(confirm => {\n                if (confirm) {\n\n                    this.authService.post('/api/Admin/EnableUsers', {\n                        emails: users.map(c => c.userName)\n                    }, 'Enabling users...').then(() => {\n                        this.refreshUsers();\n                    }).catch(reason => {\n                        this.dexihMessage.addMessage(reason);\n                    });\n                }\n            });\n    }\n\n    reinviteUsers(users: Array<UserAuthorization>) {\n        this.authService.post('/api/Admin/ReInviteUsers', {\n            emails: users.map(c => c.userName)\n        }, 'Inviting users...').then(() => {\n            this.dexihMessage.addSuccessMessage('Emails have been sent to the selected users.');\n        }).catch(reason => {\n            this.dexihMessage.addMessage(reason);\n        });\n    }\n\n    editUser(user: UserAuthorization) {\n        this.router.navigate(['edit-user', user.userName], { queryParamsHandling: 'merge', relativeTo: this.route.parent });\n    }\n\n}\n","<dexih-message #DexihMessage></dexih-message>\n\n<div class=\"container\">\n    <d-widget title=\"Users\" \n\t\ticonClass=\"fa fa-lg fa-fw fa-group\" \n\t\t\n\t>\n\t\t<d-table \n\t\t\t[enableMultiSelect]=\"true\"\n\t\t\t[columns]=\"columns\"\n\t\t\t[dataObservable]=\"tableData\"\n\t\t\t(rowClick)=\"editUser($event)\"\n\t\t\t>\n\t\t\t\t<ng-template #selectedItemsAction select=\"selectedItemsAction\" let-items=\"items\">\n\t\t\t\t\t<d-button class=\"mr-1\" (click)=\"reinviteUsers(items)\" iconClass=\"fa fa-envelope\" buttonClass=\"btn-primary\" title=\"invite or resend invite to selected users.\">Resend Invite</d-button>\n\t\t\t\t\t<d-button-delete class=\"mr-1\" title=\"Delete selected users\" (click)=\"deleteUsers(items)\"></d-button-delete>\n\t\t\t\t\t<d-button class=\"mr-1\" (click)=\"revokeUsers(items)\" iconClass=\"fa fa-lock\" buttonClass=\"btn-danger\" title=\"Revoke selected users access.\">Revoke</d-button>\n\t\t\t\t\t<d-button (click)=\"enableUsers(items)\" iconClass=\"fa fa-unlock\" buttonClass=\"btn-success\" title=\"Re-enable selected users access\">Enable</d-button>\n\t\t\t\t</ng-template>\n\n\t\t\t\t<ng-template #selectedItemAction select=\"selectedItemAction\" let-user=\"item\">\n\t\t\t\t\t<d-button-edit title=\"Edit User\" [routerLink]=\"['edit-user', user.userName]\"></d-button-edit>\n\t\t\t\t</ng-template>\n\n\t\t\t\t<ng-template #actions let-items=\"items\">\n\t\t\t\t\t<d-button-new class=\"mr-1\" title=\"Create a new user\" [routerLink]=\"['new-user']\"></d-button-new>\n\t\t\t\t\t<d-button [routerLink]=\"['invite-users']\" iconClass=\"fa fa-envelope\" buttonClass=\"btn-primary\" title=\"Invite users\">Invite</d-button>\n\t\t\t\t</ng-template>\n\t\t</d-table>\n\n    </d-widget>\n</div>\n\n\n","import { Component, OnInit, OnDestroy, ViewChild } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { AuthService } from '../../../+auth/auth.service';\nimport { Subscription,  combineLatest} from 'rxjs';\nimport { Location } from '@angular/common';\nimport { FormsService } from '../../../shared/forms/forms.service';\nimport { UserAuthorization, UserLogin } from '../../admin.models';\nimport { DexihMessageComponent } from '../../../shared/ui/dexihMessage';\nimport { UserModel } from '../../../shared/shared.models';\n\n@Component({\n\n  selector: 'user-edit-form',\n  templateUrl: './user-edit.component.html',\n  providers: [FormsService]\n})\nexport class UserEditComponent implements OnInit, OnDestroy {\n  @ViewChild('DexihMessage', { static: true }) public dexihMessage: DexihMessageComponent;\n\n  private _subscription: Subscription;\n\n  private action: string;\n  email: string;\n  logins: Array<UserLogin>;\n\n  constructor(\n    private authService: AuthService,\n    public formsService: FormsService,\n    private route: ActivatedRoute) {\n  }\n\n  ngOnInit() {\n    try {\n      this._subscription = combineLatest([\n        this.route.data,\n        this.route.params]\n      ).subscribe(result => {\n        let data = result[0];\n        let params = result[1];\n\n        this.action = data['action'];\n\n        if (this.action === 'new') {\n          const user = new UserAuthorization();\n          this.formsService.createDefault(user, user);\n        } else {\n          this.email = params['userName'];\n\n          if (!this.email) {\n            this.authService.navigateUp();\n            return;\n          }\n          this.refreshForm();\n        }\n      });\n    } catch (e) {\n      this.dexihMessage.addMessage(e.message);\n    }\n\n  }\n\n  ngOnDestroy() {\n    if (this._subscription) { this._subscription.unsubscribe(); }\n  }\n\n  refreshForm() {\n    this.authService.post<UserModel>('/api/Admin/GetUser', {\n      email: this.email,\n    }, 'Getting user details...').then(result => {\n      this.logins = result.logins;\n      this.formsService.createDefault(result, new UserAuthorization());\n    }).catch(reason => {\n      this.dexihMessage.addMessage(reason);\n    });\n\n  }\n  save() {\n    const user = this.formsService.currentForm.value;\n\n    if (this.action === 'new') {\n      this.authService.post('/api/Admin/AddUsers', {\n        users: [user],\n        sendInvite: true\n      }, 'Adding users...').then(() => {\n        this.authService.navigateUp();\n      }).catch(reason => {\n        this.dexihMessage.addMessage(reason);\n      });\n    } else {\n      this.authService.post('/api/Admin/UpdateUsers', {\n        users: [user],\n      }, 'Updating users...').then(() => {\n        this.authService.navigateUp();\n      }).catch(reason => {\n        this.dexihMessage.addMessage(reason);\n      });\n\n    }\n  }\n\n  cancel() {\n    this.authService.navigateUp();\n  }\n\n  deleteLogin(login: UserLogin) {\n    const user = this.formsService.currentForm.value;\n\n    this.authService.post('/api/Admin/RemoveExternalLogin', {\n      email: user.email,\n      provider: login.loginProvider,\n      providerKey: login.providerKey\n    }, 'Removing external login...').then(() => {\n      this.refreshForm();\n    }).catch(reason => {\n      this.dexihMessage.addMessage(reason);\n    });\n  }\n\n}\n","<dexih-message #DexihMessage></dexih-message>\n\n<div class=\"container pt-3\">\n\t<d-widget>\n\t<d-tabs title=\"Edit User\" [padding]=\"false\">\n    <d-tab title=\"User Details\" iconClass=\"fa fa-lg fa-fw fa-user\"  [padding]=\"true\" [showHeader]=\"true\">\n        <ng-template #tabHeader>\n\t\t\t<d-button-save class=\"mr-1\" [busy]=\"formsService.formSaving\" (click)=\"save()\"></d-button-save>\n\t\t\t<d-button-cancel (click)=\"cancel()\"></d-button-cancel>\n        </ng-template>\n\n\t\t<form *ngIf=\"formsService.currentForm\"  [formGroup]=\"formsService.currentForm\">\n\t\t\t<fieldset>\n\t\t\t\t<section>\n\t\t\t\t\t<form-input label=\"Email Address\" formControlName=\"email\" placeholder=\"Enter the email.\" iconClass=\"fa fa-list\" >\n\t\t\t\t\t</form-input>\n\t\t\t\t</section>\n\n\t\t\t\t<section>\n\t\t\t\t\t<form-input label=\"User Name\" formControlName=\"userName\" placeholder=\"Enter the user name.\" iconClass=\"fa fa-list\" >\n\t\t\t\t\t</form-input>\n\t\t\t\t</section>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input label=\"First Name\" formControlName=\"firstName\" placeholder=\"First Name\" [autocapitalize]=\"true\">\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input label=\"Last Name\" formControlName=\"lastName\" placeholder=\"Last Name\" [autocapitalize]=\"true\">\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Agreed Terms\" formControlName=\"terms\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Agreed Subscription\" formControlName=\"subscription\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input type=\"number\" label=\"Maximum Personal Hubs\" formControlName=\"hubQuota\" placeholder=\"Enter the number of hubs\" iconClass=\"fa fa-list\" >\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input type=\"number\" label=\"Number of invites\" formControlName=\"inviteQuota\" >\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Is Invited\" formControlName=\"isInvited\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"IsRegistered\" formControlName=\"isRegistered\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Is Enabled\" formControlName=\"isEnabled\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Email is confirmed\" formControlName=\"emailConfirmed\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Lockout Enabled\" formControlName=\"lockoutEnabled\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input type=\"date\" label=\"Lockout End\" formControlName=\"lockoutEnd\" >\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input label=\"Phone Number\" formControlName=\"phoneNumber\" >\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Phone Number Confirmed\" formControlName=\"phoneNumberConfirmed\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Two Factor Enabled\" formControlName=\"twoFactorEnabled\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t</fieldset>\n\t\t</form>\n \n    </d-tab>\n\n\t<d-tab title=\"Logins\" subTitle=\"The following login providers are available for this login\" iconClass=\"fa fa-lg fa-fw fa-life-saver\"  [padding]=\"true\">\n\t\t<ul class=\"list-group\">\n\n\t\t\t<li *ngFor=\"let login of logins\" class=\"list-group-item\">\n\t\t\t\t<h3>Provider: {{login.loginProvider}}</h3>\n\t\t\t\t<hr>\n\t\t\t\t<div>\n\t\t\t\t\t<a class=\"btn btn-danger text-white\" (click)=\"deleteLogin(login)\" title=\"Remove the following login\">Delete</a>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>\n\t</d-tab>\n</d-tabs>\n</d-widget>\n</div>\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { Routing } from './admin.routing';\nimport { SharedModule } from '../shared/shared.module';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { AdminMainComponent } from './admin-main.component';\nimport { UsersIndexComponent } from './users/users-index/users-index.component';\nimport { UserEditComponent } from './users/user-edit/user-edit.component';\nimport { UsersInviteComponent } from './users/users-invite/users-invite.component';\n\n@NgModule({\n    imports: [\n        SharedModule,\n        Routing,\n        ReactiveFormsModule\n    ],\n    exports: [],\n    declarations: [\n        AdminMainComponent,\n        UsersIndexComponent,\n        UserEditComponent,\n        UsersInviteComponent\n    ],\n    providers: [],\n})\nexport class AdminModule { }\n","export class UserAuthorization {\n    public hubQuota = 1;\n    public inviteQuota = 5;\n    public firstName: string = null;\n    public lastName: string = null;\n    public terms = false;\n    public subscription = false;\n    public isEnabled = false;\n    public isRegistered = false;\n    public isInvited = false;\n\n    public accessFailedCount = 0;\n\n    public email: string = null;\n    public emailConfirmed = false;\n\n    public userName: string = null;\n\n    public id: string = null;\n\n    public lockoutEnabled = false;\n    public lockoutEnd: Date = null;\n\n    public logins: UserLogin[];\n    public claims: UserClaim[];\n\n    public twoFactorEnabled = false;\n    public phoneNumber: string = null;\n    public phoneNumberConfirmed = false;\n\n    public roles: string[];\n\n}\n\nexport class UserLogin {\n    public loginProvider: string = null;\n    public providerDisplayName: string = null;\n    public providerKey: string = null;\n    public userId: string = null;\n}\n\nexport class UserClaim {\n    public issuer: string = null;\n    public originalIssuer: string = null;\n    public type: string = null;\n    public valueType: string = null;\n    public value: string = null;\n}\n\nexport class Invites {\n    public emails: string[] = [];\n    public hubQuota = 1;\n    public inviteQuota = 5;\n    public role = eRole.User;\n}\n\nexport enum eRole {\n    Administrator = 1,\n    Manager = 2,\n    User = 3,\n    Viewer = 4,\n    None = 5\n}\nexport const roles = [\n    {key: eRole.Administrator, name: 'Administrator'},\n    {key: eRole.Manager, name: 'Manager'},\n    {key: eRole.User, name: 'User'},\n    {key: eRole.Viewer, name: 'Viewer'},\n    {key: eRole.None, name: 'None'},\n];\n","import { Component, OnInit, OnDestroy, ViewChild } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { AuthService } from '../../../+auth/auth.service';\nimport { Subscription} from 'rxjs';\nimport { Location } from '@angular/common';\nimport { FormsService } from '../../../shared/forms/forms.service';\nimport { Invites, roles } from '../../admin.models';\nimport { DexihMessageComponent } from '../../../shared/ui/dexihMessage';\n\n@Component({\n\n  selector: 'users-invite-form',\n  templateUrl: './users-invite.component.html',\n  providers: [ FormsService ]\n})\nexport class UsersInviteComponent implements OnInit, OnDestroy {\n@ViewChild('DexihMessage', { static: true }) public dexihMessage: DexihMessageComponent;\n\n  private _routeDataSubscription: Subscription;\n\n\n  roles = roles;\n\n  constructor(\n    private authService: AuthService,\n    public formsService: FormsService,\n    private route: ActivatedRoute) {\n  }\n\n  ngOnInit() {\n\n    this._routeDataSubscription = this.route.data.subscribe(data => {\n\n      const inviteUsers = new Invites();\n      this.formsService.createDefault(inviteUsers, inviteUsers);\n    });\n  }\n\n  ngOnDestroy() {\n    if (this._routeDataSubscription) { this._routeDataSubscription.unsubscribe(); }\n  }\n\n  save() {\n    const emails = this.formsService.currentForm.value.emails;\n    const hubQuota = this.formsService.currentForm.value.hubQuota;\n      const inviteQuota = this.formsService.currentForm.value.inviteQuota;\n      const role = this.formsService.currentForm.value.role;\n      this.authService.post('/api/Admin/InviteUsers', {\n              emails: emails,\n              hubQuota: hubQuota,\n              inviteQuota: inviteQuota,\n              role: role\n          }, 'Inviting users...').then(() => {\n            this.authService.navigateUp();\n        }).catch(reason => {\n          this.dexihMessage.addMessage(reason);\n      });\n  }\n\n  cancel() {\n    this.authService.navigateUp();\n  }\n\n}\n","<dexih-message #DexihMessage></dexih-message>\n\n<div class=\"container\">\n    <d-widget title=\"Invite Users\" iconClass=\"fa fa-lg fa-fw fa-user\" [padding]=\"true\">\n        <ng-template #tools>\n\t\t\t\t<button \n\t\t\t\t\tclass=\"btn btn-primary mr-1\" \n\t\t\t\t\t[ngClass]=\"{disabled : formsService.formSaving || !formsService.hasChanged }\" \n\t\t\t\t\t(click)=\"save()\">\n\t\t\t\t\t<i *ngIf=\"formsService.formSaving\" class=\"fa fa-spin fa-cog\"></i> Send Invites\n\t\t\t\t</button>\t\t\t\t\n\t\t\t\t<d-button-cancel (click)=\"cancel()\"></d-button-cancel>\n        </ng-template>\n\n\t\t<form *ngIf=\"formsService.currentForm\"  [formGroup]=\"formsService.currentForm\">\n\t\t\t<fieldset>\n\t\t\t\t<section>\n\t\t\t\t\t<form-tags label=\"Email Addresses\" formControlName=\"emails\" placeholder=\"Provide emails to invite.\" note=\"Enter email addresses of users to invite to join the integration hub.\" >\n\t\t\t\t\t</form-tags>\n\t\t\t\t</section>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input type=\"number\" label=\"Maximum Personal Hubs\" formControlName=\"hubQuota\" placeholder=\"Enter the number of hubs.\" iconClass=\"fa fa-list\" >\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input type=\"number\" label=\"Number of invites\" formControlName=\"inviteQuota\" placeholder=\"Enter the number of invites.\" >\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<section>\n\t\t\t\t\t<form-select label=\"Default Role\" formControlName=\"role\" [items]=\"roles\" itemName=\"name\" itemKey=\"key\" [enableFilter]=\"false\"\n\t\t\t\t\tnote=\"Enter the role provided to the invited users.\" >\n\t\t\t\t\t</form-select>\n\t\t\t\t</section>\n\n\t\t\t</fieldset>\n\t\t</form>\n \n    </d-widget>\n"]}