{"version":3,"sources":["webpack:///src/app/+admin/admin-main.component.ts","webpack:///src/app/+admin/admin-main.component.html","webpack:///src/app/+admin/admin.models.ts","webpack:///src/app/+admin/admin.module.ts","webpack:///src/app/+admin/admin.routing.ts","webpack:///src/app/+admin/users/user-edit/user-edit.component.ts","webpack:///src/app/+admin/users/user-edit/user-edit.component.html","webpack:///src/app/+admin/users/users-index/users-index.component.ts","webpack:///src/app/+admin/users/users-index/users-index.component.html","webpack:///src/app/+admin/users/users-invite/users-invite.component.ts","webpack:///src/app/+admin/users/users-invite/users-invite.component.html"],"names":["AdminMainComponent","selector","templateUrl","UserAuthorization","hubQuota","inviteQuota","firstName","lastName","terms","subscription","isEnabled","isRegistered","isInvited","accessFailedCount","email","emailConfirmed","userName","id","lockoutEnabled","lockoutEnd","twoFactorEnabled","phoneNumber","phoneNumberConfirmed","UserLogin","loginProvider","providerDisplayName","providerKey","userId","UserClaim","issuer","originalIssuer","type","valueType","value","Invites","emails","role","eRole","User","roles","key","Administrator","name","Manager","Viewer","None","AdminModule","imports","exports","declarations","providers","routes","path","component","children","data","pageTitle","action","Routing","forChild","UserEditComponent","authService","formsService","route","router","location","_subscription","params","subscribe","result","user","createDefault","navigateUp","refreshForm","e","dexihMessage","addMessage","message","unsubscribe","post","then","logins","reason","currentForm","users","sendInvite","login","provider","UsersIndexComponent","columns","title","format","_tableData","tableData","asObservable","refreshUsers","searchString","maxResults","next","map","c","confirmDialog","join","confirm","addSuccessMessage","navigate","queryParamsHandling","relativeTo","parent","editUser","styles","UsersInviteComponent","_routeDataSubscription","inviteUsers"],"mappings":"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","file":"10-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\n\n@Component({\n    selector: 'admin-main',\n    templateUrl: './admin-main.component.html'\n})\nexport class AdminMainComponent implements OnInit {\n\n    constructor() {\n    }\n\n    ngOnInit() {\n\n    }\n\n}\n","<div id=\"content\">\n    <router-outlet></router-outlet>\n</div>\n","export class UserAuthorization {\n    public hubQuota = 1;\n    public inviteQuota = 5;\n    public firstName: string = null;\n    public lastName: string = null;\n    public terms = false;\n    public subscription = false;\n    public isEnabled = false;\n    public isRegistered = false;\n    public isInvited = false;\n\n    public accessFailedCount = 0;\n\n    public email: string = null;\n    public emailConfirmed = false;\n\n    public userName: string = null;\n\n    public id: string = null;\n\n    public lockoutEnabled = false;\n    public lockoutEnd: Date = null;\n\n    public logins: UserLogin[];\n    public claims: UserClaim[];\n\n    public twoFactorEnabled = false;\n    public phoneNumber: string = null;\n    public phoneNumberConfirmed = false;\n\n    public roles: string[];\n\n}\n\nexport class UserLogin {\n    public loginProvider: string = null;\n    public providerDisplayName: string = null;\n    public providerKey: string = null;\n    public userId: string = null;\n}\n\nexport class UserClaim {\n    public issuer: string = null;\n    public originalIssuer: string = null;\n    public type: string = null;\n    public valueType: string = null;\n    public value: string = null;\n}\n\nexport class Invites {\n    public emails: string[] = [];\n    public hubQuota = 1;\n    public inviteQuota = 5;\n    public role = eRole.User;\n}\n\nexport enum eRole {\n    Administrator = 1,\n    Manager = 2,\n    User = 3,\n    Viewer = 4,\n    None = 5\n}\nexport const roles = [\n    {key: eRole.Administrator, name: 'Administrator'},\n    {key: eRole.Manager, name: 'Manager'},\n    {key: eRole.User, name: 'User'},\n    {key: eRole.Viewer, name: 'Viewer'},\n    {key: eRole.None, name: 'None'},\n];\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { Routing } from './admin.routing';\nimport { SharedModule } from '../shared/shared.module';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { AdminMainComponent } from './admin-main.component';\nimport { UsersIndexComponent } from './users/users-index/users-index.component';\nimport { UserEditComponent } from './users/user-edit/user-edit.component';\nimport { UsersInviteComponent } from './users/users-invite/users-invite.component';\n\n@NgModule({\n    imports: [\n        SharedModule,\n        Routing,\n        ReactiveFormsModule\n    ],\n    exports: [],\n    declarations: [\n        AdminMainComponent,\n        UsersIndexComponent,\n        UserEditComponent,\n        UsersInviteComponent\n    ],\n    providers: [],\n})\nexport class AdminModule { }\n","import { Routes, RouterModule } from '@angular/router';\nimport { AdminMainComponent } from './admin-main.component';\nimport { UsersIndexComponent } from './users/users-index/users-index.component';\nimport { UserEditComponent } from './users/user-edit/user-edit.component';\nimport { UsersInviteComponent } from './users/users-invite/users-invite.component';\n\nexport const routes: Routes = [\n    { path: '', component: AdminMainComponent, children: [\n    { path: 'users', data: { pageTitle: 'Users' }, children : [\n        { path: '', component: UsersIndexComponent, data: { pageTitle: 'Users Summary' } },\n        { path: 'edit-user/:userName', component: UserEditComponent, data: { action: 'edit', pageTitle: 'Edit User' } },\n        { path: 'new-user', component: UserEditComponent, data: { action: 'new', pageTitle: 'New User' } },\n        { path: 'invite-users', component: UsersInviteComponent, data: { pageTitle: 'Invite Users' } },\n    ] },\n    ]}\n];\n\nexport const Routing = RouterModule.forChild(routes);\n","import { Component, OnInit, OnDestroy, ViewChild } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { AuthService } from '../../../+auth/auth.service';\nimport { UserLoginInfo, User } from '../../../+auth/auth.models';\nimport { Subscription,  Observable, combineLatest} from 'rxjs';\nimport { Location } from '@angular/common';\nimport { FormsService } from '../../../shared/forms/forms.service';\nimport { UserAuthorization, UserLogin } from '../../admin.models';\nimport { DexihMessageComponent } from '../../../shared/ui/dexihMessage';\nimport { UserModel } from '../../../shared/shared.models';\n\n@Component({\n\n  selector: 'user-edit-form',\n  templateUrl: './user-edit.component.html',\n  providers: [FormsService]\n})\nexport class UserEditComponent implements OnInit, OnDestroy {\n  @ViewChild('DexihMessage', { static: true }) public dexihMessage: DexihMessageComponent;\n\n  private _subscription: Subscription;\n\n  private action: string;\n  email: string;\n  logins: Array<UserLogin>;\n\n  constructor(\n    private authService: AuthService,\n    public formsService: FormsService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private location: Location) {\n  }\n\n  ngOnInit() {\n    try {\n      this._subscription = combineLatest(\n        this.route.data,\n        this.route.params,\n      ).subscribe(result => {\n        let data = result[0];\n        let params = result[1];\n\n        this.action = data['action'];\n\n        if (this.action === 'new') {\n          const user = new UserAuthorization();\n          this.formsService.createDefault(user, user);\n        } else {\n          this.email = params['userName'];\n\n          if (!this.email) {\n            this.authService.navigateUp();\n            return;\n          }\n          this.refreshForm();\n        }\n      });\n    } catch (e) {\n      this.dexihMessage.addMessage(e.message);\n    }\n\n  }\n\n  ngOnDestroy() {\n    if (this._subscription) { this._subscription.unsubscribe(); }\n  }\n\n  refreshForm() {\n    this.authService.post<UserModel>('/api/Admin/GetUser', {\n      email: this.email,\n    }, 'Getting user details...').then(result => {\n      this.logins = result.logins;\n      this.formsService.createDefault(result, new UserAuthorization());\n    }).catch(reason => {\n      this.dexihMessage.addMessage(reason);\n    });\n\n  }\n  save() {\n    const user = this.formsService.currentForm.value;\n\n    if (this.action === 'new') {\n      this.authService.post('/api/Admin/AddUsers', {\n        users: [user],\n        sendInvite: true\n      }, 'Adding users...').then(result => {\n        this.authService.navigateUp();\n      }).catch(reason => {\n        this.dexihMessage.addMessage(reason);\n      });\n    } else {\n      this.authService.post('/api/Admin/UpdateUsers', {\n        users: [user],\n      }, 'Updating users...').then(result => {\n        this.authService.navigateUp();\n      }).catch(reason => {\n        this.dexihMessage.addMessage(reason);\n      });\n\n    }\n  }\n\n  cancel() {\n    this.authService.navigateUp();\n  }\n\n  deleteLogin(login: UserLogin) {\n    const user = this.formsService.currentForm.value;\n\n    this.authService.post('/api/Admin/RemoveExternalLogin', {\n      email: user.email,\n      provider: login.loginProvider,\n      providerKey: login.providerKey\n    }, 'Removing external login...').then(result => {\n      this.refreshForm();\n    }).catch(reason => {\n      this.dexihMessage.addMessage(reason);\n    });\n  }\n\n}\n","<dexih-message #DexihMessage></dexih-message>\n\n<div class=\"container pt-3\">\n\t<dexih-widget-vertical>\n    <dexih-widget title=\"User Details\" iconClass=\"fa fa-lg fa-fw fa-user\"  [padding]=\"true\">\n        <ng-template #header>\n\t\t\t<dexih-button-save class=\"mr-1\" [busy]=\"formsService.formSaving\" (click)=\"save()\"></dexih-button-save>\n\t\t\t<dexih-button-cancel (click)=\"cancel()\"></dexih-button-cancel>\n        </ng-template>\n\n\t\t<form *ngIf=\"formsService.currentForm\"  [formGroup]=\"formsService.currentForm\">\n\t\t\t<fieldset>\n\t\t\t\t<section>\n\t\t\t\t\t<form-input label=\"Email Address\" formControlName=\"email\" placeholder=\"Enter the email.\" iconClass=\"fa fa-list\" >\n\t\t\t\t\t</form-input>\n\t\t\t\t</section>\n\n\t\t\t\t<section>\n\t\t\t\t\t<form-input label=\"User Name\" formControlName=\"userName\" placeholder=\"Enter the user name.\" iconClass=\"fa fa-list\" >\n\t\t\t\t\t</form-input>\n\t\t\t\t</section>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input label=\"First Name\" formControlName=\"firstName\" placeholder=\"First Name\" [autocapitalize]=\"true\">\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input label=\"Last Name\" formControlName=\"lastName\" placeholder=\"Last Name\" [autocapitalize]=\"true\">\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Agreed Terms\" formControlName=\"terms\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Agreed Subscription\" formControlName=\"subscription\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input type=\"number\" label=\"Maximum Personal Hubs\" formControlName=\"hubQuota\" placeholder=\"Enter the number of hubs\" iconClass=\"fa fa-list\" >\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input type=\"number\" label=\"Number of invites\" formControlName=\"inviteQuota\" >\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Is Invited\" formControlName=\"isInvited\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"IsRegistered\" formControlName=\"isRegistered\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Is Enabled\" formControlName=\"isEnabled\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Email is confirmed\" formControlName=\"emailConfirmed\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Lockout Enabled\" formControlName=\"lockoutEnabled\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input type=\"date\" label=\"Lockout End\" formControlName=\"lockoutEnd\" >\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input label=\"Phone Number\" formControlName=\"phoneNumber\" >\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Phone Number Confirmed\" formControlName=\"phoneNumberConfirmed\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Two Factor Enabled\" formControlName=\"twoFactorEnabled\" >\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t</fieldset>\n\t\t</form>\n \n    </dexih-widget>\n\n\t<dexih-widget title=\"Logins\" subTitle=\"The following login providers are available for this login\" iconClass=\"fa fa-lg fa-fw fa-life-saver\"  [padding]=\"true\">\n\t\t<ng-template #tools>\n\n\t\t</ng-template>\n\n\t\t<ul class=\"list-group\">\n\n\t\t\t<li *ngFor=\"let login of logins\" class=\"list-group-item\">\n\t\t\t\t<h3>Provider: {{login.loginProvider}}</h3>\n\t\t\t\t<hr>\n\t\t\t\t<div>\n\t\t\t\t\t<a class=\"btn btn-danger text-white\" (click)=\"deleteLogin(login)\" title=\"Remove the following login\">Delete</a>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>\n\t</dexih-widget>\n</dexih-widget-vertical>\n</div>\n","import { Component, OnInit, OnDestroy, Input, ViewChild } from '@angular/core';\nimport { AuthService } from '../../../+auth/auth.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Subscription, Observable, BehaviorSubject, combineLatest } from 'rxjs';\nimport { UserAuthorization } from '../../admin.models';\nimport { DexihMessageComponent } from '../../../shared/ui/dexihMessage';\nimport { ApplicationUser } from '../../../shared/shared.models';\n\n@Component({\n    selector: 'users',\n    templateUrl: './users-index.component.html',\n    styles: []\n})\nexport class UsersIndexComponent implements OnInit, OnDestroy {\n    @ViewChild('DexihMessage', { static: true }) public dexihMessage: DexihMessageComponent;\n\n    users: Array<UserAuthorization>;\n\n    columns = [\n        { name: 'email', title: 'Email', format: '' },\n        { name: 'firstName', title: 'First Name', format: '' },\n        { name: 'lastName', title: 'Last Name', format: '' },\n        { name: 'isInvited', title: 'Is Invited', format: 'Boolean' },\n        { name: 'emailConfirmed', title: 'Email Confirmed', format: 'Boolean' },\n        { name: 'isRegistered', title: 'Is Registered', format: 'Boolean' },\n        { name: 'isEnabled', title: 'Is Enabled', format: 'Boolean' },\n        { name: 'lockoutEnd', title: 'Lockout End', format: 'Time' },\n        { name: 'terms', title: 'Agreed terms', format: 'Boolean' },\n        { name: 'subscription', title: 'Agreed subscription', format: 'Boolean' },\n    ];\n\n    private _tableData = new BehaviorSubject<Array<any>>(null);\n    tableData: Observable<Array<any>> = this._tableData.asObservable();\n\n    constructor(\n        private authService: AuthService,\n        private router: Router,\n        private route: ActivatedRoute) {\n    }\n\n    ngOnInit() {\n        this.refreshUsers();\n    }\n\n    ngOnDestroy() {\n    }\n\n    refreshUsers() {\n        this.authService.post<ApplicationUser[]>('/api/Admin/GetUsers', {\n            searchString: '',\n            maxResults: 100,\n        }, 'Getting user details...').then(result => {\n            this._tableData.next(result);\n        }).catch(reason => {\n            this.dexihMessage.addMessage(reason);\n        });\n    }\n\n    deleteUsers(users: Array<UserAuthorization>) {\n        const emails = users.map(c => c.userName);\n\n        this.authService.confirmDialog('Delete users?', 'This action will delete users with the following emails: <p>' +\n            emails.join('</p><p>') + '</p>  <p></p>Are you sure?').then(confirm => {\n                if (confirm) {\n                    this.authService.post('/api/Admin/DeleteUsers', {\n                        emails: emails\n                    }, 'Deleting users...').then(result => {\n                        this.refreshUsers();\n                    }).catch(reason => {\n                        this.dexihMessage.addMessage(reason);\n                    });\n                }\n            });\n    }\n\n    revokeUsers(users: Array<UserAuthorization>) {\n        const emails = users.map(c => c.userName);\n\n        this.authService.confirmDialog('Revoke users?', 'This action will revoke users with the following emails: <p>' +\n            emails.join('</p><p>') + '</p>  <p></p>Are you sure?').then(confirm => {\n                if (confirm) {\n\n                    this.authService.post('/api/Admin/RevokeUsers', {\n                        emails: users.map(c => c.userName)\n                    }, 'Revoking users...').then(result => {\n                        this.refreshUsers();\n                    }).catch(reason => {\n                        this.dexihMessage.addMessage(reason);\n                    });\n                }\n            });\n    }\n\n    enableUsers(users: Array<UserAuthorization>) {\n        const emails = users.map(c => c.userName);\n\n        this.authService.confirmDialog('Enable users?', 'This action will re-enable logins for users with the following emails: <p>' +\n            emails.join('</p><p>') + '</p>  <p></p>Are you sure?').then(confirm => {\n                if (confirm) {\n\n                    this.authService.post('/api/Admin/EnableUsers', {\n                        emails: users.map(c => c.userName)\n                    }, 'Enabling users...').then(result => {\n                        this.refreshUsers();\n                    }).catch(reason => {\n                        this.dexihMessage.addMessage(reason);\n                    });\n                }\n            });\n    }\n\n    reinviteUsers(users: Array<UserAuthorization>) {\n        this.authService.post('/api/Admin/ReInviteUsers', {\n            emails: users.map(c => c.userName)\n        }, 'Inviting users...').then(result => {\n            this.dexihMessage.addSuccessMessage('Emails have been sent to the selected users.');\n        }).catch(reason => {\n            this.dexihMessage.addMessage(reason);\n        });\n    }\n\n    editUser(user: UserAuthorization) {\n        this.router.navigate(['edit-user', user.userName], { queryParamsHandling: 'merge', relativeTo: this.route.parent });\n    }\n\n}\n","<dexih-message #DexihMessage></dexih-message>\n\n<div class=\"container-fluid\">\n    <dexih-widget title=\"Users\" \n\t\ticonClass=\"fa fa-lg fa-fw fa-group\" \n\t\t\n\t>\n\t\t<dexih-table \n\t\t\t[enableMultiSelect]=\"true\"\n\t\t\t[columns]=\"columns\"\n\t\t\t[dataObservable]=\"tableData\"\n\t\t\t(rowClick)=\"editUser($event)\"\n\t\t\t>\n\t\t\t\t<ng-template #selectedItemsAction select=\"selectedItemsAction\" let-items=\"items\">\n\t\t\t\t\t<dexih-button class=\"mr-1\" (click)=\"reinviteUsers(items)\" iconClass=\"fa fa-envelope\" buttonClass=\"btn-primary\" title=\"invite or resend invite to selected users.\">Resend Invite</dexih-button>\n\t\t\t\t\t<dexih-button-delete class=\"mr-1\" title=\"Delete selected users\" (click)=\"deleteUsers(items)\"></dexih-button-delete>\n\t\t\t\t\t<dexih-button class=\"mr-1\" (click)=\"revokeUsers(items)\" iconClass=\"fa fa-lock\" buttonClass=\"btn-danger\" title=\"Revoke selected users access.\">Revoke</dexih-button>\n\t\t\t\t\t<dexih-button (click)=\"enableUsers(items)\" iconClass=\"fa fa-unlock\" buttonClass=\"btn-success\" title=\"Re-enable selected users access\">Enable</dexih-button>\n\t\t\t\t</ng-template>\n\n\t\t\t\t<ng-template #selectedItemAction select=\"selectedItemAction\" let-user=\"item\">\n\t\t\t\t\t<dexih-button-edit title=\"Edit User\" [routerLink]=\"['edit-user', user.userName]\"></dexih-button-edit>\n\t\t\t\t</ng-template>\n\n\t\t\t\t<ng-template #actions let-items=\"items\">\n\t\t\t\t\t<dexih-button-new class=\"mr-1\" title=\"Create a new user\" [routerLink]=\"['new-user']\"></dexih-button-new>\n\t\t\t\t\t<dexih-button [routerLink]=\"['invite-users']\" iconClass=\"fa fa-envelope\" buttonClass=\"btn-primary\" title=\"Invite users\">Invite</dexih-button>\n\t\t\t\t</ng-template>\n\t\t</dexih-table>\n\n    </dexih-widget>\n</div>\n\n\n","import { Component, OnInit, OnDestroy, ViewChild } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { AuthService } from '../../../+auth/auth.service';\nimport { Subscription, combineLatest} from 'rxjs';\nimport { Location } from '@angular/common';\nimport { FormsService } from '../../../shared/forms/forms.service';\nimport { Invites, roles } from '../../admin.models';\nimport { DexihMessageComponent } from '../../../shared/ui/dexihMessage';\n\n@Component({\n\n  selector: 'users-invite-form',\n  templateUrl: './users-invite.component.html',\n  providers: [ FormsService ]\n})\nexport class UsersInviteComponent implements OnInit, OnDestroy {\n@ViewChild('DexihMessage', { static: true }) public dexihMessage: DexihMessageComponent;\n\n  private _routeDataSubscription: Subscription;\n\n  private action: string;\n\n  roles = roles;\n\n  constructor(\n    private authService: AuthService,\n    public formsService: FormsService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private location: Location) {\n  }\n\n  ngOnInit() {\n\n    this._routeDataSubscription = this.route.data.subscribe(data => {\n      this.action = data['action'];\n\n      const inviteUsers = new Invites();\n      this.formsService.createDefault(inviteUsers, inviteUsers);\n    });\n  }\n\n  ngOnDestroy() {\n    if (this._routeDataSubscription) { this._routeDataSubscription.unsubscribe(); }\n  }\n\n  save() {\n    const emails = this.formsService.currentForm.value.emails;\n    const hubQuota = this.formsService.currentForm.value.hubQuota;\n      const inviteQuota = this.formsService.currentForm.value.inviteQuota;\n      const role = this.formsService.currentForm.value.role;\n      this.authService.post('/api/Admin/InviteUsers', {\n              emails: emails,\n              hubQuota: hubQuota,\n              inviteQuota: inviteQuota,\n              role: role\n          }, 'Inviting users...').then(result => {\n            this.authService.navigateUp();\n        }).catch(reason => {\n          this.dexihMessage.addMessage(reason);\n      });\n  }\n\n  cancel() {\n    this.authService.navigateUp();\n  }\n\n}\n","<dexih-message #DexihMessage></dexih-message>\n\n<div class=\"container-fluid\">\n    <dexih-widget title=\"Invite Users\" iconClass=\"fa fa-lg fa-fw fa-user\" [padding]=\"true\">\n        <ng-template #tools>\n\t\t\t\t<button \n\t\t\t\t\tclass=\"btn btn-primary mr-1\" \n\t\t\t\t\t[ngClass]=\"{disabled : formsService.formSaving || !formsService.hasChanged }\" \n\t\t\t\t\t(click)=\"save()\">\n\t\t\t\t\t<i *ngIf=\"formsService.formSaving\" class=\"fa fa-spin fa-cog\"></i> Send Invites\n\t\t\t\t</button>\t\t\t\t\n\t\t\t\t<dexih-button-cancel (click)=\"cancel()\"></dexih-button-cancel>\n        </ng-template>\n\n\t\t<form *ngIf=\"formsService.currentForm\"  [formGroup]=\"formsService.currentForm\">\n\t\t\t<fieldset>\n\t\t\t\t<section>\n\t\t\t\t\t<form-tags label=\"Email Addresses\" formControlName=\"emails\" placeholder=\"Provide emails to invite.\" note=\"Enter email addresses of users to invite to join the integration hub.\" >\n\t\t\t\t\t</form-tags>\n\t\t\t\t</section>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input type=\"number\" label=\"Maximum Personal Hubs\" formControlName=\"hubQuota\" placeholder=\"Enter the number of hubs.\" iconClass=\"fa fa-list\" >\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input type=\"number\" label=\"Number of invites\" formControlName=\"inviteQuota\" placeholder=\"Enter the number of invites.\" >\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<section>\n\t\t\t\t\t<form-select label=\"Default Role\" formControlName=\"role\" [items]=\"roles\" itemName=\"name\" itemKey=\"key\" [enableFilter]=\"false\"\n\t\t\t\t\tnote=\"Enter the role provided to the invited users.\" >\n\t\t\t\t\t</form-select>\n\t\t\t\t</section>\n\n\t\t\t</fieldset>\n\t\t</form>\n \n    </dexih-widget>\n"]}