(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{NAU5:function(e,t,a){"use strict";a.r(t),a.d(t,"PublicModule",(function(){return S}));var r=a("tyNb"),i=a("3WyZ"),n=a("fXoL"),s=a("ofXK"),o=a("3Pt+"),d=a("Wumg"),c=a("ScdM");function h(e,t){if(1&e&&(n.Ob(0,"div",2),n.Ob(1,"nav",3),n.Ob(2,"div",4),n.Ob(3,"span",5),n.Lb(4,"img",6),n.Nb(),n.Nb(),n.Lb(5,"div",7),n.Ob(6,"form",8),n.Ob(7,"div"),n.Ob(8,"span",9),n.Fc(9," Need an account? "),n.Nb(),n.Ob(10,"a",10),n.Fc(11,"Sign Up"),n.Nb(),n.Nb(),n.Ob(12,"div"),n.Ob(13,"span",9),n.Fc(14," Already Registered? "),n.Nb(),n.Ob(15,"a",11),n.Fc(16,"Sign In"),n.Nb(),n.Nb(),n.Ob(17,"a",12),n.Fc(18,"Help"),n.Nb(),n.Ob(19,"dexih-button-dropdown",13),n.Ob(20,"a",14),n.Fc(21,"Sign Up"),n.Nb(),n.Ob(22,"a",15),n.Fc(23,"Sign In"),n.Nb(),n.Lb(24,"div",16),n.Ob(25,"a",17),n.Fc(26,"Forgot password"),n.Nb(),n.Ob(27,"a",18),n.Fc(28,"Verify password"),n.Nb(),n.Lb(29,"div",16),n.Ob(30,"a",19),n.Fc(31,"Privacy Policy"),n.Nb(),n.Ob(32,"a",20),n.Fc(33,"Terms and Conditions"),n.Nb(),n.Ob(34,"a",21),n.Fc(35,"Help"),n.Nb(),n.Nb(),n.Nb(),n.Nb(),n.Lb(36,"dexih-ribbon"),n.Lb(37,"router-outlet"),n.Nb()),2&e){const e=n.Zb();n.yb(4),n.hc("src",e.logoUrl,n.xc),n.yb(15),n.hc("pullRight",!0)("hideCarrot",!0)}}function u(e,t){1&e&&n.Lb(0,"router-outlet")}let b=(()=>{class e{constructor(e){this.route=e,this.logoUrl=i.k,this.embedded=!1}ngOnInit(){this._subscription=this.route.queryParams.subscribe(e=>{"true"===e.embed&&(this.embedded=!0)})}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(n.Kb(r.a))},e.\u0275cmp=n.Eb({type:e,selectors:[["dexih-public"]],decls:2,vars:2,consts:[["id","content",4,"ngIf"],[4,"ngIf"],["id","content"],[1,"navbar","navbar-expand-md","navbar-dark","bg-dark"],["id","logo-group"],["id","logo"],["alt","Data Experts Group",3,"src"],[1,"collapse","navbar-collapse","mr-sm-2"],[1,"form-inline"],[1,"d-none","d-md-inline","text-white","m-1"],["routerLink","/auth/register",1,"btn","btn-success","mr-1"],["routerLink","/auth/login",1,"btn","btn-success","mr-1"],["routerLink","/auth/help",1,"d-none","d-md-inline","btn","btn-secondary","text-white","mr-1"],["buttonClass","btn-primary","iconClass","fa fa-navicon",3,"pullRight","hideCarrot"],["routerLink","/auth/register",1,"dropdown-item"],["routerLink","/auth/login",1,"dropdown-item"],[1,"dropdown-divider"],["routerLink","/auth/forgot-password",1,"dropdown-item"],["routerLink","/auth/verifyemail",1,"dropdown-item"],["routerLink","/auth/privacy",1,"dropdown-item"],["routerLink","/auth/terms",1,"dropdown-item"],["routerLink","/auth/help",1,"dropdown-item"]],template:function(e,t){1&e&&(n.Dc(0,h,38,3,"div",0),n.Dc(1,u,1,0,"router-outlet",1)),2&e&&(n.hc("ngIf",!t.embedded),n.yb(1),n.hc("ngIf",t.embedded))},directives:[s.t,o.I,o.t,o.u,r.h,d.i,c.a,r.j],encapsulation:2}),e})();var l=a("1wre");const p=r.i.forChild([{path:"",component:b,children:[{path:"",redirectTo:"index"},{path:"index",data:{pageTitle:"Shared Data"},children:[{path:"",component:l.c,data:{pageTitle:"Shared Data"}},{path:"preview/:hubKey/:objectType/:objectKey",component:l.a,data:{pageTitle:"Preview"}},{path:"previewDashboard/:hubKey/:dashboardKey",component:l.b,data:{pageTitle:"Preview Dashboard"}}]}]}]);var g=a("PCNd"),m=a("rgmq"),v=a("2Vo4"),w=a("ElCs");let y=(()=>{class e{constructor(e){this.authService=e,this.logger=new m.a("public.service"),this._hubMessages=new v.a([])}ngOnDestroy(){}getHubMessagesObservable(){return this._hubMessages.asObservable()}getHubMessages(){return this._hubMessages.value}addHubMessage(e){this.authService.addUpdateNotification(e,!1);let t=this.getHubMessages();t.push(e),this._hubMessages.next(t)}addHubErrorMessage(e){let t=new i.e(!1,e,null,null);this.addHubMessage(t)}addHubClientErrorMessage(e,t){let a=new i.e(!1,t+".  The following error occurred on the client: "+e.message,e.stack,null);this.addHubMessage(a)}addHubSuccessMessage(e){let t=new i.e(!0,e,null,null);this.addHubMessage(t)}getSharedDataIndex(e,t,a,r){if(r||!this.sharedItemsIndex)return this.authService.post("/api/SharedData/SharedDataIndex",{searchString:e,hubKeys:t,maxResults:a},"Getting shared data index...");Promise.resolve(this.sharedItemsIndex)}downloadData(e,t,a,r){return new Promise((i,n)=>{let s=[],o=[];for(let t=0;t<e.length;t++)s[e[t].hubKey]||(s[e[t].hubKey]=!0,o.push(e[t].hubKey));o.forEach(s=>{this.authService.post("/api/SharedData/GetActiveAgent",{hubKey:s},"Getting active remote agent...").then(o=>{this.authService.postRemote("/api/SharedData/DownloadData",{hubKey:s,clientId:this.authService.getWebSocketConnectionId(),downloadFormat:a,zipFiles:t,sharedItems:e.filter(e=>e.hubKey===s),remoteAgentId:o.instanceId},o,"Downloading data...",r).then(e=>{this.authService.addUpdateTask(e),i(!0)}).catch(e=>{this.logger.LogC(()=>`downloadData, error: ${e.message}.`,m.b.Error),n(e)})})})})}previewData(e,t,a,r,i,n,s){return new Promise((o,d)=>{this.authService.post("/api/SharedData/GetActiveAgent",{hubKey:e},"Getting active remote agent...").then(c=>{this.authService.postRemote("/api/SharedData/PreviewData",{hubKey:e,objectType:a,objectKey:t,selectQuery:i,remoteAgentId:c.instanceId,inputColumns:r,parameters:n},c,"Previewing data...",s).then(e=>{e.columns=this.authService.constructDataTableColumns(e.columns),o(e)}).catch(e=>{d(e)})}).catch(e=>{d(e)})})}previewListOfValues(e,t,a,r,i,n){return new Promise((s,o)=>{this.authService.post("/api/SharedData/GetActiveAgent",{hubKey:e},"Getting active remote agent...").then(d=>{this.authService.postRemote("/api/SharedData/PreviewListOfValues",{hubKey:e,objectType:a,objectKey:t,parameterName:r,resetCache:i,remoteAgentId:d.instanceId},d,"Previewing list of values...",n).then(e=>{s(e)}).catch(e=>{o(e)})}).catch(e=>{o(e)})})}getDashboard(e,t){return new Promise((a,r)=>{this.authService.post("/api/SharedData/PreviewDashboard",{hubKey:e,dashboardKey:t},"Getting dashboard download locations...").then(e=>{a(e)}).catch(e=>r(e))})}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(w.a))},e.\u0275prov=n.Gb({token:e,factory:e.\u0275fac}),e})();var f=a("Fxci");let S=(()=>{class e{static forRoot(){return{ngModule:e,providers:[y]}}}return e.\u0275mod=n.Ib({type:e}),e.\u0275inj=n.Hb({factory:function(t){return new(t||e)},providers:[y],imports:[[g.a,p,o.C,f.a]]}),e})()}}]);
//# sourceMappingURL=16-es2015.ffc2e0b3608323a3de39.js.map