(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{geWG:function(e,t,a){"use strict";a.r(t),a.d(t,"DatajobEditModule",(function(){return ie}));var i=a("ofXK"),n=a("tyNb"),r=a("2v7R"),s=a("itXk"),o=a("fXoL"),c=a("4Y1E"),l=a("cvPx"),h=a("ElCs"),d=a("Wumg"),b=a("iFLP"),u=a("64E1"),m=a("oLr2");function p(e,t){if(1&e&&o.Lb(0,"save-button",5),2&e){const e=o.Zb(2);o.hc("formsService",e.formsService)}}function f(e,t){if(1&e){const e=o.Pb();o.Ob(0,"dexih-invalid-form-details",3),o.Vb("click",(function(){return o.vc(e),o.Zb().formsService.showErrors()})),o.Nb(),o.Dc(1,p,1,1,"save-button",4),o.Lb(2,"cancel-button",5)}if(2&e){const e=o.Zb();o.hc("control",e.formsService.currentForm),o.yb(1),o.hc("ngIf",null==e.hubCache?null:e.hubCache.canWrite),o.yb(1),o.hc("formsService",e.formsService)}}let g=(()=>{class e{constructor(e,t,a,i,n){this.hubService=e,this.formsService=t,this.authService=a,this.route=i,this.router=n,this.isLoaded=!1}ngOnInit(){try{this._subscription=Object(s.a)(this.route.data,this.route.params,this.hubService.getHubCacheObservable(!0)).subscribe(e=>{let t=e[0];this.params=e[1],this.hubCache=e[2],this.action=t.action,this.pageTitle=t.pageTitle,this.hubCache&&this.hubCache.status===r.j.Loaded&&(this.isLoaded&&"new"===this.action||(this.isLoaded&&this.formsService.hasChanged?this.authService.confirmDialog("Synchronization warning","The hub was disconnected, meaning this edit could have been changed by another session.  Would you like to discard the current changes, and reload the latest version?").then(e=>{e&&this.load()}).catch(e=>{}):this.load()))})}catch(e){this.hubService.addHubClientErrorMessage(e,"Datajob Edit")}}ngOnDestroy(){this._hubCacheChangeSubscription&&this._hubCacheChangeSubscription.unsubscribe(),this._subscription&&this._subscription.unsubscribe(),this._formChangeSubscription&&this._formChangeSubscription.unsubscribe(),this.formsService.ngOnDestroy()}load(){if(this.isLoaded=!0,"edit"===this.action)if(this.datajobKey=+this.params.datajobKey,this.datajobKey)if(this.hubCache.hub&&this.hubCache.hub.dexihDatajobs){let e=this.hubCache.hub.dexihDatajobs.find(e=>e.key===this.datajobKey);e?this.formsService.datajob(e):this.hubService.addHubErrorMessage("The specified datajob could not be found.")}else this.hubService.addHubErrorMessage("The hub cache is not loaded.");else this.hubService.addHubErrorMessage("There was no datajob specified to edit.");if("new"===this.action){let e;this.hubService.newDatajob?(e=this.hubService.newDatajob,this.hubService.newDatajob=null):(e=this.hubService.createDefaultDatajob(),e.key=0),this.formsService.datajob(e),this._formChangeSubscription=this.formsService.getCurrentFormObservable().subscribe(e=>{let t=e.controls.key.value;if(t&&history.pushState){let e=window.location.pathname.replace("/datajob-new","/datajob-edit/"+t);this.router.navigateByUrl(e),this._formChangeSubscription.unsubscribe()}})}}canDeactivate(){return new Promise(e=>{this.formsService.hasChanged?this.authService.confirmDialog("The data job has not been saved","The datajob changes have not been saved.  Do you want to discard the changes and exit?").then(t=>{e(t)}).catch(()=>{e(!1)}):e(!0)})}unloadNotification(e){this.formsService.hasChanged&&(e.returnValue="The datajob changes have not been saved.  Do you want to discard the changes and exit?")}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(c.a),o.Kb(l.a),o.Kb(h.a),o.Kb(n.a),o.Kb(n.e))},e.\u0275cmp=o.Eb({type:e,selectors:[["dexih-datajob-edit-form"]],hostBindings:function(e,t){1&e&&o.Vb("beforeunload",(function(e){return t.unloadNotification(e)}),!1,o.uc)},decls:6,vars:0,consts:[[1,"container"],["title","Edit Job","iconClass","fa fa-lg fa-fw fa-cog"],["header",""],[1,"mr-1",3,"control","click"],["class","mr-1",3,"formsService",4,"ngIf"],[1,"mr-1",3,"formsService"]],template:function(e,t){1&e&&(o.Ob(0,"div",0),o.Ob(1,"dexih-widget",1),o.Dc(2,f,3,3,"ng-template",null,2,o.Ec),o.Ob(4,"div"),o.Lb(5,"router-outlet"),o.Nb(),o.Nb(),o.Nb())},directives:[d.P,n.j,b.a,i.t,u.a,m.a],encapsulation:2}),e})();var k=a("2Vo4"),y=a("soiQ"),v=a("H3K+"),S=a("3Pt+"),D=a("qMYE"),O=a("YcGA");function C(e,t){if(1&e&&(o.Ob(0,"form",14),o.Ob(1,"fieldset"),o.Ob(2,"section"),o.Lb(3,"form-input",15),o.Nb(),o.Ob(4,"section"),o.Lb(5,"form-textarea",16),o.Nb(),o.Ob(6,"section"),o.Lb(7,"form-select",17),o.Nb(),o.Ob(8,"section"),o.Lb(9,"form-select",18),o.Nb(),o.Ob(10,"section"),o.Ob(11,"form-select",19),o.Lb(12,"connection-edit-button",20),o.Nb(),o.Nb(),o.Ob(13,"section",21),o.Lb(14,"form-checkbox",22),o.Nb(),o.Ob(15,"section",21),o.Lb(16,"form-checkbox",23),o.Nb(),o.Nb(),o.Nb()),2&e){const e=o.Zb();o.hc("formGroup",e.mainForm),o.yb(3),o.hc("autocapitalize",!0)("errors",e.formService.formErrors.name),o.yb(2),o.hc("showMarkdown",!0)("errors",e.formService.formErrors.description),o.yb(2),o.hc("items",e.failActions)("errors",e.formService.formErrors.failAction)("enableFilter",!1),o.yb(2),o.hc("items",e.eAlertLevelItems)("errors",e.formService.formErrors.alertLevel)("enableFilter",!1),o.yb(2),o.hc("items",e.managedConnections)("errors",e.formService.formErrors.auditConnectionKey)("errors",e.formService.formErrors.auditConnectionKey),o.yb(1),o.hc("key",e.mainForm.controls.auditConnectionKey.value)}}function x(e,t){if(1&e&&o.Lb(0,"input-parameters",24),2&e){const e=o.Zb();o.hc("showEdit",!0)("parameters",null==e.mainForm?null:e.mainForm.controls.parameters)("formsService",e.formService)}}function N(e,t){if(1&e){const e=o.Pb();o.Ob(0,"dexih-button-delete",25),o.Vb("click",(function(){o.vc(e);const a=t.items;return o.Zb().deleteTriggers(a)})),o.Nb()}}function T(e,t){if(1&e){const e=o.Pb();o.Ob(0,"dexih-button-edit",25),o.Vb("click",(function(){o.vc(e);const a=t.item;return o.Zb().editTrigger(a)})),o.Nb()}}function w(e,t){if(1&e){const e=o.Pb();o.Ob(0,"dexih-button-new",26),o.Vb("click",(function(){return o.vc(e),o.Zb().newTrigger()})),o.Nb()}}function F(e,t){if(1&e){const e=o.Pb();o.Ob(0,"dexih-button",27),o.Vb("click",(function(){o.vc(e);const a=t.items;return o.Zb().updateDependencies(a)})),o.Nb(),o.Ob(1,"dexih-button",28),o.Vb("click",(function(){o.vc(e);const a=t.items;return o.Zb().clearDependencies(a)})),o.Nb(),o.Ob(2,"dexih-button-delete",29),o.Vb("click",(function(){o.vc(e);const a=t.items;return o.Zb().deleteDatalinkSteps(a)})),o.Nb()}}function E(e,t){if(1&e){const e=o.Pb();o.Ob(0,"dexih-button-edit",30),o.Vb("click",(function(){o.vc(e);const a=t.item;return o.Zb().editDatalinkStep(a)})),o.Nb()}}function K(e,t){if(1&e){const e=o.Pb();o.Ob(0,"dexih-button-new",31),o.Vb("click",(function(){return o.vc(e),o.Zb().newDatalinkStep()})),o.Nb(),o.Ob(1,"dexih-button",32),o.Vb("click",(function(){return o.vc(e),o.Zb().addDatalinkSteps()})),o.Fc(2,"Add"),o.Nb()}}let W=(()=>{class e{constructor(e,t,a,i){this.hubService=e,this.formService=t,this.route=a,this.router=i,this.hasChanged=!1,this.showAllErrors=!1,this.failActions=[{key:y.yb.Continue,name:"Continue Execution"},{key:y.yb.ContinueNonDependent,name:"Continue execution (non dependent datalinks only)"},{key:y.yb.Abend,name:"Abend"}],this.datajobChanged=!1,this.triggerColumns=[{name:"details",title:"Details",format:"Html"},{name:"updateDate",title:"Last Modified",format:"Calendar"},{name:"errors",title:"Errors",format:""}],this._triggerTableData=new k.a(null),this.triggerTableData=this._triggerTableData.asObservable(),this.stepColumns=[{name:"name",title:"Name",format:""},{name:"datalink",title:"Datalink",format:"",tags:"tags"},{name:"dependencies",title:"Dependencies",format:"Html"},{name:"inputs",title:"Inputs",format:"Html"},{name:"updateDate",title:"Last Modified",format:"Calendar"},{name:"errors",title:"Errors",format:""}],this._stepTableData=new k.a(null),this.stepTableData=this._stepTableData.asObservable(),this.eAlertLevelItems=y.bb,this.eAlertLevel=y.ab}ngOnInit(){let e=!0;try{this._subscription=Object(s.a)(this.hubService.getHubCacheObservable(),this.formService.getCurrentFormObservable()).subscribe(t=>{this.hubCache=t[0],this.mainForm=t[1],this.hubCache.isLoaded()&&(this.managedConnections=this.hubCache.getManagedConnections(),this.updateTriggers(),this.updateSteps(),this.mainForm.controls.key.value<=0&&e)&&(e=!1,this.updateDependencies(this.mainForm.controls.dexihDatalinkSteps.value))})}catch(t){this.hubService.addHubClientErrorMessage(t,"Data Job Edit Properties")}}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}updateTriggers(){let e=[];this.mainForm&&this.mainForm.controls.dexihTriggers.controls.forEach(t=>{let a=t.value;e.push({key:a.key,details:this.hubCache.getTriggerDetails(a),updateDate:a.updateDate,errors:t.valid?"No errors":"Errors"})}),this._triggerTableData.next(e)}updateSteps(){let e=[];this.mainForm&&this.mainForm.controls.dexihDatalinkSteps.controls.sort((e,t)=>e.controls.position.value-t.controls.position.value).forEach(t=>{let a=t.value,i=this.hubCache.hub.dexihDatalinks.find(e=>e.key===a.datalinkKey);e.push({key:a.key,name:a.name,datalinkKey:i.key,datalink:i?i.name:"Not specified",tags:this.hubCache.getObjectTags(y.dc.Datalink,i.key),dependencies:this.getDependencies(a.dexihDatalinkDependencies),inputs:this.getInputs(a.dexihDatalinkStepColumns),updateDate:a.updateDate,errors:t.valid?"No errors":"Errors"})}),this._stepTableData.next(e)}stepSortChanged(e){let t=this.mainForm.controls.dexihDatalinkSteps;e.forEach((e,a)=>{let i=t.controls.find(t=>t.value.key===e.key);i&&i.controls.position.setValue(a)})}getDependencies(e){let t="";return e&&e.forEach(e=>{let a=this.mainForm.value.dexihDatalinkSteps.find(t=>t.key===e.dependentDatalinkStepKey);a?t=t+a.name+"<br>":t+="Error: step not found.<br>"}),t}getInputs(e){let t="";return e&&e.forEach(e=>{t=t+e.name+" = "+e.defaultValue+"<br>"}),t}newTrigger(){this.router.navigate(["trigger"],{relativeTo:this.route.parent})}addDatalinkSteps(){this.router.navigate(["add-steps"],{relativeTo:this.route.parent})}editTrigger(e){this.router.navigate(["trigger",e.key],{relativeTo:this.route.parent})}deleteTriggers(e){let t=this.mainForm.controls.dexihTriggers;e.forEach(e=>{let a=t.controls.findIndex(t=>t.value.key===e.key);t.removeAt(a)}),this.updateTriggers()}newDatalinkStep(){this.router.navigate(["step"],{relativeTo:this.route.parent})}editDatalinkStep(e){this.router.navigate(["step",e.key],{relativeTo:this.route.parent})}deleteDatalinkSteps(e){let t=this.mainForm.controls.dexihDatalinkSteps;e.forEach(e=>{let a=t.controls.findIndex(t=>t.value.key===e.key);t.removeAt(a)}),this.updateSteps()}clearDependencies(e){let t=this.mainForm.controls.dexihDatalinkSteps;e.forEach(e=>{t.controls.find(t=>t.value.key===e.key).controls.dexihDatalinkDependencies.clear()}),this.updateSteps()}updateDependencies(e){let t=this.mainForm.controls.dexihDatalinkSteps,a=[],i=-1;t.value.forEach(e=>{a.push({key:e.key,tables:this.getDatalinkTargetTables(e.datalinkKey)})}),e.forEach(e=>{let n=t.controls.find(t=>t.value.key===e.key).controls.dexihDatalinkDependencies;n.clear();let r=this.getDatalinkSourceTables(e.datalinkKey);a.forEach(t=>{for(let a of t.tables)if(r.indexOf(a)>=0){let a=new y.n;a.key=i,a.datalinkStepKey=e.key,a.dependentDatalinkStepKey=t.key,n.push(this.formService.datalinkDependencyFormGroup(a)),i--;break}})}),this.updateSteps()}getDatalinkTargetTables(e){let t=this.hubCache.hub.dexihDatalinks.find(t=>t.key===e);return t?t.dexihDatalinkTargets.map(e=>e.tableKey):[]}getDatalinkSourceTables(e){let t=this.hubCache.hub.dexihDatalinks.find(t=>t.key===e);if(!t)return[];let a=this.getDatalinkTable(t.sourceDatalinkTable);return t.dexihDatalinkTransforms.forEach(e=>{e.joinDatalinkTable&&this.getDatalinkTable(e.joinDatalinkTable).forEach(e=>{a.indexOf(e)<0&&a.push(e)})}),a}getDatalinkTable(e){if(!e)return[];switch(e.sourceType){case y.gc.Table:return[e.sourceTableKey];case y.gc.Datalink:return this.getDatalinkSourceTables(e.sourceDatalinkKey)}return[]}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(c.a),o.Kb(l.a),o.Kb(n.a),o.Kb(n.e))},e.\u0275cmp=o.Eb({type:e,selectors:[["dexih-datajob-edit-form"]],decls:20,vars:23,consts:[["title","Properties",3,"showExpandButton"],[3,"formGroup",4,"ngIf"],["title","Parameters",3,"showExpandButton","padding"],[3,"showEdit","parameters","formsService",4,"ngIf"],["title","Triggers",3,"showExpandButton","padding"],["sortColumn","position",3,"enableMultiSelect","enableStickyToolbar","toolbarZIndex","enableManualSort","columns","dataObservable","rowClick"],["select","selectedItemsAction"],["selectedItemsAction",""],["select","selectedItemAction"],["selectedItemAction",""],["select","actionsTemplate"],["actions",""],["title","Steps",3,"showExpandButton","padding"],["sortColumn","position",3,"enableMultiSelect","enableStickyToolbar","toolbarZIndex","enableManualSort","columns","tags","dataObservable","onSortChanged","rowClick"],[3,"formGroup"],["label","Data Job Name","formControlName","name","placeholder","Enter the job name.","iconClass","fa fa-list",3,"autocapitalize","errors"],["label","Description","formControlName","description","placeholder","Enter the description.",3,"showMarkdown","errors"],["label","Datalink Fail Action","formControlName","failAction","itemKey","key","itemName","name","iconClass","fa fa-database","note","Action to take when a datalink execution fails.",3,"items","errors","enableFilter"],["label","Alerting Level","formControlName","alertLevel","itemKey","key","itemName","description","iconClass","fa fa-bell","note","When alerts should be sent.",3,"items","errors","enableFilter"],["label","Audit Connection","formControlName","auditConnectionKey","itemKey","key","itemName","name","iconClass","fa fa-database","note","Specify the connection where audit data (such as job results) should be written to.",3,"items","errors"],[3,"key"],[1,"col","col-12"],["label","Trigger datajob when new files arrive","formControlName","fileWatch"],["label","Auto Start","formControlName","autoStart","note","Re-activate the datajob when the remote agent is restarted."],[3,"showEdit","parameters","formsService"],[3,"click"],["title","New Trigger",3,"click"],["iconClass","fa fa-magic","text","AutoSet Dependencies",3,"click"],["iconClass","fa fa-eraser","text","Clear Dependencies",1,"ml-1",3,"click"],[1,"ml-1",3,"click"],[1,"mr-1",3,"click"],["title","Create a new step",1,"mr-1",3,"click"],["iconClass","fa fa-plus-square","buttonClass","btn-primary","title","Select multiple datalinks to add as steps",1,"mr-1",3,"click"]],template:function(e,t){1&e&&(o.Ob(0,"dexih-widget-section",0),o.Dc(1,C,17,15,"form",1),o.Nb(),o.Ob(2,"dexih-widget-section",2),o.Dc(3,x,1,3,"input-parameters",3),o.Nb(),o.Ob(4,"dexih-widget-section",4),o.Ob(5,"dexih-table",5),o.Vb("rowClick",(function(e){return t.editTrigger(e)})),o.Dc(6,N,1,0,"ng-template",6,7,o.Ec),o.Dc(8,T,1,0,"ng-template",8,9,o.Ec),o.Dc(10,w,1,0,"ng-template",10,11,o.Ec),o.Nb(),o.Nb(),o.Ob(12,"dexih-widget-section",12),o.Ob(13,"dexih-table",13),o.Vb("onSortChanged",(function(e){return t.stepSortChanged(e)}))("rowClick",(function(e){return t.editDatalinkStep(e)})),o.Dc(14,F,3,0,"ng-template",6,7,o.Ec),o.Dc(16,E,1,0,"ng-template",8,9,o.Ec),o.Dc(18,K,3,0,"ng-template",10,11,o.Ec),o.Nb(),o.Nb()),2&e&&(o.hc("showExpandButton",!0),o.yb(1),o.hc("ngIf",t.mainForm),o.yb(1),o.hc("showExpandButton",!0)("padding",!0)("padding",!0),o.yb(1),o.hc("ngIf",t.mainForm),o.yb(1),o.hc("showExpandButton",!0)("padding",!1),o.yb(1),o.hc("enableMultiSelect",!0)("enableStickyToolbar",!0)("toolbarZIndex",100)("enableManualSort",!0)("columns",t.triggerColumns)("dataObservable",t.triggerTableData),o.yb(7),o.hc("showExpandButton",!0)("padding",!1),o.yb(1),o.hc("enableMultiSelect",!0)("enableStickyToolbar",!0)("toolbarZIndex",100)("enableManualSort",!0)("columns",t.stepColumns)("tags",t.hubCache.hub.dexihTags)("dataObservable",t.stepTableData))},directives:[d.T,i.t,v.a,S.I,S.t,S.l,d.D,S.s,S.j,d.H,d.E,D.a,d.A,O.a,d.g,d.j,d.o,d.f],encapsulation:2}),e})();var j=a("l2bN");function I(e,t){if(1&e&&(o.Ob(0,"div",11),o.Fc(1),o.Nb()),2&e){const e=o.Zb();o.yb(1),o.Hc(" ",e.errors," ")}}function M(e,t){if(1&e){const e=o.Pb();o.Ob(0,"small",12),o.Ob(1,"markdown",13),o.Vb("click",(function(t){return o.vc(e),o.Zb().sharedFunctions.getRoute(t)})),o.Nb(),o.Nb()}if(2&e){const e=o.Zb();o.yb(1),o.hc("data",e.note)}}const L=["*"];let V=(()=>{class e{constructor(e){this._changeDetectionRef=e,this.eDayOfWeek=y.pb,this.daysOfWeek=new Array(7),this.id="input_"+Math.random().toString(36).substr(2,9),this.onChange=()=>{},this.onTouched=()=>{}}ngAfterViewInit(){this.value&&this.value.forEach(e=>{switch(e){case y.pb.Sunday:this.daysOfWeek[0]=!0;break;case y.pb.Monday:this.daysOfWeek[1]=!0;break;case y.pb.Tuesday:this.daysOfWeek[2]=!0;break;case y.pb.Wednesday:this.daysOfWeek[3]=!0;break;case y.pb.Thursday:this.daysOfWeek[4]=!0;break;case y.pb.Friday:this.daysOfWeek[5]=!0;break;case y.pb.Saturday:this.daysOfWeek[6]=!0}}),this._changeDetectionRef.detectChanges()}hasChanged(e){let t=new Array;this.daysOfWeek[0]&&t.push(y.pb.Sunday),this.daysOfWeek[1]&&t.push(y.pb.Monday),this.daysOfWeek[2]&&t.push(y.pb.Tuesday),this.daysOfWeek[3]&&t.push(y.pb.Wednesday),this.daysOfWeek[4]&&t.push(y.pb.Thursday),this.daysOfWeek[5]&&t.push(y.pb.Friday),this.daysOfWeek[6]&&t.push(y.pb.Saturday),this.value=t,this.onChange(this.value),this.onTouched()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}writeValue(e){e&&(this.value=e)}selectWeekend(){this.daysOfWeek[0]=!0,this.daysOfWeek[1]=!1,this.daysOfWeek[2]=!1,this.daysOfWeek[3]=!1,this.daysOfWeek[4]=!1,this.daysOfWeek[5]=!1,this.daysOfWeek[6]=!0,this.hasChanged(null)}selectWeekDays(){this.daysOfWeek[0]=!1,this.daysOfWeek[1]=!0,this.daysOfWeek[2]=!0,this.daysOfWeek[3]=!0,this.daysOfWeek[4]=!0,this.daysOfWeek[5]=!0,this.daysOfWeek[6]=!1,this.hasChanged(null)}selectAllDays(){this.daysOfWeek[0]=!0,this.daysOfWeek[1]=!0,this.daysOfWeek[2]=!0,this.daysOfWeek[3]=!0,this.daysOfWeek[4]=!0,this.daysOfWeek[5]=!0,this.daysOfWeek[6]=!0,this.hasChanged(null)}selectNoDays(){this.daysOfWeek[0]=!1,this.daysOfWeek[1]=!1,this.daysOfWeek[2]=!1,this.daysOfWeek[3]=!1,this.daysOfWeek[4]=!1,this.daysOfWeek[5]=!1,this.daysOfWeek[6]=!1,this.hasChanged(null)}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(o.h))},e.\u0275cmp=o.Eb({type:e,selectors:[["daysofweek"]],inputs:{label:"label",labelLeft:"labelLeft",note:"note",errors:"errors",value:"value"},features:[o.xb([{provide:S.r,useExisting:Object(o.S)(()=>e),multi:!0}])],ngContentSelectors:L,decls:46,vars:25,consts:[[1,"form-group"],[1,"mt-1",3,"for"],[1,"input-group"],[1,"input-group-prepend"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"input-group-append"],[1,"form-check","form-check-inline"],["type","checkbox",1,"form-check-input",3,"id","ngModel","ngModelChange"],[1,"form-check-label",3,"for"],["class","invalid-feedback d-block",4,"ngIf"],["class","form-text text-muted",4,"ngIf"],[1,"invalid-feedback","d-block"],[1,"form-text","text-muted"],[3,"data","click"]],template:function(e,t){1&e&&(o.gc(),o.Ob(0,"div",0),o.Ob(1,"label",1),o.Fc(2),o.Ob(3,"div",2),o.Ob(4,"div",3),o.Ob(5,"a",4),o.Vb("click",(function(){return t.selectAllDays()})),o.Fc(6,"All"),o.Nb(),o.Ob(7,"a",4),o.Vb("click",(function(){return t.selectNoDays()})),o.Fc(8,"None"),o.Nb(),o.Ob(9,"a",4),o.Vb("click",(function(){return t.selectWeekend()})),o.Fc(10,"Weekend"),o.Nb(),o.Nb(),o.Ob(11,"div",5),o.Ob(12,"a",4),o.Vb("click",(function(){return t.selectWeekDays()})),o.Fc(13,"Weekdays"),o.Nb(),o.Nb(),o.Nb(),o.fc(14),o.Nb(),o.Ob(15,"div",2),o.Ob(16,"div",6),o.Ob(17,"input",7),o.Vb("ngModelChange",(function(e){return t.daysOfWeek[0]=e}))("ngModelChange",(function(e){return t.hasChanged(e)})),o.Nb(),o.Ob(18,"label",8),o.Fc(19,"Sunday"),o.Nb(),o.Nb(),o.Ob(20,"div",6),o.Ob(21,"input",7),o.Vb("ngModelChange",(function(e){return t.daysOfWeek[1]=e}))("ngModelChange",(function(e){return t.hasChanged(e)})),o.Nb(),o.Ob(22,"label",8),o.Fc(23,"Monday"),o.Nb(),o.Nb(),o.Ob(24,"div",6),o.Ob(25,"input",7),o.Vb("ngModelChange",(function(e){return t.daysOfWeek[2]=e}))("ngModelChange",(function(e){return t.hasChanged(e)})),o.Nb(),o.Ob(26,"label",8),o.Fc(27,"Tuesday"),o.Nb(),o.Nb(),o.Ob(28,"div",6),o.Ob(29,"input",7),o.Vb("ngModelChange",(function(e){return t.daysOfWeek[3]=e}))("ngModelChange",(function(e){return t.hasChanged(e)})),o.Nb(),o.Ob(30,"label",8),o.Fc(31,"Wednesday"),o.Nb(),o.Nb(),o.Ob(32,"div",6),o.Ob(33,"input",7),o.Vb("ngModelChange",(function(e){return t.daysOfWeek[4]=e}))("ngModelChange",(function(e){return t.hasChanged(e)})),o.Nb(),o.Ob(34,"label",8),o.Fc(35,"Thursday"),o.Nb(),o.Nb(),o.Ob(36,"div",6),o.Ob(37,"input",7),o.Vb("ngModelChange",(function(e){return t.daysOfWeek[5]=e}))("ngModelChange",(function(e){return t.hasChanged(e)})),o.Nb(),o.Ob(38,"label",8),o.Fc(39,"Friday"),o.Nb(),o.Nb(),o.Ob(40,"div",6),o.Ob(41,"input",7),o.Vb("ngModelChange",(function(e){return t.daysOfWeek[6]=e}))("ngModelChange",(function(e){return t.hasChanged(e)})),o.Nb(),o.Ob(42,"label",8),o.Fc(43,"Saturday"),o.Nb(),o.Nb(),o.Nb(),o.Dc(44,I,2,1,"div",9),o.Dc(45,M,2,1,"small",10),o.Nb()),2&e&&(o.yb(1),o.hc("for",t.id),o.yb(1),o.Hc("",t.label," "),o.yb(15),o.hc("id",t.id+"1")("ngModel",t.daysOfWeek[0]),o.yb(1),o.hc("for",t.id+"1"),o.yb(3),o.hc("id",t.id+"2")("ngModel",t.daysOfWeek[1]),o.yb(1),o.hc("for",t.id+"2"),o.yb(3),o.hc("id",t.id+"3")("ngModel",t.daysOfWeek[2]),o.yb(1),o.hc("for",t.id+"3"),o.yb(3),o.hc("id",t.id+"4")("ngModel",t.daysOfWeek[3]),o.yb(1),o.hc("for",t.id+"4"),o.yb(3),o.hc("id",t.id+"5")("ngModel",t.daysOfWeek[4]),o.yb(1),o.hc("for",t.id+"5"),o.yb(3),o.hc("id",t.id+"6")("ngModel",t.daysOfWeek[5]),o.yb(1),o.hc("for",t.id+"6"),o.yb(3),o.hc("id",t.id+"7")("ngModel",t.daysOfWeek[6]),o.yb(1),o.hc("for",t.id+"7"),o.yb(2),o.hc("ngIf",t.errors),o.yb(1),o.hc("ngIf",t.note))},directives:[S.a,S.s,S.v,i.t,j.a],encapsulation:2}),e})();function A(e,t){if(1&e){const e=o.Pb();o.Ob(0,"dexih-button-apply",13),o.Vb("click",(function(){return o.vc(e),o.Zb(2).applyExit()})),o.Nb(),o.Ob(1,"dexih-button-cancel",14),o.Vb("click",(function(){return o.vc(e),o.Zb(2).cancel()})),o.Nb()}if(2&e){const e=o.Zb(2);o.hc("disabled",!e.triggerFormService.hasChanged)}}function _(e,t){if(1&e&&(o.Ob(0,"dexih-widget-section",1),o.Dc(1,A,2,1,"ng-template",null,2,o.Ec),o.Ob(3,"form",3),o.Ob(4,"fieldset"),o.Ob(5,"div",4),o.Ob(6,"section",5),o.Lb(7,"form-date",6),o.Nb(),o.Nb(),o.Ob(8,"div",4),o.Ob(9,"section",7),o.Lb(10,"form-time",8),o.Nb(),o.Ob(11,"section",7),o.Lb(12,"form-input",9),o.Nb(),o.Ob(13,"section",7),o.Lb(14,"form-time",10),o.Nb(),o.Ob(15,"section",7),o.Lb(16,"form-time",11),o.Nb(),o.Nb(),o.Ob(17,"section"),o.Lb(18,"daysofweek",12),o.Nb(),o.Lb(19,"div",4),o.Nb(),o.Nb(),o.Nb()),2&e){const e=o.Zb();o.hc("showExpandButton",!1),o.yb(3),o.hc("formGroup",e.triggerFormService.currentForm),o.yb(4),o.hc("errors",e.triggerFormService.formErrors.startDate),o.yb(3),o.hc("errors",e.triggerFormService.formErrors.intervalTime),o.yb(2),o.hc("errors",e.triggerFormService.formErrors.maxRecurs),o.yb(2),o.hc("errors",e.triggerFormService.formErrors.startTime),o.yb(2),o.hc("errors",e.triggerFormService.formErrors.endTime)}}let Z=(()=>{class e{constructor(e,t,a,i,n,r,s){this.authService=e,this.hubService=t,this.formService=a,this.route=i,this.router=n,this.location=r,this.fb=s,this.triggerFormService=new l.a(s,t,e)}ngOnInit(){try{this._subscription=Object(s.a)(this.route.data,this.route.params,this.formService.getCurrentFormObservable()).subscribe(e=>{let t,a=e[0],i=e[1];if(this.mainForm=e[2],this.mainForm){if(this.pageTitle=a.pageTitle,this.action=a.action,this.triggerKey=+i.triggerKey,this.triggerKey){if(this.originalTrigger=this.mainForm.value.dexihTriggers.find(e=>e.key===this.triggerKey),!this.originalTrigger)return void this.authService.navigateUp();t=this.triggerFormService.triggerFormGroup(this.originalTrigger)}else{let e=new y.K,a=-1;this.mainForm.value.dexihTriggers.forEach(e=>{e.key<=a&&(a=e.key-1)}),e.key=a,t=this.triggerFormService.triggerFormGroup(e)}this.triggerFormService.startForm(t)}})}catch(e){this.hubService.addHubClientErrorMessage(e,"Datajob Edit Trigger")}}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}cancel(){this.authService.navigateUp()}applyExit(){const e=this.triggerFormService.currentForm,t=this.mainForm.controls.dexihTriggers;this.originalTrigger?t.controls.find(t=>t.value.key===e.value.key).setValue(e.value):t.push(e),this.authService.navigateUp()}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(h.a),o.Kb(c.a),o.Kb(l.a),o.Kb(n.a),o.Kb(n.e),o.Kb(i.n),o.Kb(S.g))},e.\u0275cmp=o.Eb({type:e,selectors:[["datajob-edit-trigger"]],decls:1,vars:1,consts:[["title","Edit Trigger",3,"showExpandButton",4,"ngIf"],["title","Edit Trigger",3,"showExpandButton"],["header",""],[3,"formGroup"],[1,"form-row"],[1,"form-group","col-md-6"],["label","Start Date","formControlName","startDate","note","This is the date that the trigger will start.  Leave blank for immediate start.",3,"errors"],[1,"form-group","col-md-3"],["label","Interval","formControlName","intervalTime","note","The intra-day interval which the trigger restarts.  Leave blank for once a day jobs.",3,"errors"],["type","number","label","Max Recurrences","formControlName","maxRecurs","placeholder","Enter the max recurrences","iconClass","fa fa-refresh","note"," The maximum number of times job can recur in one day.",3,"errors"],["label","Start Time","formControlName","startTime","note","Time of the day the job will activate.",3,"errors"],["label","End Time","formControlName","endTime","note","Time of the day the triggers will deactivate.",3,"errors"],["label","Days of the week","formControlName","daysOfWeek","note"," The days of the week the trigger is valid."],[1,"mr-1",3,"disabled","click"],[3,"click"]],template:function(e,t){1&e&&o.Dc(0,_,20,7,"dexih-widget-section",0),2&e&&o.hc("ngIf",t.triggerFormService.currentForm)},directives:[i.t,d.T,S.I,S.t,S.l,d.B,S.s,S.j,d.I,d.D,V,d.a,d.b],encapsulation:2}),e})();var P=a("hJJo");function B(e,t){if(1&e){const e=o.Pb();o.Ob(0,"dexih-button-apply",10),o.Vb("click",(function(){return o.vc(e),o.Zb(2).applyExit()})),o.Nb(),o.Ob(1,"dexih-button-cancel",11),o.Vb("click",(function(){return o.vc(e),o.Zb(2).cancel()})),o.Nb()}if(2&e){const e=o.Zb(2);o.hc("disabled",!e.stepFormService.hasChanged)}}function H(e,t){if(1&e&&(o.Ob(0,"span",14),o.Ob(1,"div",15),o.Ob(2,"div",16),o.Fc(3),o.Nb(),o.Nb(),o.Lb(4,"form-input",17),o.Nb()),2&e){const e=t.$implicit;o.yb(3),o.Hc(" ",e.value.logicalName," "),o.yb(1),o.hc("placeholder",e.value.logicalName)("autocapitalize",!0)("formControl",e.controls.defaultValue)}}function G(e,t){if(1&e&&(o.Ob(0,"div",12),o.Ob(1,"div"),o.Fc(2," Input Values "),o.Nb(),o.Dc(3,H,5,4,"span",13),o.Nb()),2&e){const e=o.Zb(2);o.yb(3),o.hc("ngForOf",e.stepFormService.currentForm.controls.dexihDatalinkStepColumns.controls)}}function R(e,t){if(1&e&&(o.Ob(0,"dexih-widget-section",3),o.Dc(1,B,2,1,"ng-template",null,4,o.Ec),o.Ob(3,"form",5),o.Ob(4,"fieldset"),o.Ob(5,"section"),o.Lb(6,"form-input",6),o.Nb(),o.Ob(7,"section"),o.Ob(8,"form-select",7),o.Lb(9,"datalink-edit-button",8),o.Nb(),o.Nb(),o.Nb(),o.Dc(10,G,4,1,"div",9),o.Nb(),o.Nb()),2&e){const e=o.Zb();o.hc("showExpandButton",!1),o.yb(3),o.hc("formGroup",e.stepFormService.currentForm),o.yb(3),o.hc("autocapitalize",!0)("errors",e.stepFormService.formErrors.name),o.yb(2),o.hc("items",e.hubCache.hub.dexihDatalinks)("errors",e.stepFormService.formErrors.datalinkKey),o.yb(1),o.hc("key",e.stepFormService.currentForm.controls.datalinkKey.value),o.yb(1),o.hc("ngIf",e.stepFormService.currentForm.controls.dexihDatalinkStepColumns.controls.length>0)}}function U(e,t){if(1&e&&(o.Ob(0,"dexih-widget-section",18),o.Lb(1,"input-parameters",19),o.Nb()),2&e){const e=o.Zb();o.hc("showExpandButton",!0)("padding",!1)("padding",!0),o.yb(1),o.hc("showEdit",!0)("parameters",e.stepFormService.currentForm.controls.parameters)("formsService",e.formService)("parentParameters",e.formService.currentForm.controls.parameters.value)}}function J(e,t){if(1&e){const e=o.Pb();o.Ob(0,"dexih-table",22),o.Vb("selectedItemsChange",(function(t){return o.vc(e),o.Zb(2).stepFormService.currentForm.value.dexihDatalinkDependencies=t}))("onSelectedChange",(function(t){return o.vc(e),o.Zb(2).dependentStepsChange(t)})),o.Nb()}if(2&e){const e=o.Zb(2);o.hc("enableMultiSelect",!0)("columns",e.stepColumns)("dataObservable",e.stepTableData)("selectedItems",e.stepFormService.currentForm.value.dexihDatalinkDependencies)("tags",e.hubCache.hub.dexihTags)}}function z(e,t){if(1&e&&(o.Ob(0,"dexih-widget-section",20),o.Dc(1,J,1,5,"dexih-table",21),o.Nb()),2&e){const e=o.Zb();o.hc("showExpandButton",!1)("padding",!1),o.yb(1),o.hc("ngIf",e.stepFormService.currentForm)}}let q=(()=>{class e{constructor(e,t,a,i,n){this.hubService=e,this.authService=t,this.formService=a,this.route=i,this.showAllErrors=!1,this.stepColumns=[{name:"name",title:"Name",format:"",tags:"tags"},{name:"datalink",title:"Datalink",format:""},{name:"dependencies",title:"Dependencies",format:""},{name:"updateDate",title:"Last Modified",format:"Calendar"}],this._stepTableData=new k.a(null),this.stepTableData=this._stepTableData.asObservable(),this.stepFormService=new l.a(n,e,t)}ngOnInit(){try{this._subscription=Object(s.a)(this.route.data,this.route.params,this.hubService.getHubCacheObservable(),this.formService.getCurrentFormObservable()).subscribe(e=>{let t=e[1];this.hubCache=e[2];let a=e[3];if(this.datalinkStepKey=+t.datalinkStepKey,a){let e;if(this.datajobForm=a,this.datalinkStepKey){if(e=a.value.dexihDatalinkSteps.find(e=>e.key===this.datalinkStepKey),!e)return void this.authService.navigateUp()}else{e=new y.p;let t=-1;this.datajobForm.value.dexihDatalinkSteps.forEach(e=>{e.key<=t&&(t=e.key-1)}),e.key=t,this.datalinkStepKey=t}const t=this.stepFormService.datalinkStepFormGroup(a,e);this.stepFormService.startForm(t),this.updateSteps(),this._datalinkSubscription=t.controls.datalinkKey.valueChanges.subscribe(e=>{this.updateDatalinkStepColumns(e)})}})}catch(e){this.hubService.addHubClientErrorMessage(e,"Datajob Edit Step")}}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe(),this._datalinkSubscription&&this._datalinkSubscription.unsubscribe()}updateSteps(){let e=[];this.datajobForm.value.dexihDatalinkSteps&&this.datajobForm.value.dexihDatalinkSteps.forEach(t=>{if(t.key!==this.stepFormService.currentForm.value.key){let a=this.hubCache.hub.dexihDatalinks.find(e=>e.key===t.datalinkKey);e.push({key:t.key,name:t.name,datalink:a?a.name:"Not specified",tags:this.hubCache.getObjectTags(y.dc.Datalink,a.key),dependencies:"",updateDate:t.updateDate})}}),this._stepTableData.next(e)}updateDatalinkStepColumns(e){let t=this.hubCache.hub.dexihDatalinks.find(t=>t.key===e),a=this.stepFormService.currentForm,i=a.controls.parameters,n=i.value;i.clear(),t.parameters.forEach(e=>{let t=n.find(t=>t.name===e.name),a=new y.Q;t?(a.name=t.name,a.value=t.value):(a.name=e.name,a.value=e.value);let r=this.formService.parameter(a);i.push(r)});let r=a.controls.dexihDatalinkStepColumns,s=r.value;for(;0!==r.length;)r.removeAt(0);t.sourceDatalinkTable.dexihDatalinkColumns.filter(e=>e.isInput).forEach(e=>{let t=s.find(t=>t.name===e.name);t||(t=new y.q,t.defaultValue=e.defaultValue),t.dataType=e.dataType,t.name=e.name,t.logicalName=e.logicalName,t.columnGroup=e.columnGroup,t.rank=e.rank,t.maxLength=e.maxLength,t.deltaType=e.deltaType,t.allowDbNull=e.allowDbNull,t.isUnicode=e.isUnicode,t.isValid=!0;let a=this.formService.datalinkStepColumnFormGroup(t);r.push(a)}),a.controls.name.value||a.controls.name.setValue(t.name)}dependentStepsChange(e){let t=this.stepFormService.currentForm.controls.dexihDatalinkDependencies,a=-1;for(t&&t.controls.forEach(e=>{e.valid.key<=a&&(a=e.key-1)});t.length>0;)t.removeAt(0);e.forEach(e=>{let i=t?t.controls.find(t=>t.value.datalinkStepKey===e.datalinkStepKey):null;if(i)t.push(i);else{let i=new y.n;i.key=a,i.datalinkStepKey=this.datalinkStepKey,i.dependentDatalinkStepKey=e.key,t.push(this.stepFormService.datalinkDependencyFormGroup(i)),a--}}),this.stepFormService.hasChanged=!0}cancel(){this.authService.navigateUp()}applyExit(){const e=this.stepFormService.currentForm,t=this.datajobForm.controls.dexihDatalinkSteps,a=t.controls.findIndex(t=>t.value.key===e.value.key&&t.value.isValid);a<0?t.push(e):(t.removeAt(a),t.insert(a,e)),this.authService.navigateUp()}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(c.a),o.Kb(h.a),o.Kb(l.a),o.Kb(n.a),o.Kb(S.g))},e.\u0275cmp=o.Eb({type:e,selectors:[["datajob-edit-step"]],decls:3,vars:3,consts:[["title","Add Datalink Step",3,"showExpandButton",4,"ngIf"],["title","Parameters",3,"showExpandButton","padding",4,"ngIf"],["title","Dependent Steps",3,"showExpandButton","padding",4,"ngIf"],["title","Add Datalink Step",3,"showExpandButton"],["header",""],[3,"formGroup"],["label","Data Step Name","formControlName","name","placeholder","Enter the step name.","iconClass","fa fa-list","note","Enter a name for the data step, blank will use datalink name.",3,"autocapitalize","errors"],["label","Data Link","formControlName","datalinkKey","itemKey","key","itemName","name","iconClass","fa fa-database",3,"items","errors"],[3,"key"],["class","d-flex flex-wrap pt-1",4,"ngIf"],[1,"mr-1",3,"disabled","click"],[3,"click"],[1,"d-flex","flex-wrap","pt-1"],["class","input-group",4,"ngFor","ngForOf"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"form-control","p-0",3,"placeholder","autocapitalize","formControl"],["title","Parameters",3,"showExpandButton","padding"],[3,"showEdit","parameters","formsService","parentParameters"],["title","Dependent Steps",3,"showExpandButton","padding"],["keyColumn","key","selectedKeyColumn","dependentDatalinkStepKey",3,"enableMultiSelect","columns","dataObservable","selectedItems","tags","selectedItemsChange","onSelectedChange",4,"ngIf"],["keyColumn","key","selectedKeyColumn","dependentDatalinkStepKey",3,"enableMultiSelect","columns","dataObservable","selectedItems","tags","selectedItemsChange","onSelectedChange"]],template:function(e,t){1&e&&(o.Dc(0,R,11,8,"dexih-widget-section",0),o.Dc(1,U,2,7,"dexih-widget-section",1),o.Dc(2,z,2,3,"dexih-widget-section",2)),2&e&&(o.hc("ngIf",t.stepFormService.currentForm),o.yb(1),o.hc("ngIf",t.stepFormService.currentForm),o.yb(1),o.hc("ngIf",t.stepFormService.currentForm))},directives:[i.t,d.T,S.I,S.t,S.l,d.D,S.s,S.j,d.E,P.a,d.a,d.b,i.s,S.i,O.a,v.a],encapsulation:2}),e})();function X(e,t){if(1&e){const e=o.Pb();o.Ob(0,"dexih-button-close",5),o.Vb("click",(function(){return o.vc(e),o.Zb().close()})),o.Nb()}}function Y(e,t){if(1&e){const e=o.Pb();o.Ob(0,"dexih-button",6),o.Vb("click",(function(){o.vc(e);const a=t.items;return o.Zb().addSelected(a)})),o.Fc(1,"Add"),o.Nb()}}let Q=(()=>{class e{constructor(e,t,a,i,n){this.hubService=e,this.authService=t,this.formService=a,this.route=i,this.router=n,this.hasChanged=!1,this.columns=[{name:"name",title:"Name",format:"",tags:"tags"},{name:"datalinkType",title:"Datalink Type",enum:y.nb,format:"Enum"},{name:"sourceTableName",title:"Source Table",format:""},{name:"targetTableName",title:"Target Table",format:""},{name:"updateDate",title:"Last Modified",format:"Calendar"}],this._tableData=new k.a(null),this.tableData=this._tableData.asObservable()}ngOnInit(){try{this._subscription=Object(s.a)(this.route.data,this.route.params,this.hubService.getHubCacheObservable(),this.formService.getCurrentFormObservable()).subscribe(e=>{this.hubCache=e[2],this.mainForm=e[3],this.updateDatalinks()})}catch(e){this.hubService.addHubClientErrorMessage(e,"Datalink Index")}}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe(),this._hubCacheChangeSubscription&&this._hubCacheChangeSubscription.unsubscribe()}changeEvent(e){this.hasChanged=!0}updateDatalinks(){if(this.hubCache)if(this.hubCache.hub.dexihDatalinks){let e=this.hubCache.hub.dexihDatalinks.map(e=>{let t=this.hubCache.getTable(e.sourceDatalinkTable.sourceTableKey);return{key:e.key,name:e.name,datalinkType:e.datalinkType,sourceTableName:t?t.name:"No source table",targetTableName:e.dexihDatalinkTargets.map(e=>{let t=this.hubCache.getTable(e.tableKey);if(t)return t.name}).join(", "),updateDate:e.updateDate,tags:this.hubCache.getObjectTags(y.dc.Datalink,e.key)}});this._tableData.next(e)}else this._tableData.next(new Array)}watchChanges(){this._hubCacheChangeSubscription=this.hubService.getHubCacheChangeObservable().subscribe(e=>{e.changeClass===y.dc.Datalink&&this.updateDatalinks()})}close(){this.authService.navigateUp()}addSelected(e){let t=new Array,a=this.mainForm.value.dexihDatalinkSteps;if(e.forEach(e=>{a.find(t=>t.datalinkKey===e.key)&&t.push(e.name)}),t.length>0){let a=t.join(", ");this.authService.confirmDialog("Warning duplicate datalinks","The following datalinks already exist as steps within the job.  "+a+".<br />Are you sure you want these datalinks added to the job").then(t=>{t&&this.addSelectedConfirmed(e)}).catch(e=>{})}else this.addSelectedConfirmed(e)}addSelectedConfirmed(e){let t=this.mainForm.value.dexihDatalinkSteps,a=-1;t.forEach(e=>{e.key<=a&&(a=e.key-1)});let i=this.mainForm.controls.dexihDatalinkSteps;e.forEach(e=>{let n=new y.p;n.name=e.name;let r=0;for(;t.find(e=>e.name===n.name);)n.name=e.name+"_"+r.toString(),r++;n.key=a,n.datalinkKey=e.key,n.datajobKey=this.mainForm.value.key,n.isValid=!0;let s=this.formService.datalinkStepFormGroup(this.mainForm,n);i.push(s),a--}),this.authService.navigateUp()}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(c.a),o.Kb(h.a),o.Kb(l.a),o.Kb(n.a),o.Kb(n.e))},e.\u0275cmp=o.Eb({type:e,selectors:[["datajob-add-steps"]],decls:6,vars:6,consts:[["title","Add Datalinks to Job",3,"showExpandButton","padding"],["header",""],[3,"enableMultiSelect","columns","dataObservable","tags"],["select","selectedItemsAction"],["selectedItemsAction",""],[3,"click"],["iconClass","fa fa-plus","buttonClass","btn-primary","title","Add selected datalinks to the job",3,"click"]],template:function(e,t){1&e&&(o.Ob(0,"dexih-widget-section",0),o.Dc(1,X,1,0,"ng-template",null,1,o.Ec),o.Ob(3,"dexih-table",2),o.Dc(4,Y,2,0,"ng-template",3,4,o.Ec),o.Nb(),o.Nb()),2&e&&(o.hc("showExpandButton",!1)("padding",!1),o.yb(3),o.hc("enableMultiSelect",!0)("columns",t.columns)("dataObservable",t.tableData)("tags",t.hubCache.hub.dexihTags))},directives:[d.T,v.a,d.d,d.f],encapsulation:2}),e})(),$=(()=>{class e{canDeactivate(e){return!e||!e.canDeactivate||e.canDeactivate()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Gb({token:e,factory:e.\u0275fac}),e})();const ee=n.i.forChild([{path:"",component:g,canDeactivate:[$],children:[{path:"",redirectTo:"properties",data:{navigateSkip:!0}},{path:"properties",component:W,data:{navigateSkip:!0,pageTitle:"Properties"}},{path:"trigger",component:Z,data:{pageTitle:"New Trigger"}},{path:"trigger/:triggerKey",component:Z,data:{pageTitle:"Edit Trigger"}},{path:"step",component:q,data:{pageTitle:"New Step"}},{path:"step/:datalinkStepKey",component:q,data:{pageTitle:"Edit Step"}},{path:"add-steps",component:Q,data:{pageTitle:"Add Multiple Steps"}}]}]);var te=a("PCNd"),ae=a("RRRx");let ie=(()=>{class e{static forRoot(){return{ngModule:e,providers:[l.a]}}}return e.\u0275mod=o.Ib({type:e}),e.\u0275inj=o.Hb({factory:function(t){return new(t||e)},providers:[l.a,$],imports:[[te.a,i.c,S.n,ee,S.C,ae.a]]}),e})()}}]);
//# sourceMappingURL=4-es2015.95d85b52661d71f7bc6f.js.map