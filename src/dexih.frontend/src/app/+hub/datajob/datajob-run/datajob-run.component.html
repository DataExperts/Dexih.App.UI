<div class="container">
    <dexih-widget title="Run Datajob Options" iconClass="fa fa-lg fa-fw fa-exchange"  [showCloseButton]="true" (close)="close()" [padding]="true">
            <ng-template #header>
                <dexih-button-refresh class="mr-1" (click)="run()" text="Run Now"></dexih-button-refresh>
                <dexih-button-refresh class="mr-1" (click)="activate()" text="Activate Triggers"></dexih-button-refresh>
                <dexih-button-cancel (click)="cancel()"></dexih-button-cancel>
            </ng-template>

        <ng-template #subHeader>
            <label class="label">Run the following datajobs(s):</label>
            <div>
                <div class="row">
                    <span class="col alert alert-primary m-1" *ngFor="let datajob of datajobs | fieldSort: 'name'">
                        {{datajob.name}}
                    </span>
                </div>
            </div>
        </ng-template>
            
		<form>
			<fieldset>
				<section>
					<div class="form-row">
						<section class="col">
							<form-checkbox label="Truncate all target tables before execution." [(ngModel)]="truncateTable" [ngModelOptions]="{standalone: true}"></form-checkbox>
						</section>
					</div>

                    <div class="form-row">
                        <section class="col">
                                <form-checkbox label="Reset the source incremental value, and load all source rows." [(ngModel)]="resetIncremental" [ngModelOptions]="{standalone: true}"></form-checkbox>
                            </section>
                        </div>

                    <div class="form-row">
                        <section class="col">
                            <form-input label="Incremental Value" [(ngModel)]="resetValue" [ngModelOptions]="{standalone: true}" placeholder="" iconClass="fa fa-list" note="Use a specific incremental value to start loading source rows from (leave empty for null value)" >
                                </form-input>
                        </section>
                    </div>
    
    
                    <div class="d-flex flex-wrap pt-1" *ngIf="parameters && parameters.length > 0" >
                        <div class="input-group-text">
                            Input Parameters
                        </div>
                
                        <span *ngFor="let parameter of parameters; let i = index" class="input-group">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    {{parameter.name}}
                                </div>
                            </div>
                            <form-input name="parameter{{i}}" class="form-control p-0" [placeholder]="parameter.name" [(ngModel)]="parameter.value"></form-input>
                        </span>
                    </div>
				</section>
			</fieldset>
		</form>

    </dexih-widget>
</div>