<auth-header [showSignUp]="true"></auth-header>

<div class="login-container">
	<div class="card">
		<form>
			<div class="card-header">
				Integration Hub - Sign In
			</div>
			<div class="card-body">
				<fieldset>
					<section *ngIf="message">
						<div class="alert alert-danger ">
							{{message}}
						</div>
					</section>

					<section>
						<form-input [disabled]="loginType != eLoginProvider.Dexih" label="Login" [(ngModel)]="user.email" name="email" iconClass="fa fa-user txt-color-teal" title="Please enter your user name or email address"
						 placeholder="Login">
						</form-input>
					</section>
					<section *ngIf="loginType == eLoginProvider.Dexih">
						<form-input label="Password" [(ngModel)]="user.password" name="password" type="password" iconClass="fa fa-lock txt-color-teal"
						 placeholder="Password..." title="Please enter your password">
						</form-input>
						<div>
							<a routerLink="/auth/forgot-password">Forgot password?</a>
						</div>
					</section>

					<section>
						<form-checkbox label="Stay signed in" [(ngModel)]="user.rememberMe" name="remember"></form-checkbox>
					</section>

				</fieldset>
			</div>
			<div *ngIf="loginType === eLoginProvider.Dexih" class="card-footer">
				<button type="submit" (onsubmit)="login($event)" (click)="login($event)" class="btn btn-success">Sign In &nbsp;
					<i class="fa fa-sign-in"></i>
				</button>
			</div>
			<div *ngIf="loginType === eLoginProvider.Google" class="card-footer">
				<button type="submit" (onsubmit)="login($event)" (click)="login($event)" class="btn btn-danger">Google Sign In &nbsp;
					<i class="fa fa-sign-in"></i>
				</button>
				<button *ngIf="externalLogin" (click)="googleLogin(true)" class="btn btn-danger ml-1">Change
					User &nbsp;
					<i class="fa fa-google"></i>
				</button>
				<button *ngIf="externalLogin" (click)="googleLogout()" class="btn btn-danger ml-1">Logout
					&nbsp;
					<i class="fa fa-google"></i>
				</button>
			</div>
			<div *ngIf="loginType === eLoginProvider.Microsoft" class="card-footer">
				<button type="submit" (onsubmit)="login($event)" (click)="login($event)" class="btn btn-primary">Microsoft Sign In &nbsp;
					<i class="fa fa-sign-in"></i>
				</button>
				<button *ngIf="externalLogin" (click)="microsoftLogin(true)"
					class="btn btn-primary ml-1">Change User &nbsp;
					<i class="fa fa-windows"></i>
				</button>
				<button *ngIf="externalLogin" (click)="microsoftLogout()" class="btn btn-primary ml-1">Logout
						&nbsp;
					<i class="fa fa-windows"></i>
				</button>
			</div>
		</form>
	</div>
	<div class="card mt-2">
		<div class="card-header">
			Other Sign-In Options
		</div>
		<div class="card-body d-flex">
			<div *ngIf="loginType != eLoginProvider.Dexih" class="p-2 flex-fill">
				<button (click)="enablePassword()" class="w-100 btn btn-success">
					<i class="fa fa-sign-in"></i>&nbsp;&nbsp;User/Pass</button>
			</div>
		
			<div *ngIf="loginType != eLoginProvider.Google" class="p-2 flex-fill">
				<button (click)="enableGoogle()" class="w-100 btn text-white" style="background-color: #db3236;">
					<i class="fa fa-google"></i>&nbsp;&nbsp;Google</button>
			</div>

			<div *ngIf="loginType != eLoginProvider.Microsoft" class="p-2 flex-fill">
				<button (click)="enableMicrosoft()" class="w-100 btn text-white" style="background-color: #00a2ed;">
					<i class="fa fa-windows"></i>&nbsp;&nbsp;Microsoft</button>
			</div>

			<div class="p-2 flex-fill">
				<button routerLink="/public" class="w-100 btn btn-success">
					<i class="fa fa-newspaper-o "></i>&nbsp;&nbsp;Public Data</button>
			</div>
		</div>
	</div>

</div>