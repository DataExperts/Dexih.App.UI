{"version":3,"sources":["webpack:///src/app/+hubs/notifications/notification-index/index.ts","webpack:///src/app/+hubs/notifications/notification-index/notification-index.component.ts","webpack:///src/app/+hubs/notifications/notification-index/notification-index.component.html","webpack:///src/app/+hubs/tasks/task-view/task-view.component.ts","webpack:///src/app/+hubs/tasks/task-view/task-view.component.html","webpack:///src/app/+hubs/hubs.module.ts","webpack:///src/app/+hubs/support/edit/issue-edit.component.ts","webpack:///src/app/+hubs/support/edit/issue-edit.component.html","webpack:///src/app/+hubs/remoteAgents/remoteAgent-edit/index.ts","webpack:///src/app/+hubs/hub-edit/hub-edit.component.ts","webpack:///src/app/+hubs/hub-edit/hub-edit.component.html","webpack:///src/app/+hubs/hubs.component.ts","webpack:///src/app/+hubs/hubs.component.html","webpack:///src/app/+hubs/manage/manage.component.ts","webpack:///src/app/+hubs/manage/manage.component.html","webpack:///src/app/+hubs/help/help.component.ts","webpack:///src/app/+hubs/help/help.component.html","webpack:///src/app/+hubs/tasks/task-view/index.ts","webpack:///src/app/+hubs/tasks/tasks-index/tasks-index.component.ts","webpack:///src/app/+hubs/tasks/tasks-index/tasks-index.component.html","webpack:///src/app/+hubs/hubs-summary/hubs-summary.component.ts","webpack:///src/app/+hubs/hubs-summary/hubs-summary.component.html","webpack:///src/app/+hubs/support/index.ts","webpack:///src/app/+hubs/help/index.ts","webpack:///src/app/+hubs/tasks/tasks-index/index.ts","webpack:///src/app/+hubs/support/index/issue-index.component.ts","webpack:///src/app/+hubs/support/index/issue-index.component.html","webpack:///src/app/+hubs/remoteAgents/remote-agent-token/remote-agent-token.component.html","webpack:///src/app/+hubs/remoteAgents/remote-agent-token/remote-agent-token.component.ts","webpack:///src/app/+hubs/notifications/notification-view/notification-view.component.ts","webpack:///src/app/+hubs/notifications/notification-view/notification-view.component.html","webpack:///src/app/+hubs/remoteAgents/remoteAgent-download/index.ts","webpack:///src/app/+hubs/tasks/task-status/index.ts","webpack:///src/app/+hubs/hub-index/hub-index.component.ts","webpack:///src/app/+hubs/hub-index/hub-index.component.html","webpack:///src/app/+hubs/notifications/notification-view/index.ts","webpack:///src/app/+hubs/remoteAgents/remoteAgent-edit/remoteAgent-edit.component.ts","webpack:///src/app/+hubs/remoteAgents/remoteAgent-edit/remoteAgent-edit.component.html","webpack:///src/app/+hubs/remoteAgents/remote-agents/remote-agents.component.ts","webpack:///src/app/+hubs/remoteAgents/remote-agents/remote-agents.component.html","webpack:///src/app/+hubs/remoteAgents/remoteAgent-download/remoteAgent-download.component.ts","webpack:///src/app/+hubs/remoteAgents/remoteAgent-download/remoteAgent-download.component.html","webpack:///src/app/+hubs/hubs.routing.ts","webpack:///src/app/+hubs/tasks/task-status/task-status.component.ts","webpack:///src/app/+hubs/tasks/task-status/task-status.component.html"],"names":["NotificationsIndexComponent","authService","router","route","showPage","showPageMessage","columns","name","title","format","_tableData","tableData","asObservable","notifications","getNotifications","message","navigate","reference","relativeTo","navigateUp","close","showMessage","selector","templateUrl","styles","TaskViewComponent","eManagedTaskStatus","exceptionHidden","watchChanges","_subscription","data","params","getTasksObservable","subscribe","result","tasks","task","find","c","taskId","e","unsubscribe","HubsModule","ngModule","providers","imports","declarations","exports","moment","IssueEditComponent","fb","eIssueTypeItems","eIssueSeverityItems","eIssueStatusItems","eIssueCategoryItems","SharedAccessItems","filter","key","generatingKey","saving","hasChanged","showAllErrors","disable","isNew","formErrors","validationMessages","supportOptions","icon","link","description","cancelToken","action","pageTitle","issue","buildForm","refresh","dexihMessage","addErrorMessage","_valueChangesSubscription","cancel","getIssue","then","subTitle","userName","updateDate","calendar","getUser","isAdmin","reset","Object","assign","mainForm","value","saveIssue","addSuccessMessage","reason","addMessage","addIssueComment","newComment","comment","deleteIssueComments","comments","array","dexihIssueComments","map","group","disabled","required","minLength","maxLength","type","category","severity","isPrivate","issueStatus","gitHubLink","valueChanges","onValueChanged","form","keys","field","control","get","dirty","valid","messages","errors","HubEditComponent","hubService","savingHub","getHubsObservable","getGlobalCacheObservable","getRemoteLibrariesObservable","hubs","globalCache","remoteLibraries","timeZones","defaultRemoteLibraries","hub","hubKey","getRandomEncryptionKey","controls","setValue","markAsDirty","encryptionKey","confirmDialog","confirm","doSaveHub","saveHub","duplicateHubNameValidator","sharedAccess","expiryDate","timeZone","no","hubNameExists","HubsComponent","hubsService","openDelay","initialize","_hubsMessageSubscription","getHubMessagesObservable","length","_webSocketStatusSubscription","getWebSocketStatusObservable","status","webSocketStatus","setTimeout","onFocus","ManageComponent","formsService","location","updatingPassword","passwordMatchError","passwordStrengthError","googleMessage","microsoftMessage","_userSubscription","getUserObservable","user","createDefault","updateLogins","currentForm","email","passwordForm","pattern","duplicatePasswordValidator","getLoginProviders","logins","confirmPassword","newPassword","changePassword","password","updateUserDetails","forceLogin","googleSignIn","addExternalLogin","Google","providerKey","authenticationToken","loginResult","microsoftSignIn","Microsoft","login","removeExternalLogin","loginProvider","HelpComponent","queryParams","path","_hubCacheSubscription","getHubCacheObservable","cache","linkClick","TasksIndexComponent","forEach","referenceKey","push","next","showTask","HubsSummaryComponent","logoSmallUrl","eSharedAccess","ePermission","eHubAccess","view","User","hubAccess","IssueIndexComponent","getIssues","i","issues","issueKeys","deleteIssues","edit","RemoteAgentTokenComponent","promise","createRemoteAgent","remoteAgentKey","refreshRemoteAgentToken","remoteToken","updateAppSettings","addHubMessage","appSettings","remoteAgentId","userToken","NotificationViewComponent","getNotification","HubIndexComponent","isLoaded","hubsObserve","deleteHubs","RemoteAgentEditComponent","getRemoteAgentsObservable","remoteAgents","remoteAgent","remoteAgentForm","addMissing","clearFormSubscriptions","startForm","addHubClientErrorMessage","saveRemoteAgent","addHubSuccessMessage","pingRemoteAgents","ipAddress","ipAddressesControl","ipAddresses","findIndex","RemoteAgentsComponent","footer","tooltip","eDownloadUrlType","refreshData","activeAgent","connected","dataPrivacyStatus","isEncrypted","restrictIp","lastLoginIpAddress","lastLoginDateTime","downloadUrls","instanceId","version","latestVersion","versionTooltip","upgradeAvailable","versionClass","items","item","agent","downloadUrl","index","url","getFromExternal","removeUserTokens","autoUpgrade","restartAgents","informationDialog","activeAgents","addHubErrorMessage","restartAgent","RemoteAgentDownloadComponent","downloading","refreshingEncryptionKey","refreshingUserToken","logLevelItems","eEnvironmentItems","embedUserName","logLevel","Information","environment","Windows","getHubs","remoteApplicationSettings","remoteAgentSettings","downloadRemoteAgent","showErrors","downloadRemoteSettings","getUserToken","hubsView","component","baseRoutes","children","routes","redirectTo","Routing","forChild","TaskStatusComponent","currentStatus","getStatus","statusInfo","StatusInfo","percentage","statusType","error","Error","Cancelled","canCancel","Created","Running","Scheduled","Queued","Completed","iconClass","cancelTasks"],"mappings":"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","file":"8-es5.js","sourcesContent":["export * from './notification-index.component';\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { AuthService } from '../../../+auth/auth.service';\nimport { Message } from '../../../+auth/auth.models';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Observable, BehaviorSubject, Subscription, combineLatest} from 'rxjs';\n\n@Component({\n  selector: 'notification-index',\n  templateUrl: './notification-index.component.html',\n  styles: []\n})\nexport class NotificationsIndexComponent implements OnInit, OnDestroy {\n\n    public notifications: Message[];\n\n    showPage = false;\n    showPageMessage = 'Loading...';\n\n    columns = [\n        { name: 'success', title: 'Success', format: ''},\n        { name: 'message', title: 'Message', format: ''},\n        { name: 'value', title: 'Value', format: ''},\n    ];\n\n    private _tableData = new BehaviorSubject<Array<Message>>(null);\n    tableData: Observable<Array<Message>> = this._tableData.asObservable();\n\n    constructor(private authService: AuthService, private router: Router, private route: ActivatedRoute) {\n    }\n\n    ngOnInit() {\n        this.notifications = this.authService.getNotifications();\n    }\n\n    ngOnDestroy() {\n    }\n\n    showMessage(message: Message) {\n        this.router.navigate(['view', message.reference], {relativeTo: this.route})\n    }\n\n    close() {\n        this.authService.navigateUp();\n    }\n}\n\n\n","<div class=\"container\">\n    <d-widget title=\"Notifications\" \n        iconClass=\"fa fa-lg fa-fw fa-exchange\" \n\t\t[showCloseButton]=\"true\"\n\t\t(close)=\"close()\"\n\n    >\n\n\t\t<d-table \n\t\t\t[enableMultiSelect]=\"true\"\n\t\t\t[enableStickyToolbar]=\"true\"  [toolbarZIndex]=\"100\"\n\t\t\t[columns]=\"columns\"\n\t\t\t[data]=\"notifications\"\n\t\t\t(rowClick)=\"showMessage($event)\"\n\t\t\t>\n\t\t\t\t<ng-template #selectedItemAction select=\"selectedItemAction\" let-task=\"item\">\n\t\t\t\t\t<d-button-view (click)=\"showMessage(task)\"></d-button-view>\n\t\t\t\t</ng-template>\n\t\t\t\t\n\t\t</d-table>\n    </d-widget>\n</div>\n\n\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { AuthService } from '../../../+auth/auth.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Observable, Subscription, combineLatest} from 'rxjs';\nimport { eManagedTaskStatus, ManagedTask } from '../../../shared/shared.models';\n\n@Component({\n    selector: 'task-view',\n    templateUrl: './task-view.component.html',\n    styles: []\n})\nexport class TaskViewComponent implements OnInit, OnDestroy {\n\n    private _subscription: Subscription;\n\n    public task: ManagedTask;\n\n    showPage = false;\n    showPageMessage = 'Loading...';\n    view: string;\n\n    eManagedTaskStatus = eManagedTaskStatus;\n\n    public exceptionHidden = true;\n\n    resultChartData: Array<any>;\n\n    constructor(\n        private authService: AuthService,\n        private router: Router,\n        private route: ActivatedRoute) {\n    }\n\n    ngOnInit() {\n        this.watchChanges();\n\n        try {\n            this._subscription = combineLatest(\n                this.route.data,\n                this.route.params,\n                this.authService.getTasksObservable(),\n            ).subscribe(result => {\n                let data = result[0];\n                let params = result[1];\n                let tasks = result[2];\n\n                let reference = params['reference'];\n\n                this.showPage = false;\n                this.showPageMessage = 'Loading...';\n\n                this.task = tasks.find(c => c.taskId === reference);\n\n                if (!this.task) {\n                    this.authService.navigateUp();\n                }\n\n            });\n        } catch (e) {\n        }\n\n\n    }\n\n    ngOnDestroy() {\n        if (this._subscription) { this._subscription.unsubscribe(); }\n    }\n\n    close() {\n        this.authService.navigateUp();\n    }\n\n    watchChanges() {\n    }\n\n}\n\n\n","<div class=\"container\">\n\t<d-widget *ngIf=\"task\" [title]=\"'Task - ' + task?.name\" iconClass=\"fa fa-lg fa-fw fa-trophy\" [showCloseButton]=\"true\" (close)=\"close()\">\n\t\t<div class=\"content\" [ngSwitch]=\"view\">\n\t\t\t<ul class=\"list-group\">\n\t\t\t\t<li class=\"list-group-item list-group-item-danger\" *ngIf=\"task?.status == eManagedTaskStatus.Error\">\n\t\t\t\t\t<h5>Error encountered!</h5>\n\t\t\t\t\t<h6>{{task.message}}\n\t\t\t\t\t<div class=\"float-right\">\n\t\t\t\t\t\t<d-button *ngIf=\"task.exceptionDetails\" (click)='exceptionHidden = !exceptionHidden'>Toggle Details</d-button>\n\t\t\t\t\t</div>\n\t\t\t\t\t</h6>\n\t\t\t\t\t<div>\n\t\t\t\t\t<pre *ngIf=\"!exceptionHidden && task.exceptionDetails\" >{{task.exceptionDetails}}</pre>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t\t<li class=\"list-group-item list-group-item-info\">\n\t\t\t\t\t<h5>Details</h5>\n\t\t\t\t</li>\n\t\t\t\t<li class=\"list-group-item \">\n\t\t\t\t\t<div class=\"container\">\n\t\t\t\t\t\t<div class=\"row rounded text-white bg-secondary\">\n\t\t\t\t\t\t\t<div class=\"col border border-white\">Status</div>\n\t\t\t\t\t\t\t<div class=\"col border border-white\">{{eManagedTaskStatus[task.status]}}</div>\n\t\t\t\t\t\t\t<div class=\"w-100\"></div>                    \n\t\t\t\t\t\t\t<div class=\"col border border-white\">Last Updated</div>\n\t\t\t\t\t\t\t<div class=\"col border border-white\">{{task.lastUpdate | calendar}}</div>\n\t\t\t\t\t\t\t<div class=\"w-100\"></div>\n\t\t\t\t\t\t\t<div class=\"col border border-white\">Name</div>\n\t\t\t\t\t\t\t<div class=\"col border border-white\">{{task.name }}</div>\n\t\t\t\t\t\t\t<div class=\"w-100\"></div>\n\t\t\t\t\t\t\t<div class=\"col border border-white\">Category</div>\n\t\t\t\t\t\t\t<div class=\"col border border-white\">{{task.category }}</div>\n\t\t\t\t\t\t\t<div class=\"w-100\"></div>\n\t\t\t\t\t\t\t<div class=\"col border border-white\">Description</div>\n\t\t\t\t\t\t\t<div class=\"col border border-white\">{{task.description }}</div>\n\t\t\t\t\t\t\t<div class=\"w-100\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h6 *ngIf=\"task.category === 'Datalink'\">\n\t\t\t\t\t\t\t<d-button-view [routerLink]=\"['/hub', task.referenceKey, 'summary', 'datalinks', 'result-view', task.data.auditConnectionKey, task.data.auditKey]\" text=\"Datalink Result\"></d-button-view>\n\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t<h6 *ngIf=\"task.category === 'Datajob'\">\n\t\t\t\t\t\t\t<d-button-view [routerLink]=\"['/hub', task.referenceKey, 'summary', 'datalinks', 'result-view', task.data.auditConnectionKey, task.data.auditKey]\" text=\"Datajob Result\"></d-button-view>\n\t\t\t\t\t\t</h6>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</d-widget>\n</div>","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { Routing } from './hubs.routing';\nimport { SharedModule } from '../shared/shared.module';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { HubsService } from './hubs.service';\nimport { HubsComponent } from './hubs.component';\nimport { HubIndexComponent } from './hub-index/hub-index.component';\nimport { HubEditComponent } from './hub-edit/hub-edit.component';\nimport { HubsSummaryComponent} from './hubs-summary/hubs-summary.component';\nimport { ManageComponent } from './manage/manage.component';\nimport { TasksIndexComponent } from './tasks/tasks-index';\nimport { TaskStatusComponent } from './tasks/task-status';\nimport { TaskViewComponent } from './tasks/task-view';\nimport { NotificationsIndexComponent } from './notifications/notification-index';\nimport { NotificationViewComponent } from './notifications/notification-view';\nimport { RemoteAgentsComponent} from './remoteAgents/remote-agents/remote-agents.component';\nimport { HelpComponent } from './help'\nimport { RemoteAgentDownloadComponent } from './remoteAgents/remoteAgent-download';\nimport { RemoteAgentEditComponent } from './remoteAgents/remoteAgent-edit';\nimport { RemoteAgentTokenComponent} from './remoteAgents/remote-agent-token/remote-agent-token.component';\nimport { IssueEditComponent, IssueIndexComponent } from './support'\nimport { HubService } from '../+hub/hub.service';\n\n\n@NgModule({\n    imports: [\n        SharedModule,\n        Routing,\n        ReactiveFormsModule\n    ],\n    declarations: [\n        HubsComponent,\n        HubIndexComponent,\n        HubEditComponent,\n        HubsSummaryComponent,\n        ManageComponent,\n        TasksIndexComponent,\n        TaskStatusComponent,\n        TaskViewComponent,\n        NotificationsIndexComponent,\n        NotificationViewComponent,\n        RemoteAgentsComponent,\n        RemoteAgentDownloadComponent,\n        RemoteAgentEditComponent,\n        HelpComponent,\n        RemoteAgentTokenComponent,\n        IssueEditComponent, IssueIndexComponent\n    ],\n    providers: [HubsService, HubService],\n    exports: []\n})\nexport class HubsModule {\n\n    static forRoot(): ModuleWithProviders<HubsModule> {\n        return {\n            ngModule: HubsModule,\n            providers: [HubsService, HubService]\n        };\n    }\n}\n","import { Component, OnInit, OnDestroy, ViewChild } from '@angular/core';\nimport { Subscription, combineLatest} from 'rxjs';\nimport { ActivatedRoute } from '@angular/router';\nimport { FormBuilder, FormGroup, Validators, FormArray } from '@angular/forms';\nimport { AuthService } from '../../../+auth/auth.service';\nimport { CancelToken } from '../../../+auth/auth.models';\nimport { DexihMessageComponent } from '../../../shared/ui/dexihMessage';\nimport { eSharedAccessItems, DexihIssue, eIssueTypeItems, eIssueSeverityItems, eIssueStatusItems, eIssueCategoryItems, DexihIssueComment } from '../../../shared/shared.models';\nimport * as moment_ from 'moment';\nconst moment = moment_;\n\n@Component({\n\n  selector: 'issue-edit-form',\n  templateUrl: './issue-edit.component.html'\n})\nexport class IssueEditComponent implements OnInit, OnDestroy {\n  @ViewChild('DexihMessage', { static: true }) public dexihMessage: DexihMessageComponent;\n\n  private _subscription: Subscription;\n  private _valueChangesSubscription: Subscription;\n\n  action: string;\n  pageTitle: string;\n\n  issue: DexihIssue;\n\n  eIssueTypeItems = eIssueTypeItems;\n  eIssueSeverityItems = eIssueSeverityItems;\n  eIssueStatusItems = eIssueStatusItems;\n  eIssueCategoryItems = eIssueCategoryItems;\n\n  SharedAccessItems = eSharedAccessItems.filter(c => c.key > 0);\n\n  generatingKey = false;\n  saving = false;\n  hasChanged = false;\n  showAllErrors = false;\n\n  disable = false;\n\n  mainForm: FormGroup;\n  comments: FormArray;\n  newComment: string;\n  subTitle: string;\n\n  key: number;\n\n  isNew = true;\n\n  formErrors = {\n    'name': '',\n    'description': '',\n  };\n\n  validationMessages = {\n    'name': {\n      'required': 'Name is required.',\n      'minlength': 'Name must be at least 4 characters long.',\n      'maxlength': 'Name cannot be more than 50 characters long.',\n      'duplicateHubName': 'Name cannot be the same as an existing hub name.'\n    },\n    'description': {\n      'required': 'Description is required.',\n    },\n  };\n\n  supportOptions = [\n    {name: 'Forums', icon: 'fa fa-smile-o', link: 'https://dexih.mn.co/feed', description: 'Use the community forums for questions and other integration hub discussion.'},\n    {name: 'Twitter', icon: 'fa fa-twitter', link: 'https://twitter.com/dataexperts', description: 'Send messages to our twitter for quick short queries and comments.'},\n    {name: 'YouTube', icon: 'fa fa-youtube', link: 'https://www.youtube.com/channel/UCUQQ_sVuFti-xYvKtfLJNkg', description: 'Refer to our youtube channel for video tutorials.'},\n    {name: 'Features / Issues', icon: 'fa fa-github', link: 'https://github.com/DataExperts/Dexih.App.UI', description: 'We are an open source platform.  Raise feature requests and bugs on our github pages.'}\n  ];\n\n  private cancelToken = new CancelToken();\n\n  constructor(\n    private authService: AuthService,\n    private route: ActivatedRoute,\n    private fb: FormBuilder\n  ) {\n  }\n\n  ngOnInit() {\n\n    try {\n      this._subscription = combineLatest(\n        this.route.data,\n        this.route.params,\n      ).subscribe(result => {\n        let data = result[0];\n        let params = result[1];\n\n        this.action = data['action'];\n        this.pageTitle = data['pageTitle'];\n\n        if (this.action === 'new') {\n          this.issue = new DexihIssue();\n          this.buildForm();\n          this.isNew = true;\n          this.disable = false;\n        } else if (this.action === 'edit') {\n          this.key = + params['issueKey'];\n          this.isNew = false;\n          this.refresh();\n        }\n      });\n    } catch (e) {\n      this.dexihMessage.addErrorMessage(e.message);\n    }\n  }\n\n  ngOnDestroy() {\n    if (this._subscription) { this._subscription.unsubscribe(); }\n    if (this._valueChangesSubscription) { this._valueChangesSubscription.unsubscribe(); }\n    this.cancelToken.cancel();\n  }\n\n  refresh() {\n    this.authService.getIssue(this.key, this.cancelToken).then(issue => {\n      this.issue = issue;\n      this.subTitle = 'Updated by ' + issue.userName + ' - ' + moment(issue.updateDate).calendar();\n      this.buildForm();\n\n      if (this.authService.getUser().isAdmin) {\n        this.disable = false;\n      } else {\n        this.disable = true;\n      }\n    });\n  }\n\n  save() {\n    this.dexihMessage.reset();\n    this.saving = true;\n    Object.assign(this.issue, this.mainForm.value);\n    this.authService.saveIssue(this.issue)\n      .then(() => {\n        this.saving = false;\n        this.dexihMessage.addSuccessMessage('Issue created successfully.');\n        this.cancel();\n      }).catch(reason => {\n        this.dexihMessage.addMessage(reason);\n        this.saving = false;\n      });\n  }\n\n  saveComment() {\n    this.dexihMessage.reset();\n    this.saving = true;\n    this.authService.addIssueComment(this.issue.key, this.newComment)\n      .then(() => {\n        this.saving = false;\n        this.dexihMessage.addSuccessMessage('Issue comment added successfully.');\n        this.cancel();\n      }).catch(reason => {\n        this.dexihMessage.addMessage(reason);\n        this.saving = false;\n      });\n  }\n\n  deleteComment(comment: DexihIssueComment) {\n    this.authService.deleteIssueComments([comment.key]).then(() => {\n        this.refresh()\n        this.dexihMessage.addSuccessMessage('Issue comment deleted.');\n    }).catch(reason => {\n      this.dexihMessage.addMessage(reason);\n    });\n  }\n\n  cancel() {\n    this.authService.navigateUp();\n  }\n\n  buildForm(): void {\n    this.comments = this.fb.array(this.issue.dexihIssueComments.map(c => {\n      return this.fb.group({\n        'key': [{value: c.key, disabled: false}, []],\n        'comment': [{value: c.comment, disabled: this.disable}, []],\n        'userName': [{value: c.userName, disabled: false}, []],\n        'updateDate': [{value: c.updateDate, disabled: false}, []],\n      });\n    }));\n\n    this.mainForm = this.fb.group({\n      'key': [{value: this.issue.key, disabled: this.disable}, []],\n      'name': [{value: this.issue.name, disabled: this.disable}, [\n        Validators.required,\n        Validators.minLength(4),\n        Validators.maxLength(50),\n      ]],\n      'description': [{value: this.issue.description, disabled: this.disable}, [\n        Validators.required,\n      ]],\n      'type': [{value: this.issue.type, disabled: this.disable}, []],\n      'category': [{value: this.issue.category, disabled: this.disable}, []],\n      'severity': [{value: this.issue.severity, disabled: this.disable}, []],\n      'isPrivate': [{value: this.issue.isPrivate, disabled: this.disable}, []],\n      'updateDate': [{value: this.issue.updateDate, disabled: true}, []],\n      'userName': [{value: this.issue.userName, disabled: true}, []],\n      'issueStatus': [{value: this.issue.issueStatus, disabled: false}, []],\n      'gitHubLink': [{value: this.issue.gitHubLink, disabled: false}, []],\n      'dexihIssueComments': this.comments\n    });\n\n    if (this._valueChangesSubscription) { this._valueChangesSubscription.unsubscribe(); }\n    this._valueChangesSubscription = this.mainForm.valueChanges.subscribe(() => this.onValueChanged());\n    this.onValueChanged(); // (re)set validation messages now\n\n    this.hasChanged = false;\n  }\n\n  onValueChanged() {\n    if (!this.mainForm) { return; }\n    const form = this.mainForm;\n\n    this.hasChanged = true;\n\n    for (const field of Object.keys(this.formErrors)) {\n      // clear previous error message (if any)\n      this.formErrors[field] = '';\n      const control = form.get(field);\n\n      if (control && (control.dirty || this.showAllErrors) && !control.valid) {\n        const messages = this.validationMessages[field];\n        for (const key of Object.keys(control.errors)) {\n          this.formErrors[field] += messages[key] + ' ';\n        }\n      }\n    }\n  }\n}\n","<div class=\"container\">\n\t<dexih-message #DexihMessage></dexih-message>\n\n\t<d-widget *ngIf=\"mainForm\" iconClass=\"fa fa-ticket\" title=\"Support\">\n\t\t<support-options [isExpanded]=\"false\"></support-options>\n\n\t\t<d-widget-section \n\t\t\ttitle=\"Raise Issue\" \n\t\t\t[subTitle]=\"subTitle\"\n\t\t\t[showExpandButton]=\"true\"\n\t\t\ticonClass=\"fa fa-lg fa-fw fa-comments\" [padding]=\"true\">\n\t\t\t<ng-template #sectionHeader>\n\t\t\t\t<d-button-save class=\"mr-1\" (click)=\"!saving && !mainForm.pristine && save()\"\n\t\t\t\t\t[disabled]=\"saving || mainForm.pristine\" [busy]=\"saving\"></d-button-save>\n\t\t\t\t<d-button-cancel (click)=\"!saving && cancel()\" [disabled]=\"saving\"></d-button-cancel>\n\t\t\t</ng-template>\n\n\t\t\t<form id=\"edit-form\" [formGroup]=\"mainForm\">\n\t\t\t\t<fieldset>\n\t\t\t\t\t\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<form-input label=\"Title\" formControlName=\"name\" placeholder=\"Title\" iconClass=\"fa fa-life-ring\"\n\t\t\t\t\t\t\t[errors]=\"formErrors.name\">\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\n\t\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t\t<form-select label=\"Type\" formControlName=\"type\" iconClass=\"fa fa-life-ring\"\n\t\t\t\t\t\t\t\t[items]=\"eIssueTypeItems\" itemKey=\"key\" itemName=\"description\">\n\t\t\t\t\t\t\t</form-select>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t\t<form-select label=\"Severity\" formControlName=\"severity\" iconClass=\"fa fa-life-ring\"\n\t\t\t\t\t\t\t\t[items]=\"eIssueSeverityItems\" itemKey=\"key\" itemName=\"description\">\n\t\t\t\t\t\t\t</form-select>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t\t<form-select label=\"Category\" formControlName=\"category\" iconClass=\"fa fa-life-ring\"\n\t\t\t\t\t\t\t\t[items]=\"eIssueCategoryItems\" itemKey=\"key\" itemName=\"description\">\n\t\t\t\t\t\t\t</form-select>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t\t<form-select label=\"Status\" formControlName=\"issueStatus\" iconClass=\"fa fa-circle-notch\"\n\t\t\t\t\t\t\t\t[items]=\"eIssueStatusItems\" itemKey=\"key\" itemName=\"description\">\n\t\t\t\t\t\t\t</form-select>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<section >\n\t\t\t\t\t\t<form-checkbox c label=\"Is Private (will not be published to public github issue)\" formControlName=\"isPrivate\">\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<form-textarea label=\"Description\" formControlName=\"description\"\n\t\t\t\t\t\t\tplaceholder=\"Details of the issue of feature request\" rows=\"20\" [hideToggle]=\"isNew\" [isHidden]=\"!isNew\">\n\t\t\t\t\t\t</form-textarea>\n\t\t\t\t\t</section>\n\n\t\t\t\t</fieldset>\n\t\t\t</form>\n\t\t</d-widget-section>\n\n\t\t<d-widget-section *ngIf=\"comments.controls.length > 0\"\n\t\t\ttitle=\"Commentary\" [showExpandButton]=\"true\" iconClass=\"fa fa-lg fa-fw fa-comments\" [padding]=\"true\">\n\n\t\t\t<form id=\"comment-form\" *ngFor=\"let comment of comments.controls\"\n\t\t\t\t[formGroup]=\"comment\">\n\t\t\t\t<fieldset>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<form-textarea label=\"{{comment.value.userName}} - {{comment.value.updateDate | calendar }}\" formControlName=\"comment\" placeholder=\"Comment\" [hideToggle]=\"true\" [isHidden]=\"true\"\n\t\t\t\t\t\t\ticonClass=\"fa fa-comment\">\n\t\t\t\t\t\t\t<d-button-delete (click)=\"deleteComment(comment.value)\"></d-button-delete>\n\t\t\t\t\t\t</form-textarea>\n\t\t\t\t\t</section>\n\t\t\t\t</fieldset>\n\t\t\t</form>\n\t\t</d-widget-section>\n\n\t\t<d-widget-section *ngIf=\"mainForm.controls.key.value > 0 && mainForm.controls.isPrivate.value\" title=\"Add new comment\" [showExpandButton]=\"true\"\n\t\t\ticonClass=\"fa fa-lg fa-fw fa-comments\" [padding]=\"true\">\n\t\t\t<ng-template #sectionHeader>\n\t\t\t\t<d-button-save class=\"mr-1\" (click)=\"!saving && newComment && saveComment()\"\n\t\t\t\t\t[disabled]=\"saving || !newComment\" [busy]=\"saving\"></d-button-save>\n\t\t\t\t<d-button-cancel (click)=\"!saving && cancel()\" [disabled]=\"saving\"></d-button-cancel>\n\t\t\t</ng-template>\n\n\t\t\t<form>\n\t\t\t\t<fieldset>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<form-textarea [(ngModel)]=\"newComment\" [ngModelOptions]=\"{standalone: true}\"\n\t\t\t\t\t\t\tplaceholder=\"Enter a new comment\" iconClass=\"fa fa-comment\" rows=\"20\" [isHidden]=\"false\" [hideToggle]=\"true\">\n\t\t\t\t\t\t</form-textarea>\n\t\t\t\t\t</section>\n\t\t\t\t</fieldset>\n\t\t\t</form>\n\t\t</d-widget-section>\n\n\t\t<d-widget-section *ngIf=\"mainForm.controls.key.value > 0 && !mainForm.controls.isPrivate.value\" title=\"Add new comment\" [showExpandButton]=\"true\"\n\t\t\ticonClass=\"fa fa-lg fa-fw fa-comments\" [padding]=\"true\">\n\n\t\t\t<p>This is a public issue and is managed through the GitHub issue below.</p>\n\t\t\t<a class=\"btn btn-primary\" [href]=\"mainForm.controls.gitHubLink?.value\" target=\"_blank\" ><i class=\"fa fa-github\"></i>GitHub Issue</a>\n\t\t</d-widget-section>\n\t\t\n\t</d-widget>\n</div>","export * from './remoteAgent-edit.component';\n","import { Component, OnInit, OnDestroy, ViewChild } from '@angular/core';\nimport { Observable, Subscription, combineLatest} from 'rxjs';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormBuilder, FormGroup, Validators, ValidatorFn, AbstractControl } from '@angular/forms';\nimport { AuthService } from '../../+auth/auth.service';\nimport { DexihHubAuth } from '../../+auth/auth.models';\nimport { Location } from '@angular/common';\nimport { DexihMessageComponent } from '../../shared/ui/dexihMessage';\nimport { eSharedAccessItems, DexihRemoteAgent, RemoteTimeZone } from '../../shared/shared.models';\nimport { HubService } from '../../+hub/hub.service';\n\n@Component({\n\n  selector: 'dexih-hub-edit-form',\n  templateUrl: './hub-edit.component.html'\n})\nexport class HubEditComponent implements OnInit, OnDestroy {\n  @ViewChild('DexihMessage', { static: true }) public dexihMessage: DexihMessageComponent;\n\n  private _subscription: Subscription;\n  private _valueChangesSubscription: Subscription;\n\n  action: string;\n  pageTitle: string;\n\n  hub: DexihHubAuth;\n  public timeZones: RemoteTimeZone[];\n\n  SharedAccessItems = eSharedAccessItems.filter(c => c.key > 0);\n\n  generatingKey = false;\n  savingHub = false;\n  hasChanged = false;\n  showAllErrors = false;\n\n  mainForm: FormGroup;\n\n  formErrors = {\n    'name': '',\n    'encryptionKey': '',\n    'sharedAccess': '',\n    'expiryDate': ''\n  };\n\n  validationMessages = {\n    'name': {\n      'required': 'Name is required.',\n      'minlength': 'Name must be at least 4 characters long.',\n      'maxlength': 'Name cannot be more than 50 characters long.',\n      'duplicateHubName': 'Name cannot be the same as an existing hub name.'\n    },\n    'encryptionKey': {\n      'required': 'Encryption Key is required.',\n      'minlength': 'Encryption Key must be at least 10 characters long.',\n      'maxlength': 'Encryption Key cannot be more than 250 characters long.'\n    },\n    'sharedAccess': {\n      'required': 'Specify the type of required access.'\n    },\n    'expiryDate': {\n      'validateDate': 'The expiry date is invalid.'\n    },\n  };\n\n  constructor(\n    private authService: AuthService,\n    private router: Router,\n    private route: ActivatedRoute,\n    private fb: FormBuilder,\n    private hubService: HubService\n  ) {\n  }\n\n  ngOnInit() {\n\n    try {\n      this._subscription = combineLatest(\n        this.route.data,\n        this.route.params,\n        this.authService.getHubsObservable(),\n        this.authService.getGlobalCacheObservable(),\n        this.hubService.getRemoteLibrariesObservable()\n      ).subscribe(result => {\n        let data = result[0];\n        let params = result[1];\n        let hubs = result[2];\n        let globalCache = result[3];\n        let remoteLibraries = result[4];\n\n        if(remoteLibraries) {\n          this.timeZones = remoteLibraries.timeZones\n        } else {\n          this.timeZones = globalCache.defaultRemoteLibraries.timeZones;\n        }\n\n        this.action = data['action'];\n        this.pageTitle = data['pageTitle'];\n\n        if (this.action === 'New') {\n          this.hub = new DexihHubAuth();\n          this.buildForm();\n        } else {\n          if (hubs) {\n            let hubKey = + params['hubKey'];\n            this.hub = hubs.find(c => c.hubKey === hubKey);\n            this.buildForm();\n          }\n        }\n\n      });\n    } catch (e) {\n      this.dexihMessage.addErrorMessage(e.message);\n    }\n  }\n\n  ngOnDestroy() {\n    if (this._subscription) { this._subscription.unsubscribe(); }\n    if (this._valueChangesSubscription) { this._valueChangesSubscription.unsubscribe(); }\n  }\n\n  generateKey() {\n    this.generatingKey = true;\n    this.authService.getRandomEncryptionKey().then(result => {\n      this.mainForm.controls['encryptionKey'].setValue(result);\n      this.mainForm.markAsDirty();\n      this.generatingKey = false;\n    }).catch(reason => {\n      this.dexihMessage.addMessage(reason);\n      this.generatingKey = false;\n    });\n  }\n\n  saveHub() {\n    if (this.mainForm.valid && this.hasChanged) {\n\n      if (this.hub.hubKey > 0 && this.hub.encryptionKey !== this.mainForm.value.encryptionKey) {\n        this.authService.confirmDialog(\n          'Warning: Encryption Key Changed',\n          // tslint:disable-next-line:max-line-length\n          'The encryption key has changed.  This will require all connection password & connection strings in the hub to be updated.  Would you like to continue?'\n        ).then(confirm => {\n          if (confirm) {\n            this.doSaveHub();\n          }\n        });\n      } else {\n        this.doSaveHub();\n      }\n    } else {\n      this.showAllErrors = true;\n      this.onValueChanged();\n    }\n  }\n\n  private doSaveHub() {\n    this.dexihMessage.reset();\n    this.savingHub = true;\n    Object.assign(this.hub, this.mainForm.value);\n    this.authService.saveHub(this.hub)\n      .then(result => {\n        this.savingHub = false;\n        this.cancel();\n\n        this.router.navigate(['/hub', result.hubKey, 'summary', 'agents']);\n        return;\n\n      }).catch(reason => {\n        this.dexihMessage.addMessage(reason);\n        this.savingHub = false;\n      });\n  }\n\n  cancel() {\n    this.authService.navigateUp();\n  }\n\n  buildForm(): void {\n    this.mainForm = this.fb.group({\n      'name': [this.hub.name, [\n        Validators.required,\n        Validators.minLength(4),\n        Validators.maxLength(50),\n        this.duplicateHubNameValidator()\n      ]\n      ],\n      'description': [this.hub.description, [] ],\n      'encryptionKey': [this.hub.encryptionKey, [\n      ]],\n      'sharedAccess': [this.hub.sharedAccess, [\n        Validators.required,\n      ]],\n      'expiryDate': [this.hub.expiryDate, []],\n      'timeZone': [this.hub.timeZone, []],\n    });\n\n    if (this._valueChangesSubscription) { this._valueChangesSubscription.unsubscribe(); }\n    this._valueChangesSubscription = this.mainForm.valueChanges.subscribe(data => this.onValueChanged(data));\n    this.onValueChanged(); // (re)set validation messages now\n\n    this.hasChanged = false;\n  }\n\n  duplicateHubNameValidator(): ValidatorFn {\n    return (control: AbstractControl): { [key: string]: any } => {\n      const name = control.value;\n      const no = this.authService.hubNameExists(this.hub.hubKey, name);\n      return no ? { 'duplicateHubName': { name } } : null;\n    };\n  }\n\n  onValueChanged(data?: any) {\n    if (!this.mainForm) { return; }\n    const form = this.mainForm;\n\n    this.hasChanged = true;\n\n    for (const field of Object.keys(this.formErrors)) {\n      // clear previous error message (if any)\n      this.formErrors[field] = '';\n      const control = form.get(field);\n\n      if (control && (control.dirty || this.showAllErrors) && !control.valid) {\n        const messages = this.validationMessages[field];\n        for (const key of Object.keys(control.errors)) {\n          this.formErrors[field] += messages[key] + ' ';\n        }\n      }\n    }\n  }\n}\n","<div class=\"container\">\n\t<dexih-message #DexihMessage></dexih-message>\n\n    <d-widget *ngIf=\"mainForm\"\n\t\ttitle=\"Edit Hub\" \n\t\tsubTitle=\"Complete the details to create/edit a new hub\"\n        iconClass=\"fa fa-lg fa-fw fa-life-saver\" \n\t\t[showCloseButton]=\"true\"\n\t\t[padding]=\"true\"\n\t\t(close)=\"cancel()\"\n    >\n        <ng-template #header>\n\t\t\t<d-button-save class=\"mr-1\" (click)=\"!savingHub && !mainForm.pristine && saveHub()\" [disabled]=\"savingHub || mainForm.pristine\" [busy]=\"savingHub\"></d-button-save>\n\t\t\t<d-button-cancel (click)=\"!savingHub && cancel()\" [disabled]=\"savingHub\"></d-button-cancel>\n        </ng-template>\n\n\t\t<form  id=\"hub-edit-form\" [formGroup]=\"mainForm\" >\n\t\t\t<fieldset>\n\t\t\t\t<section>\n\t\t\t\t\t<form-input label=\"Hub Name\" formControlName=\"name\" placeholder=\"Enter a name for the hub\" [autocapitalize]=\"true\" iconClass=\"fa fa-life-ring\" [errors]=\"formErrors.name\">\n\t\t\t\t\t</form-input>\n\t\t\t\t</section>\n\n\t\t\t\t<section>\n\t\t\t\t\t<form-textarea label=\"Description\" formControlName=\"description\"  [isHidden]=\"true\" [showPreview]=\"true\" placeholder=\"Enter a description for the hub\">\n\t\t\t\t\t</form-textarea>\n\t\t\t\t</section>\n\n\t\t\t\t<section>\n\t\t\t\t\t<form-input label=\"Encryption Key\" formControlName=\"encryptionKey\" placeholder=\"Enter an encryption key\" iconClass=\"fa fa-key\" [errors]=\"formErrors.encryptionKey\" note=\"The encryption key will be used to encrypt table columns flagged as secure.  Ensure this key is kept securely as without it encrypted data will be lost.\" style=\"z-index: 10000\">\n\t\t\t\t\t\t(<d-button buttonClass=\"btn btn-link mb-1 p-0\" iconClass=\"fa fa-refresh\" [busy]=\"generatingKey\" (click)=\"generateKey()\">Generate a new key</d-button>)\n\t\t\t\t\t</form-input>\n\t\t\t\t</section>\n\n\t\t\t\t<section>\n\t\t\t\t\t<form-select label=\"Time Zone\" formControlName=\"timeZone\" [items]=\"timeZones\" itemKey=\"name\" itemName=\"description\"\n\t\t\t\t\t\ticonClass=\"fa fa-clock-o\" [errors]=\"formErrors.sharedAccess\"  note='The time zone is used for job scheduling.' [enableFilter]=\"true\" [enableTextEntry]=\"false\">\n\t\t\t\t\t</form-select>\n\t\t\t\t</section>\n\n\t\t\t\t<section>\n\t\t\t\t\t<form-select label=\"Shared Data Access\" formControlName=\"sharedAccess\" [items]=\"SharedAccessItems\" itemKey=\"key\" itemName=\"description\"\n\t\t\t\t\t\ticonClass=\"fa fa-lock\" [errors]=\"formErrors.sharedAccess\"  note='The level of access required for users to access shared data in this hub.' [enableFilter]=\"false\">\n\t\t\t\t\t</form-select>\n\t\t\t\t</section>\n\n\t\t\t</fieldset>\n\t\t</form>\n    </d-widget>\n</div>","import { Component, OnInit, ViewChild, OnDestroy, HostListener } from '@angular/core';\nimport { HubsService } from './hubs.service';\nimport { Subscription} from 'rxjs';\nimport { DexihMessageComponent } from '../shared/ui/dexihMessage';\nimport { AuthService } from '../+auth/auth.service';\n\n@Component({\n    selector: 'dexih-hubs',\n    templateUrl: './hubs.component.html'\n})\nexport class HubsComponent implements OnInit, OnDestroy {\n    @ViewChild('DexihMessage', { static: true }) public dexihMessage: DexihMessageComponent;\n\n    _hubsMessageSubscription: Subscription;\n    _webSocketStatusSubscription: Subscription;\n    webSocketStatus: string;\n    openDelay = false; // used to pause the websocket error message displaying whilst a connect attempt occurs.\n\n    constructor(private authService: AuthService, private hubsService: HubsService) {\n        authService.initialize();\n    }\n\n    ngOnInit() {\n\n        this._hubsMessageSubscription = this.hubsService.getHubMessagesObservable().subscribe(messages => {\n            if (!messages || messages.length === 0) {\n                this.dexihMessage.reset();\n            } else {\n                this.dexihMessage.addMessage(messages[messages.length - 1]);\n            }\n        });\n\n        this._webSocketStatusSubscription = this.authService.getWebSocketStatusObservable().subscribe(status => {\n            this.webSocketStatus = status;\n        });\n\n        setTimeout(() => {\n            this.openDelay = true;\n        }, 5000);\n\n    }\n\n    ngOnDestroy() {\n        if (this._hubsMessageSubscription) { this._hubsMessageSubscription.unsubscribe(); }\n        if (this._webSocketStatusSubscription) { this._webSocketStatusSubscription.unsubscribe(); }\n    }\n\n    @HostListener('window:focus', ['$event'])\n    onFocus(): void {\n        this.openDelay = false;\n        setTimeout(() => {\n            this.openDelay = true;\n        }, 5000);\n    }\n}\n","<div id=\"content\">\n\n    <section *ngIf=\"openDelay && webSocketStatus != 'Connected'\">\n        <div class=\"alert alert-danger m-3\">\n            {{webSocketStatus}}\n        </div>\n    </section>\n\n    <div class=\"m-3\">\n        <dexih-message #DexihMessage></dexih-message>\n    </div>\n\n    <router-outlet></router-outlet>\n</div>","import { AbstractControl, FormBuilder, FormControl, ValidatorFn, Validators, FormGroup } from '@angular/forms';\nimport { Component, OnInit, OnDestroy, ViewChild } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { AuthService } from '../../+auth/auth.service';\nimport { Subscription, combineLatest} from 'rxjs';\nimport { Location } from '@angular/common';\nimport { FormsService } from '../../shared/forms/forms.service';\nimport { User, UserLoginInfo } from '../../+auth/auth.models';\nimport { DexihMessageComponent } from '../../shared/ui/dexihMessage';\nimport { eLoginProvider } from '../../shared/shared.models';\n\n@Component({\n  selector: 'manage-form',\n  templateUrl: './manage.component.html',\n  providers: [FormsService]\n})\nexport class ManageComponent implements OnInit, OnDestroy {\n  @ViewChild('DexihMessage', { static: true }) public dexihMessage: DexihMessageComponent;\n\n  private _userSubscription: Subscription;\n  private action: string;\n\n  public logins: UserLoginInfo[];\n\n  public passwordForm: FormGroup;\n  public updatingPassword = false;\n  public passwordMatchError = '';\n  public passwordStrengthError = '';\n\n  public googleMessage = false;\n  public microsoftMessage = false;\n\n  constructor(\n    private authService: AuthService,\n    public formsService: FormsService,\n    private fb: FormBuilder,\n    private route: ActivatedRoute,\n    private router: Router,\n    private location: Location) {\n  }\n\n  ngOnInit() {\n    this._userSubscription = this.authService.getUserObservable().subscribe(user => {\n      this.formsService.createDefault(user, new User());\n      this.updateLogins();\n      this.formsService.currentForm.controls.email.disable();\n      // this.formsService.currentForm.controls.userName.disable();\n\n      this.passwordForm = this.fb.group({\n        'password': ['', [\n        ]],\n        'newPassword': ['', [\n          Validators.required,\n          Validators.minLength(8),\n          Validators.maxLength(20),\n          Validators.pattern('^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[#$^+=!*()@%&]).{8,}$')\n        ]],\n        'confirmPassword': ['', [\n          this.duplicatePasswordValidator()\n        ]],\n      });\n\n    })\n  }\n\n  ngOnDestroy() {\n    if (this._userSubscription) { this._userSubscription.unsubscribe(); }\n  }\n\n  updateLogins() {\n    this.authService.getLoginProviders().then(result => {\n      this.logins = result;\n    });\n  }\n\n  private duplicatePasswordValidator(): ValidatorFn {\n    return (control: AbstractControl): { [key: string]: any } => {\n      if (this.passwordForm) {\n        let form = this.passwordForm;\n        if (form.controls.confirmPassword.dirty && form.controls.newPassword.value !== form.controls.confirmPassword.value) {\n          this.passwordMatchError = 'The passwords do not match';\n          return { 'passwordMatch': {} };\n        } else {\n          this.passwordMatchError = '';\n          return null;\n        }\n      }\n    };\n  }\n\n  public updatePassword() {\n    this.updatingPassword = true;\n    this.authService.changePassword(this.passwordForm.controls.password.value, this.passwordForm.controls.newPassword.value)\n      .then(result => {\n        this.updatingPassword = false;\n        this.dexihMessage.addSuccessMessage('The password change was successful.');\n    }).catch(reason => {\n      this.dexihMessage.addMessage(reason);\n      this.updatingPassword = false;\n    });\n  }\n\n  save() {\n    const user: User = this.formsService.currentForm.value;\n\n    this.authService.updateUserDetails(user).then(c => {\n      if (c) {\n        this.dexihMessage.addSuccessMessage('Details updated successfully');\n      } else {\n      }\n\n    }).catch(reason => {\n      this.dexihMessage.addMessage(reason);\n    })\n  }\n\n  cancel() {\n    this.authService.navigateUp();\n  }\n\n  googleLogin(forceLogin: boolean) {\n    this.dexihMessage.reset();\n\n      this.authService.googleSignIn(forceLogin).then(result => {\n          this.authService.addExternalLogin(eLoginProvider.Google, result.providerKey, result.authenticationToken).then(\n            loginResult => {\n              this.updateLogins();\n            }).catch(\n            reason => {\n              this.dexihMessage.addMessage(reason);\n            });\n        }).catch(\n          reason => {\n            this.googleMessage = reason;\n            this.dexihMessage.addErrorMessage(reason);\n          });\n  }\n\n  microsoftLogin(forceLogin: boolean)  {\n    this.dexihMessage.reset();\n\n      this.authService.microsoftSignIn(forceLogin).then(result => {\n          this.authService.addExternalLogin(eLoginProvider.Microsoft, result.providerKey, result.authenticationToken).then(\n            loginResult => {\n              this.updateLogins();\n            }).catch(\n            reason => {\n              this.dexihMessage.addMessage(reason);\n            });\n        }).catch(\n          reason => {\n            this.microsoftMessage = reason;\n            this.dexihMessage.addErrorMessage(reason);\n          });\n  }\n\n  deleteLogin(login: UserLoginInfo) {\n    this.authService.removeExternalLogin(login.loginProvider, login.providerKey);\n  }\n}\n","\n<div class=\"container\">\n\t<dexih-message #DexihMessage></dexih-message>\n<d-widget title=\"Edit User\">\n\t<d-tabs title=\"Edit User\" [padding]=\"false\">\n    <d-tab title=\"User Details\" iconClass=\"fa fa-lg fa-fw fa-user\" [padding]=\"true\" [showHeader]=\"true\" >\n        <ng-template #tabHeader>\n\t\t\t\t<d-button-save class=\"mr-1\" (click)=\"save()\" [busy]=\"formsService.formSaving\" [disabled]=\"formsService.formSaving || !formsService.hasChanged\"></d-button-save>\t\t\t\n\t\t\t\t<d-button-cancel (click)=\"cancel()\"></d-button-cancel>\t\t\t\n        </ng-template>\n\n\t\t<form *ngIf=\"formsService.currentForm\"  [formGroup]=\"formsService.currentForm\">\n\t\t\t<fieldset>\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"col-md-6\">\n\t\t\t\t\t\t<form-input label=\"User Name\" formControlName=\"userName\" placeholder=\"Enter the user name.\" iconClass=\"fa fa-list\" >\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"col-md-6\">\n\t\t\t\t\t\t<form-input label=\"Email Address\" formControlName=\"email\" placeholder=\"Enter the email.\" iconClass=\"fa fa-list\" >\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input label=\"First Name\" formControlName=\"firstName\" placeholder=\"First Name\">\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input label=\"Last Name\" formControlName=\"lastName\" placeholder=\"Last Name\">\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<section>\n\t\t\t\t\t<form-checkbox label=\"I want to receive news and special offers\" formControlName=\"subscription\" >\n\t\t\t\t\t</form-checkbox>\n\t\t\t\t</section>\n\n\t\t\t\t<section>\n\t\t\t\t\t<form-checkbox label=\"I want to receive private notifications from other users.\" formControlName=\"notifyPrivateMessage\" >\n\t\t\t\t\t</form-checkbox>\n\t\t\t\t</section>\n\n\t\t\t\t<section>\n\t\t\t\t\t<form-checkbox label=\"I want to receive critical support and issue updates.\" formControlName=\"notifySupportMessage\" >\n\t\t\t\t\t</form-checkbox>\n\t\t\t\t</section>\n\n\t\t\t</fieldset>\n\t\t</form>\n \n    </d-tab>\n    <d-tab title=\"Reset Password\" iconClass=\"fa fa-lg fa-fw fa-lock\" [padding]=\"true\" [showHeader]=\"true\" >\n        <ng-template #tabHeader>\n\t\t\t<d-button class=\"mr-1\" iconClass=\"fa fa-key\" btnClass=\"btn btn-danger\" routerLink='/auth/forgot-password'>Forgot Password</d-button>\n\t\t\t<d-button-save [disabled]=\"!passwordForm.valid\" (click)=\"updatePassword()\" [busy]=\"updatingPassword\">Update Password</d-button-save>\n        </ng-template>\n\n\t\t<form *ngIf=\"passwordForm\"  [formGroup]=\"passwordForm\">\n\t\t\t<fieldset>\n\t\t\t\t<section>\n\t\t\t\t\t<form-input label=\"Current Password\" formControlName=\"password\" type=\"password\">\n\t\t\t\t\t</form-input>\n\t\t\t\t</section>\n\n\t\t\t\t<section>\n\t\t\t\t\t<form-input label=\"New Password\" formControlName=\"newPassword\" type=\"password\">\n\t\t\t\t\t</form-input>\n\t\t\t\t</section>\n\n\t\t\t\t<section>\n\t\t\t\t\t<form-input label=\"Confirm New Password\" formControlName=\"confirmPassword\" type=\"password\" [errors]=\"passwordMatchError\" >\n\t\t\t\t\t</form-input>\n\t\t\t\t</section>\n\n\t\t\t</fieldset>\n\t\t</form>\n \n\t</d-tab>\n\t\n\t<d-tab title=\"Logins\" subTitle=\"The following login providers are available\" iconClass=\"fa fa-lg fa-fw fa-life-saver\"  [padding]=\"true\" [showHeader]=\"true\">\n\t\t<ng-template #tabHeader>\n\t\t\t\t<d-button class=\"mr-1\" (click)=\"microsoftLogin(true)\" buttonClass=\"btn btn-primary\" iconClass=\"fa fa-windows\">Add Microsoft</d-button>\n\t\t\t\t<d-button (click)=\"googleLogin(true)\" buttonClass=\"btn btn-danger\" iconClass=\"fa fa-google\">Add Google</d-button>\n\t\t</ng-template>\n\n\t\t<ul class=\"list-group\">\n\t\t\t<li *ngFor=\"let login of logins\" class=\"list-group-item\">\n\t\t\t\t<div class=\"float-right\">\n\t\t\t\t\t<d-button-delete (click)=\"deleteLogin(login)\" title=\"Remove the following login\"></d-button-delete>\n\t\t\t\t</div>\n\t\t\t\t<h3>{{login.providerDisplayName}}</h3>\n\t\t\t</li>\n\t\t</ul>\n\n\t\t<section *ngIf=\"googleMessage\">\n            <div class=\"alert alert-danger\">\n              Google could not automatically sign-in due to \"{{googleMessage}}\".  \n              Click login button to open new window to login to your google account.\n              <d-button buttonClass=\"btn btn-danger\" iconClass=\"fa fa-google\" text=\"Google Login\" (click)=\"googleLogin(true)\"></d-button>\n            </div>\n          </section>\n\n          <section *ngIf=\"microsoftMessage\">\n              <div class=\"alert alert-danger\">\n                Microsoft could not automatically sign-in due to \"{{microsoftMessage}}\".  \n                Click login button to open new window to login to your microsoft account.\n                <d-button buttonClass=\"btn btn-primary\" iconClass=\"fa fa-microsoft\" text=\"Microsoft Login\" (click)=\"microsoftLogin(true)\"></d-button>\n              </div>\n\t\t</section>\n\t</d-tab>\n</d-tabs>\n</d-widget>\n</div>","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { HubsService } from '../hubs.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Subscription, Observable, BehaviorSubject} from 'rxjs';\nimport { AuthService } from '../../+auth/auth.service';\nimport { DexihHubAuth } from '../../+auth/auth.models';\nimport { HubService } from '../../+hub';\n\n@Component({\n  selector: 'help',\n  templateUrl: './help.component.html',\n  styles: []\n})\nexport class HelpComponent implements OnInit, OnDestroy {\n    private _subscription: Subscription;\n    private _hubCacheSubscription: Subscription;\n\n    public path: string;\n    public hubKey: number;\n\n    constructor(\n        private authService: AuthService,\n        private hubService: HubService,\n        private router: Router,\n        private route: ActivatedRoute) {\n    }\n\n    ngOnInit() {\n        this._subscription = this.route.queryParams.subscribe(params => {\n            let path = params['path'];\n            if (path) {\n                this.path = '/assets/help/' + path;\n            } else {\n                this.path = '/assets/help/intro/getting_started.md'\n            }\n        });\n\n        this._hubCacheSubscription = this.hubService.getHubCacheObservable().subscribe(cache => {\n            if (cache && cache.hub) {\n                this.hubKey = cache.hub.hubKey;\n            } else {\n                this.hubKey = null;\n            }\n        });\n    }\n\n    ngOnDestroy() {\n        if (this._subscription) { this._subscription.unsubscribe(); }\n        if (this._hubCacheSubscription) { this._hubCacheSubscription.unsubscribe(); }\n    }\n\n    close() {\n        this.authService.navigateUp();\n    }\n\n    linkClick(link: string) {\n        this.router.navigate([], { relativeTo: this.route, queryParams: {'path': link} });\n    }\n\n}\n","<div class=\"container\">\n\t<dexih-help title=\"Help\" [path]=\"path\" [display]=\"true\" [hubKey]=\"hubKey\" (linkClick)=\"linkClick($event)\">\n\t\t\n\t</dexih-help>\n</div>\n","export * from './task-view.component';\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { AuthService } from '../../../+auth/auth.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Observable, BehaviorSubject, Subscription, combineLatest} from 'rxjs';\nimport { ManagedTask, eManagedTaskStatus } from '../../../shared/shared.models';\n\n@Component({\n  selector: 'tasks-index',\n  templateUrl: './tasks-index.component.html',\n  styles: []\n})\nexport class TasksIndexComponent implements OnInit, OnDestroy {\n\n    private _subscription: Subscription;\n\n    showPage = false;\n    showPageMessage = 'Loading...';\n\n    columns = [\n        { name: 'hub', title: 'Hub', format: ''},\n        { name: 'task.category', title: 'Category', format: ''},\n        { name: 'task.status', title: 'Status', format: 'Enum', enum: eManagedTaskStatus},\n        { name: 'task.stepName', title: 'Current Step', format: ''},\n        { name: 'task.name', title: 'Name', format: ''},\n        { name: 'task.lastUpdate', title: 'Last Modified', format: 'Calendar'},\n    ];\n\n    private _tableData = new BehaviorSubject<Array<any>>(null);\n    tableData: Observable<Array<any>> = this._tableData.asObservable();\n\n    constructor(private authService: AuthService, private router: Router, private route: ActivatedRoute) {\n    }\n\n    ngOnInit() {\n        this._subscription = combineLatest(\n            this.route.data,\n            this.route.params,\n            this.authService.getHubsObservable(),\n            this.authService.getTasksObservable()\n        ).subscribe(result => {\n            let hubs = result[2];\n            let tasks = result[3];\n\n            let data = [];\n\n            tasks.forEach(task => {\n                let hub = hubs.find(c => c.hubKey === task.referenceKey);\n                data.push({\n                    hub: hub ? hub.name : 'Unknown hub',\n                    task: task\n                })\n            })\n            this._tableData.next(data);\n\n        });\n\n    }\n\n    ngOnDestroy() {\n        if (this._subscription) { this._subscription.unsubscribe(); }\n    }\n\n\n    showTask(task: ManagedTask) {\n        this.router.navigate(['view', task.taskId], {relativeTo: this.route})\n    }\n\n    close() {\n        this.authService.navigateUp();\n    }\n}\n\n\n","<div class=\"container\">\n    <d-widget title=\"Tasks\" \n        iconClass=\"fa fa-lg fa-fw fa-exchange\" \n\t\t[showCloseButton]=\"true\"\n\t\t(close)=\"close()\"\n\n    >\n\n\t\t<d-table \n\t\t\t[enableMultiSelect]=\"true\"\n\t\t\t[columns]=\"columns\"\n\t\t\t[dataObservable]=\"tableData\"\n\t\t\t(rowClick)=\"showTask($event.task)\"\n\t\t\t>\n\t\t\t\t<ng-template #selectedItemAction select=\"selectedItemAction\" let-item=\"item\">\n\t\t\t\t\t<d-button-view (click)=\"showTask(item.task)\" text=\"View Task\"></d-button-view>\n\t\t\t\t\t<d-button-view class=\"ml-1\" *ngIf=\"item.task.category=='Datalink'\" [routerLink]=\"['/hub', item.task.referenceKey, 'summary', 'datalinks', 'result-view', item.task.data.auditConnectionKey, item.task.data.auditKey]\" text=\"Datalink Result\"></d-button-view>\n\t\t\t\t\t<d-button-view class=\"ml-1\" *ngIf=\"item.task.category=='Datajob'\" [routerLink]=\"['/hub', item.task.referenceKey, 'summary', 'datalinks', 'result-view', item.task.data.auditConnectionKey, item.task.data.auditKey]\" text=\"Datajob Result\"></d-button-view>\n\t\t\t\t</ng-template>\n\n\t\t\t\t<ng-template #rowStatus select=\"rowStatus\" let-item=\"item\">\n\t\t\t\t\t<task-status [task]=\"item.task\"></task-status>\n\t\t\t\t</ng-template>\n\n\t\t</d-table>\n    </d-widget>\n</div>\n\n\n","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../../+auth/auth.service';\nimport { Observable, Observer, Subscription, BehaviorSubject, combineLatest} from 'rxjs';\nimport {DexihHubAuth, logoSmallUrl, eHubAccess} from '../../+auth/auth.models';\nimport { Router } from '@angular/router';\nimport { eSharedAccess, ePermission, DexihHub } from '../../shared/shared.models';\n\n@Component({\n  selector: 'hubs-summary',\n  templateUrl: './hubs-summary.component.html',\n})\nexport class HubsSummaryComponent implements OnInit {\n\n  public hubs: Observable<DexihHubAuth[]>;\n\n  public filterString: string;\n\n  logoSmallUrl = logoSmallUrl;\n  eSharedAccess = eSharedAccess;\n  ePermission = ePermission;\n  eHubAccess = eHubAccess;\n\n  public view = eHubAccess.User;\n  public hubAccess = {};\n\n  constructor(private authService: AuthService, private router: Router) { }\n\n  ngOnInit() {\n    this.hubs = this.authService.getHubsObservable();\n  }\n}\n\n\n","<div class=\"container\">\n    <div class=\"d-flex align-items-center p-3 my-3 text-white-50 bg-primary rounded\">\n        <div class=\"lh-100\">\n            <h3 class=\"mb-0 text-white lh-100\">Data Experts Integration Hub</h3>\n        </div>\n    </div>\n        \n    <div *ngIf=\"(hubs | async)?.length == 0\" class=\"alert alert-warning\">\n        <div class=\"float-right\">\n            <d-button-new routerLink=\"hub-new\" title=\"Create a new Hub\" text=\"New Hub\"></d-button-new>\n        </div>\n        <h3>Let's get started.</h3>\n        <h5>You do not have any hubs currently available to you.</h5>\n        <h5>To get started, either create a new hub, or request another user provide access.</h5>\n    </div>\n\n    <div class=\"d-none d-lg-flex card-deck\">\n        <div class=\"card mb-3\" >\n            <div class=\"card-header text-white bg-success\"><i class=\"fa fa-lg fa-fw fa-life-saver\"></i>Hub Management</div>\n            <div class=\"card-body\">\n                <p class=\"card-text\">Hub's contain your data processing rules.</p>\n            </div>\n            <div class=\"card-footer\">\n                <d-button class=\"ml-1\" iconClass=\"fa fa-life-saver\" routerLink=\"hubs-view\">Manage</d-button>\n                <d-button-new  class=\"ml-1\" routerLink=\"hub-new\" title=\"Create a new hub\"></d-button-new>\n            </div>\n        </div>\n        <div class=\"card mb-3\" >\n            <div class=\"card-header text-white bg-primary\"><i class=\"fa fa-lg fa-fw fa-user\"></i>Account Management</div>\n            <div class=\"card-body\">\n                <p class=\"card-text\">Edit your account details, password, and login providers.</p>\n            </div>\n            <div class=\"card-footer\">\n                <d-button class=\"ml-1\" iconClass=\"fa fa-user\" routerLink=\"manage\">Account</d-button>\n            </div>\n        </div>\n        <div class=\"card mb-3\" >\n            <div class=\"card-header text-white bg-warning\"><i class=\"fa fa-lg fa-fw fa-wifi\"></i>Remote Agents</div>\n            <div class=\"card-body\">\n                <p class=\"card-text\">Remote agents connect to data and are used run and publish data.</p>\n            </div>\n            <div class=\"card-footer\">\n                <d-button class=\"mr-1\" iconClass=\"fa fa-wifi\" routerLink=\"agents\">Agents</d-button>\n                <d-button iconClass=\"fa fa-tasks\" routerLink=\"tasks\">Tasks</d-button>\n            </div>\n        </div>\n        <div class=\"card mb-3\" >\n            <div class=\"card-header text-white bg-danger\"><i class=\"fa fa-lg fa-fw fa-newspaper-o\"></i>Shared Data</div>\n            <div class=\"card-body\">\n                <p class=\"card-text\">View all datasets which have been shared.</p>\n            </div>\n            <div class=\"card-footer\">\n                <d-button-view routerLink=\"sharedData\"></d-button-view>\n            </div>\n        </div>\n    </div>\n\n    <d-widget title=\"Hubs\" \n        iconClass=\"fa fa-lg fa-fw fa-life-saver\" \n        [showCloseButton]=\"false\"\n        [padding]=\"true\"\n        [showFilter]=\"true\"\n        (filterString)=\"filterString = $event\"\n    >\n        <ng-template #header>\n            <div class=\"btn-group btn-group-toggle ml-1\" data-toggle=\"buttons\" >\n                <label class=\"btn btn-primary\" [ngClass]=\"{active: view === eHubAccess.All}\" title=\"All Hubs.\">\n                    <input type=\"radio\" name=\"options\" [value]=\"eHubAccess.All\" autocomplete=\"off\" [(ngModel)]=\"view\">\n                    <i class=\"fa fa-globe\"></i>\n                </label>\n                <label class=\"btn btn-primary\" [ngClass]=\"{active: view === eHubAccess.User}\" title=\"User owned hubs\">\n                    <input type=\"radio\" name=\"options\" [value]=\"eHubAccess.User\" autocomplete=\"off\" [(ngModel)]=\"view\">\n                    <i class=\"fa fa-user-secret\"></i>\n                </label>\n                <label class=\"btn btn-primary\" [ngClass]=\"{active: view === eHubAccess.ReadOnly}\" title=\"Readonly hubs\">\n                    <input type=\"radio\" name=\"options\" [value]=\"eHubAccess.ReadOnly\"  autocomplete=\"off\" [(ngModel)]=\"view\">\n                    <i class=\"fa fa-book\"></i>\n                </label>\n                <label class=\"btn btn-primary\" [ngClass]=\"{active: view === eHubAccess.Public}\" title=\"Public Hubs\">\n                    <input type=\"radio\" name=\"options\" [value]=\"eHubAccess.Public\"  autocomplete=\"off\" [(ngModel)]=\"view\">\n                    <i class=\"fa fa-users\"></i>\n                </label>\n            </div>\n        </ng-template>\n\n        <div class=\"card-columns\">\n            <ng-template ngFor let-hub [ngForOf]=\"hubs | async\">\n                <div *ngIf=\"(view === eHubAccess.All || hub.hubAccess === view) && (!filterString || hub.name.toUpperCase().includes(filterString.toUpperCase()))\" class=\"card\">\n                    <div>\n                        <div class=\"card-header\">\n                            <div class=\"d-md-flex p-0\">\n                                <div>\n                                    {{hub.name}}\n                                    <div class=\"small\">({{eHubAccess[hub.hubAccess]}})</div>\n                                </div>\n                                <div class=\"d-flex ml-md-auto\">\n                                    <d-button-open routerLink=\"/hub/{{hub.hubKey}}/summary\"></d-button-open>\n                                    <d-button-edit class=\"ml-1\" routerLink=\"hub-edit/{{hub.hubKey}}\">\n                                    </d-button-edit>\n                                </div>\n                            </div>        \n                        </div>\n                        <div *ngIf=\"hub.description\" class=\"card-body\">\n                            <p class=\"card-text\">{{hub.description}}</p>\n                        </div>\n                    </div>\n                </div>\n            </ng-template>\n        </div>\n    </d-widget>\n</div>","export * from './edit/issue-edit.component';\nexport * from './index/issue-index.component';\n","export * from './help.component';\n","export * from './tasks-index.component';\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { HubsService } from '../../hubs.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Observable, BehaviorSubject, Subscription} from 'rxjs';\nimport { AuthService } from '../../../+auth/auth.service';\nimport { DexihHubAuth, CancelToken } from '../../../+auth/auth.models';\nimport { eIssueType, eIssueCategory, eIssueSeverity, DexihIssue, eIssueStatus } from '../../../shared/shared.models';\n\n@Component({\n  selector: 'issue',\n  templateUrl: './issue-index.component.html',\n  styles: []\n})\nexport class IssueIndexComponent implements OnInit, OnDestroy {\n\n    subscription: Subscription;\n\n    columns = [\n        { name: 'name', title: 'Name', format: ''},\n        { name: 'description', title: 'Description', format: 'Md'},\n        { name: 'type', title: 'Type', format: 'Enum', enum: eIssueType},\n        { name: 'category', title: 'Category', format: 'Enum', enum: eIssueCategory},\n        { name: 'severity', title: 'Severity', format: 'Enum', enum: eIssueSeverity},\n        { name: 'issueStatus', title: 'Status', format: 'Enum', enum: eIssueStatus},\n        { name: 'gitHubLink', title: 'Github Issue', format: 'Md'},\n        { name: 'updateDate', title: 'Last Modified', format: 'Calendar'},\n    ];\n\n    private _tableData = new BehaviorSubject<Array<any>>(null);\n    tableData: Observable<Array<any>> = this._tableData.asObservable();\n\n    private cancelToken = new CancelToken();\n\n    constructor(\n        private authService: AuthService,\n        private router: Router,\n        private route: ActivatedRoute) {\n    }\n\n    ngOnInit() {\n        this.refresh();\n    }\n\n    ngOnDestroy() {\n       this.cancelToken.cancel();\n    }\n\n    refresh() {\n        this.authService.getIssues(this.cancelToken).then(i => {\n            const issues = i.map( issue => {\n                return {\n                    key: issue.key,\n                    name: issue.name,\n                    description: issue.description,\n                    type: issue.type,\n                    category: issue.category,\n                    severity: issue.severity,\n                    issueStatus: issue.issueStatus,\n                    gitHubLink: issue.gitHubLink ? `[github](${issue.gitHubLink})` : null,\n                    updateDate: issue.updateDate,\n\n                }\n            });\n            this._tableData.next(issues);\n        });\n    }\n\n    edit(issue: DexihIssue) {\n        this.router.navigate(['edit', issue.key], {relativeTo: this.route});\n    }\n\n    delete(issues: DexihIssue[]) {\n        let issueKeys = issues.map(c => c.key);\n        this.authService.deleteIssues(issueKeys).then(() => {\n            this.refresh();\n        });\n    }\n\n    close() {\n        this.authService.navigateUp();\n    }\n\n}\n","<div class=\"container\">\n    <d-widget title=\"Raised Issues\" \n        iconClass=\"fa fa-lg fa-fw fa-life-saver\" \n\t\t[showCloseButton]=\"true\"\n\t\t(close)=\"close()\"\n    >\n<support-options [isExpanded]=\"true\"></support-options>\n\n\n<d-widget-section title=\"Current Support Issues\" [padding]=\"false\">\n\t\t<d-table \n\t\t\t[enableMultiSelect]=\"true\"\n\t\t\t[enableStickyToolbar]=\"true\"  [toolbarZIndex]=\"100\"\n\t\t\t[columns]=\"columns\"\n\t\t\t[dataObservable]=\"tableData\"\n\t\t\t(rowClick)=\"edit($event)\"\n\t\t\t>\n\t\t\t\t<ng-template #selectedItemAction select=\"selectedItemAction\" let-item=\"item\">\n\t\t\t\t\t<d-button-edit class=\"mr-1\" [routerLink]=\"['edit', item.key]\" queryParamsHandling preserveFragment class=\"mr-1\"></d-button-edit>\n\t\t\t\t</ng-template>\n\n\t\t\t\t<ng-template #selectedItemsAction select=\"selectedItemsAction\" let-items=\"items\">\n\t\t\t\t\t<d-button-delete (click)=\"delete(items)\"></d-button-delete>\n\t\t\t\t</ng-template>\n\n\t\t\t\t<ng-template #actions let-items=\"items\">\n\t\t\t\t\t<d-button-new class=\"mr-1\" [routerLink]=\"['new']\"></d-button-new>\n\t\t\t\t</ng-template>\n\t\t</d-table>\n\t</d-widget-section>\n    </d-widget>\n</div>\n\n","<dexih-message #DexihMessage></dexih-message>\n\n<div *ngIf=\"remoteToken\" class=\"container\">\n    <d-widget \n\t\ttitle=\"New Agent Token\" \n        iconClass=\"fa fa-lg fa-fw fa-wifi\" \n        [padding]=\"true\"\n        [showCloseButton]=\"true\"\n        (close)=\"close()\"\n    >\n\n\n<ng-template #subHeader>\n    <label *ngIf=\"action == 'New'\" class=\"label\">A new remote agent token has been generated.  </label>\n    <label *ngIf=\"action == 'ReNew'\" class=\"label\">The token for this user/remote id has been renewed.  </label>\n    <div class=\"alert alert-info\">\n        Ensure this token is kept safe and secure.  It cannot be viewed again.  If it is lost or compromised, a new token should be created.\n    </div>\n\n</ng-template>\n\n        <section >\n            <form-textarea [showCopy]=\"true\" [showPreview]=\"false\" [hideToggle]=\"true\" [disabled]=\"true\" rows=\"1\" label=\"User\" [(ngModel)]=\"remoteToken.user\"></form-textarea>\n        </section>\n\n        <section >\n            <form-textarea [showCopy]=\"true\" [showPreview]=\"false\" [hideToggle]=\"true\" [disabled]=\"true\" rows=\"1\" label=\"RemoteAgentId\" [(ngModel)]=\"remoteToken.remoteAgentId\"></form-textarea>\n        </section>\n\n        <section >\n            <form-textarea [showCopy]=\"true\" [showPreview]=\"false\" [hideToggle]=\"true\" [disabled]=\"true\" rows=\"4\" label=\"UserToken\" [(ngModel)]=\"remoteToken.userToken\"></form-textarea>\n        </section>\n\n        <section >\n            <form-textarea [showCopy]=\"true\" [showPreview]=\"false\" [hideToggle]=\"true\" [disabled]=\"true\" rows=\"4\" label=\"AppSettings Content\" [(ngModel)]=\"appSettings\"\n            note='Copy this section over the existing items in the AppSettings section of the appsettings.json configuration file for your remote agent.'></form-textarea>\n        </section>\n        \n\n    </d-widget>\n</div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { AuthService } from '../../../+auth/auth.service';\nimport { RemoteToken } from '../../../+auth/auth.models';\nimport { FormsService } from '../../../shared/forms/forms.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { Subscription, combineLatest } from 'rxjs';\nimport { HubsService } from '../../hubs.service';\n\n@Component({\n    selector: 'remote-agent-token',\n    templateUrl: './remote-agent-token.component.html',\n    providers: [FormsService]\n})\nexport class RemoteAgentTokenComponent implements OnInit, OnDestroy {\n    private _subscription: Subscription;\n\n    public remoteToken: RemoteToken;\n    public appSettings: string;\n    public action: string;\n\n    constructor(\n        private route: ActivatedRoute,\n        private hubsService: HubsService,\n        private authService: AuthService) {\n    }\n\n    ngOnInit() {\n        this._subscription = combineLatest(\n            this.route.data,\n            this.route.params,\n          ).subscribe(async result => {\n            let data = result[0];\n            let params = result[1];\n            this.action = data.action;\n\n            let promise: Promise<RemoteToken>;\n\n            if (data.action === 'New') {\n                promise = this.authService.createRemoteAgent();\n            } else {\n                const remoteAgentKey = +params['remoteAgentKey'];\n                promise = this.authService.refreshRemoteAgentToken(remoteAgentKey);\n            }\n\n            promise.then(remoteToken => {\n                this.remoteToken = remoteToken;\n                this.updateAppSettings();\n            }).catch(reason => {\n                this.hubsService.addHubMessage(reason);\n                this.authService.navigateUp();\n            });\n\n          });\n    }\n\n    updateAppSettings() {\n        this.appSettings = `\"RemoteAgentId\": \"${this.remoteToken.remoteAgentId}\",\n\"User\": \"${this.remoteToken.user}\",\n\"UserToken\": \"${this.remoteToken.userToken}\",\n`\n    }\n\n    ngOnDestroy() {\n        if (this._subscription) { this._subscription.unsubscribe(); }\n      }\n\n    close() {\n        this.authService.navigateUp();\n    }\n\n}\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { AuthService } from '../../../+auth/auth.service';\nimport { Message } from '../../../+auth/auth.models';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Observable, Subscription, combineLatest} from 'rxjs';\n\n@Component({\n    selector: 'notification-view',\n    templateUrl: './notification-view.component.html',\n    styles: []\n})\nexport class NotificationViewComponent implements OnInit, OnDestroy {\n\n    private _subscription: Subscription;\n\n    public message: Message;\n\n    showPage = false;\n    showPageMessage = 'Loading...';\n    view: string;\n\n    public exceptionHidden = true;\n\n    resultChartData: Array<any>;\n\n    constructor(\n        private authService: AuthService,\n        private router: Router,\n        private route: ActivatedRoute) {\n    }\n\n    ngOnInit() {\n        this.watchChanges();\n\n        try {\n            this._subscription = combineLatest(\n                this.route.params,\n            ).subscribe(result => {\n                let params = result[0];\n\n                let reference = params['reference'];\n\n                this.showPage = false;\n                this.showPageMessage = 'Loading...';\n\n                this.message = this.authService.getNotification(reference);\n\n                if (!this.message) {\n                    this.authService.navigateUp();\n                }\n\n            });\n        } catch (e) {\n        }\n\n\n    }\n\n    ngOnDestroy() {\n        if (this._subscription) { this._subscription.unsubscribe(); }\n    }\n\n    close() {\n        this.authService.navigateUp();\n    }\n\n    watchChanges() {\n    }\n\n}\n\n\n","<div class=\"container\">\n\t<d-widget *ngIf=\"message\" title=\"Notification\" iconClass=\"fa fa-lg fa-fw fa-bell\" [showCloseButton]=\"true\" (close)=\"close()\" [padding]=\"true\" >\n\t\t<section *ngIf=\"message\">\n\t\t\t\t<div class=\"alert  clearfix\" [class.alert-danger]=\"message.success == false\" [class.alert-success]=\"message.success == true\">\n\t\t\t\t\t{{message.message}}\n\t\t\t\t\t<div *ngIf=\"message.exceptionDetails && message.message != message.exceptionDetails\">\n\t\t\t\t\t\t<hr>\n\t\t\t\t\t\t<pre>{{message.exceptionDetails}}</pre>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</section>\n\t</d-widget>\n</div>","export * from './remoteAgent-download.component';\n","export * from './task-status.component';\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { HubsService } from '../hubs.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Observable, BehaviorSubject, Subscription} from 'rxjs';\nimport { AuthService } from '../../+auth/auth.service';\nimport { DexihHubAuth } from '../../+auth/auth.models';\n\n@Component({\n  selector: 'hubs',\n  templateUrl: './hub-index.component.html',\n  styles: []\n})\nexport class HubIndexComponent implements OnInit, OnDestroy {\n\n    hubsObserve: Subscription;\n    hubs: Array<DexihHubAuth>;\n    hubCacheStatus: Subscription;\n    hubName: string;\n    hubStatusMessage: string;\n    isLoaded = false;\n\n    columns = [\n        { name: 'name', title: 'Name', format: ''},\n        { name: 'description', title: 'Description', format: ''},\n        { name: 'updateDate', title: 'Last Modified', format: 'Calendar'},\n    ];\n\n    private _tableData = new BehaviorSubject<Array<any>>(null);\n    tableData: Observable<Array<any>> = this._tableData.asObservable();\n\n    constructor(\n        private authService: AuthService,\n        private hubService: HubsService,\n        private router: Router,\n        private route: ActivatedRoute) {\n    }\n\n    ngOnInit() {\n        this.hubsObserve = this.authService.getHubsObservable().subscribe(hubs => {\n            if (hubs) { this.isLoaded = true; }\n            this._tableData.next(hubs);\n        } );\n    }\n\n    ngOnDestroy() {\n       if (this.hubsObserve) {this.hubsObserve.unsubscribe(); }\n    }\n\n    deleteHubs(hubs: DexihHubAuth[]) {\n        this.authService.deleteHubs(hubs).catch(reason => {\n            this.hubService.addHubMessage(reason);\n        });\n    }\n\n    edit(hub: DexihHubAuth) {\n        this.router.navigate(['hub-edit', hub.hubKey], {relativeTo: this.route});\n    }\n\n    close() {\n        this.authService.navigateUp();\n    }\n\n}\n","<div class=\"container\">\n    <d-widget title=\"Available Hubs\" \n        iconClass=\"fa fa-lg fa-fw fa-life-saver\" \n\t\t[showCloseButton]=\"true\"\n\t\t(close)=\"close()\"\n    >\n\n\t\t<d-table \n\t\t\t[enableMultiSelect]=\"true\"\n\t\t\t[enableStickyToolbar]=\"true\"  [toolbarZIndex]=\"100\"\n\t\t\t[columns]=\"columns\"\n\t\t\t[dataObservable]=\"tableData\"\n\t\t\t(rowClick)=\"edit($event)\"\n\t\t\t>\n\t\t\t\t<ng-template #selectedItemAction select=\"selectedItemAction\" let-hub=\"item\">\n\t\t\t\t\t<d-button-edit class=\"mr-1\" [routerLink]=\"['hub-edit', hub.hubKey]\" queryParamsHandling preserveFragment class=\"mr-1\"></d-button-edit>\n\t\t\t\t\t<d-button-open class=\"mr-1\" [routerLink]=\"['/hub', hub.hubKey]\" queryParamsHandling preserveFragment></d-button-open>\n\t\t\t\t\t<d-button [routerLink]=\"['/hub', hub.hubKey, 'manage', 'manage-users']\" iconClass=\"fa fa-lock\" queryParamsHandling preserveFragment text=\"Permissions\" class=\"mr-1\"></d-button>\n\t\t\t\t</ng-template>\n\n\t\t\t\t<ng-template #selectedItemsAction select=\"selectedItemsAction\" let-items=\"items\">\n\t\t\t\t\t<d-button-delete (click)=\"deleteHubs(items)\" class=\"mr-1\"></d-button-delete>\n\t\t\t\t</ng-template>\n\n\t\t\t\t<ng-template #actions let-items=\"items\">\n\t\t\t\t\t<d-button-new [routerLink]=\"['hub-new']\" class=\"mr-1\"></d-button-new>\n\t\t\t\t</ng-template>\n\t\t</d-table>\n    </d-widget>\n</div>\n\n","export * from './notification-view.component';\n","import { Component, OnInit, OnDestroy, Input } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Subscription, Observable, BehaviorSubject, combineLatest} from 'rxjs';\nimport { AuthService } from '../../../+auth/auth.service';\nimport { FormsService } from '../../../shared/forms/forms.service';\nimport { HubsService } from '../../hubs.service';\nimport { FormBuilder } from '@angular/forms';\nimport { DexihRemoteAgent } from '../../../shared/shared.models';\n\n@Component({\n    selector: 'remote-agents',\n    templateUrl: './remoteAgent-edit.component.html',\n    providers: [FormsService]\n})\nexport class RemoteAgentEditComponent implements OnInit, OnDestroy {\n    @Input() public hubKey: number;\n\n    private _subscription: Subscription;\n\n    private remoteAgentKey: number;\n    private remoteAgentHubKey: number;\n\n    remoteAgents: DexihRemoteAgent[];\n\n    ipAddress: string;\n\n    constructor(\n        private authService: AuthService,\n        private hubsService: HubsService,\n        public formsService: FormsService,\n        private fb: FormBuilder,\n        private router: Router,\n        private route: ActivatedRoute) {\n    }\n\n    ngOnInit() {\n        try {\n            this._subscription = combineLatest(\n                this.route.data,\n                this.route.params,\n                this.authService.getRemoteAgentsObservable(),\n            ).subscribe(result => {\n                let data = result[0];\n                let params = result[1];\n                this.remoteAgents = result[2];\n\n                if (!this.remoteAgents) {\n                    return;\n                }\n\n                this.remoteAgentKey = +params['remoteAgentKey'];\n\n                this.hubsService.remoteAgents().then(remoteAgents => {\n                    let remoteAgent = this.remoteAgents.find(c => c.remoteAgentKey === this.remoteAgentKey);\n\n                    const remoteAgentForm = this.fb.group({});\n                    this.formsService.addMissing(remoteAgent, remoteAgentForm, new DexihRemoteAgent());\n                    remoteAgentForm.controls.name.disable();\n                    remoteAgentForm.controls.remoteAgentId.disable();\n                    this.formsService.clearFormSubscriptions();\n                    this.formsService.startForm(remoteAgentForm);\n                });\n            });\n        } catch (e) {\n            this.hubsService.addHubClientErrorMessage(e, 'Remote Agent Edit');\n        }\n\n    }\n\n    ngOnDestroy() {\n        if (this._subscription) { this._subscription.unsubscribe(); }\n    }\n\n    close() {\n        this.authService.navigateUp();\n    }\n\n    save() {\n        let form = this.formsService.currentForm;\n        let remoteAgent = form.value;\n        remoteAgent.name = form.controls.name.value;\n        remoteAgent.remoteAgentId = form.controls.remoteAgentId.value;\n        this.authService.saveRemoteAgent(this.formsService.currentForm.value).then(result => {\n            this.hubsService.addHubSuccessMessage('The remote agent was updated successfully.');\n            this.authService.pingRemoteAgents();\n        });\n    }\n\n    addCurrentIp() {\n        if (this.ipAddress) {\n            let form = this.formsService.currentForm;\n            let ipAddressesControl = form.controls.ipAddresses;\n            let ipAddresses = <string[]> ipAddressesControl.value;\n\n            if (ipAddresses.findIndex(c => c === this.ipAddress) < 0) {\n                ipAddresses.push(this.ipAddress);\n                ipAddressesControl.setValue(ipAddresses);\n            }\n        }\n\n    }\n}\n","<dexih-message #DexihMessage></dexih-message>\n\n<div class=\"container\">\n    <d-widget \n\t\ttitle=\"Edit Agent\" \n        iconClass=\"fa fa-lg fa-fw fa-database\" \n        [padding]=\"true\"\n        [showCloseButton]=\"true\"\n        (close)=\"close()\"\n    >\n        <ng-template #header>\n            <d-button-save class=\"mr-1\" (click)=\"save()\"></d-button-save>\n            <d-button-cancel (click)=\"close()\"></d-button-cancel>\n        </ng-template>\n\n        <form *ngIf=\"formsService.currentForm\"  [formGroup]=\"formsService.currentForm\">\n            <fieldset>\n                    <section >\n                        <form-input label=\"Agent name\" note=\"This can only be changed on the remote agent settings file.\" formControlName=\"name\" iconClass=\"fa fa-comment\"></form-input>\n                    </section>\n                    <section >\n                        <form-input label=\"Remote Agent Id\" note=\"This can only be changed on the remote agent settings file.\" formControlName=\"remoteAgentId\" iconClass=\"fa fa-comment\"></form-input>\n                    </section>\n    \n                <section>\n\t\t\t\t\t<form-checkbox label=\"Allow data sharing through the agent via other hubs or through the API.\" formControlName=\"allowExternalConnect\" >\n\t\t\t\t\t</form-checkbox>\n                </section>\n\n                <section>\n\t\t\t\t\t<form-checkbox label=\"Restrict remote agent ip addresses.\" formControlName=\"restrictIp\" >\n\t\t\t\t\t</form-checkbox>\n                </section>\n\n                <section *ngIf=\"formsService.currentForm.controls.restrictIp.value\">\n                    <form-tags label=\"Restricted IP Addresses\" formControlName=\"ipAddresses\" placeholder=\"Enter the IP Address.\"\n                        note=\"List of Ip Addresses.  The remote agent only be authorized for this hub if originating from one of the listed ip addresses.\">\n                        <span *ngIf=\"ipAddress\">\n                        ( <a href=\"javascript:void(0)\" (click)=\"addCurrentIp()\"> <i class=\"fa fa-refresh\"></i> Add Current ({{ipAddress}}) </a>)\n                    </span>\n\t\t\t\t    </form-tags>\n                </section>\n            </fieldset>\n        </form>\n\n    </d-widget>\n</div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { HubsService } from '../../hubs.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Subscription, Observable, BehaviorSubject} from 'rxjs';\nimport { AuthService } from '../../../+auth/auth.service';\nimport { DexihActiveAgent, DexihRemoteAgent, eDownloadUrlType } from '../../../shared/shared.models';\nimport { CancelToken } from '../../../+auth/auth.models';\n\n@Component({\n  selector: 'remoteAgents',\n  templateUrl: './remote-agents.component.html',\n  styles: []\n})\nexport class RemoteAgentsComponent implements OnInit, OnDestroy {\n\n    columns = [\n        { name: 'name', title: 'Name', format: '' },\n        { name: 'connected', title: 'Status', format: 'Text', footer: 'ipAddress'},\n        // { name: 'remoteAgentId', title: 'Remote Agent Id', format: ''},\n        { name: 'user', title: 'Owner', format: ''},\n        { name: 'version', footer: 'latestVersion', title: 'Version', format: 'Md', class: 'versionClass', tooltip: 'versionTooltip'},\n        // { name: 'lastLoginIpAddress', title: 'Last Ip', format: ''},\n        { name: 'lastLoginDateTime', title: 'Last Login', format: 'Calendar'},\n    ];\n\n    private activeAgents: DexihActiveAgent[];\n\n    private _tableData = new BehaviorSubject<Array<any>>(null);\n    tableData: Observable<Array<any>> = this._tableData.asObservable();\n    eDownloadUrlType = eDownloadUrlType;\n\n    remoteAgents: DexihRemoteAgent[];\n\n    public cancelToken: CancelToken = new CancelToken();\n\n    private _subscription: Subscription;\n\n    constructor(\n        private hubsService: HubsService,\n        private authService: AuthService,\n        private hubService: HubsService,\n        private router: Router,\n        private route: ActivatedRoute) {\n    }\n\n    ngOnInit() {\n            this._subscription = this.authService.getRemoteAgentsObservable().subscribe(remoteAgents => {\n                if (remoteAgents) {\n                    this.remoteAgents = remoteAgents;\n                    this.refreshData();\n                }\n            });\n    }\n\n    ngOnDestroy() {\n        if (this._subscription) {this._subscription.unsubscribe(); }\n        this.cancelToken.cancel();\n    }\n\n    close() {\n        this.authService.navigateUp();\n    }\n\n    refreshData() {\n        let data = [];\n        this.remoteAgents.forEach(remoteAgent => {\n            let activeAgent = remoteAgent['activeAgents'] && remoteAgent['activeAgents'].length > 0 ? remoteAgent['activeAgents'][0] : null;\n\n            if (activeAgent) {\n                data.push({\n                    remoteAgentKey: remoteAgent.remoteAgentKey,\n                    connected: 'active',\n                    name: activeAgent ? activeAgent.name : ( remoteAgent ? remoteAgent.name : 'Unknown') ,\n                    user: activeAgent.user,\n                    dataPrivacyStatus: activeAgent.dataPrivacyStatus,\n                    isEncrypted: activeAgent.dataPrivacyStatus,\n                    ipAddress: activeAgent.ipAddress,\n                    restrictIp: remoteAgent.restrictIp,\n                    ipAddresses: remoteAgent.ipAddresses,\n                    lastLoginIpAddress: remoteAgent.lastLoginIpAddress,\n                    lastLoginDateTime: remoteAgent.lastLoginDateTime,\n                    remoteAgentId: remoteAgent.remoteAgentId,\n                    downloadUrls: activeAgent.downloadUrls,\n                    instanceId: activeAgent.instanceId,\n                    version: activeAgent.version,\n                    latestVersion: 'Latest(' + activeAgent.latestVersion + ')',\n                    versionTooltip: (activeAgent.upgradeAvailable ? 'Upgrade is available.' : 'Agent is up to date.'),\n                    versionClass: (activeAgent.upgradeAvailable ? 'dexih-error-text' : ''),\n                    activeAgent: activeAgent\n                });\n            } else {\n                data.push({\n                    remoteAgentKey: remoteAgent.remoteAgentKey,\n                    connected: 'not connected',\n                    name: remoteAgent.name,\n                    user: '',\n                    dataPrivacyStatus: '',\n                    isEncrypted: '',\n                    ipAddress: '',\n                    restrictIp: remoteAgent.restrictIp,\n                    ipAddresses: remoteAgent.ipAddresses,\n                    lastLoginIpAddress: remoteAgent.lastLoginIpAddress,\n                    lastLoginDateTime: remoteAgent.lastLoginDateTime,\n                    remoteAgentId: remoteAgent.remoteAgentId,\n                    downloadUrls: [],\n                    instanceId: null,\n                    version: '',\n                    latestVersion: '',\n                    versionTooltip: '',\n                    versionClass: '',\n                    activeAgent: null\n                });\n            }\n        });\n\n        this._tableData.next(data);\n    }\n\n    test(items: DexihActiveAgent[], cancelToken: CancelToken) {\n        items.forEach(item => {\n            let agent = <DexihActiveAgent>item;\n            agent.downloadUrls.forEach((downloadUrl, index) => {\n                let url = downloadUrl.url + '/ping';\n\n                this.authService.getFromExternal<any>(url, 'Testing remote agent connectivity...', cancelToken).then(result => {\n                    if (result && result.status === 'alive') {\n                        downloadUrl['testStatus'] = 'success';\n                    } else {\n                        downloadUrl['testStatus'] = 'error';\n                        downloadUrl['testMessage'] = 'Server returned invalid message.';\n                    }\n                }).catch(reason => {\n                    downloadUrl['testStatus'] = 'error';\n                    downloadUrl['testMessage'] = reason.message;\n                });\n            })\n        });\n    }\n\n    removeUserTokens(items) {\n        this.authService.removeUserTokens(items.map(c => c.remoteAgentKey))\n        .then( result => this.refreshData())\n        .catch(reason => this.hubsService.addHubClientErrorMessage(reason, 'Remove tokens'));\n    }\n\n    refreshUserToken(item) {\n        // this.authService.refreshRemoteAgentToken(item.remoteAgentKey).then( result => this.refreshData());\n        this.router.navigate(['token-renew', item.remoteAgentKey], {relativeTo: this.route});\n    }\n\n    edit(item) {\n        this.router.navigate(['edit', item.remoteAgentKey], {relativeTo: this.route});\n    }\n\n    updateAgent(item: DexihActiveAgent) {\n        if (item.autoUpgrade) {\n            this.hubService.addHubSuccessMessage(`A restart command has been sent to the remote agent ${item.name}.  The remote agent will be offline for a moment whilst the upgrade is completing.`)\n            this.restartAgents([item]);\n        } else {\n            this.authService.informationDialog('Auto update not available', 'The selected remote agent \"AutoUpgrade\" setting is set to false and cannot be upgrade remotely.');\n        }\n    }\n\n    restartAgents(items) {\n        let activeAgents = items.filter(c => c.activeAgent).map(c => c.activeAgent);\n\n        if ( activeAgents.length === 0) {\n            this.hubService.addHubErrorMessage('No active agents were selected.')\n            return;\n        }\n\n        activeAgents.forEach(activeAgent => {\n            this.hubsService.restartAgent(activeAgent, false, this.cancelToken);\n        });\n    }\n\n    refresh() {\n        this.authService.pingRemoteAgents();\n    }\n}\n","<div class=\"container\">\n    <d-widget title=\"Connected Agents\" \n        iconClass=\"fa fa-lg fa-fw fa-life-saver\" \n\t\t[showCloseButton]=\"true\"\n\t\t(close)=\"close()\"\n    >\n\t\t<d-table \n\t\t\t[enableMultiSelect]=\"true\"\n\t\t\t[enableStickyToolbar]=\"true\"  [toolbarZIndex]=\"100\"\n\t\t\t[columns]=\"columns\"\n\t\t\t[dataObservable]=\"tableData\"\n\t\t\trowStatusHeading=\"Direct Data Connections\"\n\t\t\t(rowClick)=\"edit($event)\"\n\t\t\t>\n\t\t\t<ng-template #selectedItemAction select=\"selectedItemAction\" let-item=\"item\">\n\t\t\t\t<d-button *ngIf=\"item.activeAgent?.upgradeAvailable\" class=\"ml-1\" iconClass=\"fa fa-level-up\" buttonClass=\"btn btn-success\" (click)=\"updateAgent([item])\" text=\"Upgrade\"></d-button>\n\t\t\t</ng-template>\n\n\t\t\t<ng-template #selectedItemsAction select=\"selectedItemsAction\" let-items=\"items\">\n\t\t\t</ng-template>\n\n\t\t\t<ng-template #actions let-items=\"items\">\n\t\t\t\t<d-button-dropdown *ngIf=\"items && items.length >= 0\" buttonClass=\"btn-primary\" iconClass=\"fa fa-table\"\n\t\t\t\t\t[text]=\"items.length > 1 ? 'Agents' : 'Agent'\">\n\t\t\t\t\t<li><a class=\"dropdown-item\" [routerLink]=\"['token-new']\"\n\t\t\t\t\t\t\ttitle=\"Create a new remote agent token.\"><i class=\"fa fa-file-o\"></i> New Token</a></li>\n\t\t\t\t\t<li><a class=\"dropdown-item\" [routerLink]=\"['download']\" title=\"Configure and download a new remote agent\"><i\n\t\t\t\t\t\t\t\tclass=\"fa fa-download\"></i> New Agent</a></li>\n\t\t\t\t\t<ng-template [ngIf]=\"items.length == 1\">\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<a class=\"dropdown-item\" [routerLink]=\"['edit', items[0].remoteAgentKey]\"><i class=\"fa fa-edit\"></i>\n\t\t\t\t\t\t\t\tEdit</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<a class=\"dropdown-item\" [routerLink]=\"['token-renew', items[0].remoteAgentKey]\"><i\n\t\t\t\t\t\t\t\t\tclass=\"fa fa-refresh\"></i> Refresh Token</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ng-template>\n\t\t\t\t\t<ng-template [ngIf]=\"items.length > 0\">\n\t\t\t\t\t\t<li><a class=\"dropdown-item\" (click)=\"test(items)\" title=\"Test the connectivity of the remote agents.\"><i\n\t\t\t\t\t\t\t\t\tclass=\"fa fa-thumbs-o-up\"></i> Test</a></li>\n\t\t\t\t\t\t<li><a class=\"dropdown-item\" (click)=\"restartAgents(items)\" title=\"Restart the selected agents\"><i\n\t\t\t\t\t\t\t\t\tclass=\"fa fa-refresh\"></i> Restart</a></li>\n\t\t\t\t\t\t<li><a class=\"dropdown-item\" (click)=\"removeUserTokens(items)\" title=\"Revoke the selected tokens\"><span\n\t\t\t\t\t\t\t\t\tclass=\"text-danger\"><i class=\"fa fa-ban\"></i> Revoke Tokens</span></a></li>\n\t\t\t\t\t</ng-template>\n\t\t\t\t</d-button-dropdown>\n\t\t\t\n\t\t\t\t<d-button-refresh class=\"ml-1\" (click)=\"refresh()\" text=\"Refresh Agents\" title=\"Refresh the active agents\">\n\t\t\t\t</d-button-refresh>\n\t\t\t</ng-template>\n\n\t\t\t<ng-template #rowStatus select=\"rowStatus\" let-item=\"item\">\n\t\t\t\t<button *ngIf=\"item.downloadUrls?.length > 0\" class=\"btn btn-primary btn-sm\" (click)=\"test([item])\">test</button>\n\t\t\t\t<div class=\"list-group mt-1\">\n\t\t\t\t\t<div class=\"list-group-item\" *ngFor=\"let url of item.downloadUrls\">\n\t\t\t\t\t\t{{eDownloadUrlType[url.downloadUrlType]}}: <a [href]=\"url.url + '/ping'\" target=\"_blank\">Open</a>\n\t\t\t\t\t\t<button *ngIf=\"url.testStatus == 'error'\" class=\"btn btn-danger btn-sm float-right\"\n\t\t\t\t\t\t\t[title]=\"url.testMessage\">Failed</button>\n\t\t\t\t\t\t<button *ngIf=\"url.testStatus == 'success'\" class=\"btn btn-success btn-sm float-right\"\n\t\t\t\t\t\t\t[title]=\"url.testMessage\">Success</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</ng-template>\n\t\t</d-table>\n\t</d-widget>\n\t\n\t<dexih-help class=\"m-3\" title=\"Remote Agent Installation\" path=\"/assets/help/intro/remote_agent.md\"></dexih-help>\n</div>\n\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { AuthService } from '../../../+auth/auth.service';\nimport { DexihHubAuth } from '../../../+auth/auth.models';\nimport { HubsService } from '../../hubs.service';\nimport { FormsService } from '../../../shared/forms/forms.service';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { logLevel, eEnvironment, RemoteAgentSettings, logLevelItems, RemoteAgentSettingsSubset, eEnvironmentItems } from '../../../shared/shared.models';\n\n@Component({\n  selector: 'dexih-remoteAgent-download-form',\n  templateUrl: './remoteAgent-download.component.html',\n  providers: [FormsService]\n})\nexport class RemoteAgentDownloadComponent implements OnInit, OnDestroy {\n  public pageTitle: string;\n\n  public downloading = false;\n  public refreshingEncryptionKey = false;\n  public refreshingUserToken = false;\n\n  public logLevelItems = logLevelItems;\n  public eEnvironmentItems = eEnvironmentItems.filter(c => c.key > 0);\n\n  public embedUserName = true;\n  public logLevel: logLevel = logLevel.Information;\n  public environment: eEnvironment = eEnvironment.Windows;\n  public hubs: DexihHubAuth[]\n\n  constructor(\n    private hubsService: HubsService,\n    private authService: AuthService,\n    public formsService: FormsService,\n    private fb: FormBuilder,\n    ) {\n   }\n\n  ngOnInit() {\n        this.hubs = this.authService.getHubs()\n        let remoteApplicationSettings = new RemoteAgentSettingsSubset();\n        this.remoteAgentSettings(remoteApplicationSettings);\n        this.logLevel = logLevel.Information;\n  }\n\n  ngOnDestroy() {\n  }\n\n  cancel() {\n    this.authService.navigateUp();\n  }\n\n  download() {\n    if (this.formsService.currentForm.valid) {\n      this.downloading = true;\n      this.hubsService.downloadRemoteAgent(this.embedUserName, this.environment, this.logLevel,\n          this.formsService.currentForm.value).then(result => {\n          this.downloading = false;\n          this.hubsService.addHubSuccessMessage('Download successful.');\n      }).catch(reason => {\n          this.downloading = false;\n          this.hubsService.addHubMessage(reason);\n      });\n    } else {\n      this.formsService.showErrors();\n    }\n  }\n\n  downloadRemoteSettings() {\n    if (this.formsService.currentForm.valid) {\n      this.downloading = true;\n      this.hubsService.downloadRemoteSettings(this.embedUserName, this.environment, this.logLevel,\n          this.formsService.currentForm.value).then(result => {\n          this.downloading = false;\n          this.hubsService.addHubSuccessMessage('Download successful.');\n      }).catch(reason => {\n          this.downloading = false;\n          // this.hubsService.addHubErrorMessage(reason);\n      });\n    } else {\n      this.formsService.showErrors();\n    }\n  }\n\n  generateEncryptionKey() {\n    this.refreshingEncryptionKey = true;\n\n    this.authService.getRandomEncryptionKey().then(result => {\n      this.formsService.currentForm.controls.encryptionKey.setValue(result);\n      this.refreshingEncryptionKey = false;\n    }).catch(reason => {\n      this.hubsService.addHubErrorMessage(reason);\n      this.refreshingEncryptionKey = false;\n    });\n  }\n\n  generateUserToken() {\n    this.refreshingUserToken = true;\n\n    this.authService.getUserToken().then(result => {\n      this.formsService.currentForm.controls.userToken.setValue(result.userToken);\n      this.formsService.currentForm.controls.remoteAgentId.setValue(result.remoteAgentId);\n      this.refreshingUserToken = false;\n    }).catch(reason => {\n      this.hubsService.addHubErrorMessage(reason);\n      this.refreshingUserToken = false;\n    });\n  }\n\n  public remoteAgentSettings(remoteAgent: RemoteAgentSettingsSubset) {\n    const remoteAgentForm = this.fb.group({\n      'name': [remoteAgent.name, [\n        Validators.required,\n        Validators.minLength(3),\n        Validators.maxLength(50),\n      ]],\n      'encryptionKey': [remoteAgent.encryptionKey, [\n        Validators.required,\n      ]]\n    }\n    );\n\n    this.formsService.addMissing(remoteAgent, remoteAgentForm, new RemoteAgentSettingsSubset());\n    this.formsService.clearFormSubscriptions();\n    this.formsService.startForm(remoteAgentForm);\n  }\n\n\n}\n","<div class=\"container\">\n\t<d-widget title=\"Download Agent\" iconClass=\"fa fa-lg fa-fw fa-download\" [showCloseButton]=\"true\"\n\t\t(close)=\"cancel()\" [padding]=\"true\">\n\t\t<ng-template #header>\n\t\t\t<d-button-download class=\"mr-1\" [busy]=\"downloading\" (click)=\"!downloading && download()\"\n\t\t\t\ttext=\"Download\"></d-button-download>\n\t\t\t<d-button iconClass=\"fa fa-wrench\" class=\"mr-1\" [busy]=\"downloading\"\n\t\t\t\t(click)=\"!downloading && downloadRemoteSettings()\" text=\"Settings File\"></d-button>\n\t\t\t<d-button-cancel (click)=\"!downloading && cancel()\"></d-button-cancel>\n\t\t</ng-template>\n\n\t\t<form *ngIf=\"formsService.currentForm\" [formGroup]=\"formsService.currentForm\">\n\t\t\t<fieldset>\n\t\t\t\t<section>\n\t\t\t\t\t<form-input label=\"Remote Agent Name\" formControlName=\"name\" placeholder=\"Enter the name.\"\n\t\t\t\t\t\ticonClass=\"fa fa-list\" [errors]=\"formsService.formErrors.name\">\n\t\t\t\t\t</form-input>\n\t\t\t\t</section>\n\n\t\t\t\t<section>\n\t\t\t\t\t<form-select label=\"Operating System\" [(ngModel)]=\"environment\"\n\t\t\t\t\t\t[ngModelOptions]=\"{standalone: true}\" [items]=\"eEnvironmentItems\" itemKey=\"key\" itemName=\"name\"\n\t\t\t\t\t\t[enableFilter]=\"false\" note='The operating system that remote agent will be executed on.'>\n\t\t\t\t\t</form-select>\n\t\t\t\t</section>\n\n\t\t\t\t<section>\n\t\t\t\t\t<form-input label=\"Encryption Key\" formControlName=\"encryptionKey\"\n\t\t\t\t\t\tplaceholder=\"Encryption key (blank will auto-generate)\" [autocapitalize]=\"true\" iconClass=\"fa fa-key\"\n\t\t\t\t\t\t[errors]=\"formsService.formErrors.encryptionKey\"\n\t\t\t\t\t\tnote=\"Encryption key is used to encrypt secure fields and connection passwords.  Note: this key is not retained by the integration hub, and if lost encrypted data can not be restored.\">\n\t\t\t\t\t\t( <a href=\"javascript:void(0)\" *ngIf=\"refreshingEncryptionKey == false\"\n\t\t\t\t\t\t\t(click)=\"generateEncryptionKey()\"> <i class=\"fa fa-refresh\"></i> Generate Random Key </a>\n\t\t\t\t\t\t<span *ngIf=\"refreshingEncryptionKey == true\"> <i class=\"fa fa-spin fa-refresh\"></i>\n\t\t\t\t\t\t\tRefreshing... please wait </span>\n\t\t\t\t\t\t)\n\t\t\t\t\t</form-input>\n\t\t\t\t</section>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Auto-login using current user.\" [(ngModel)]=\"embedUserName\"\n\t\t\t\t\t\t\t[ngModelOptions]=\"{standalone: true}\">\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Auto-upgrade when new versions of the remote agent become available.\"\n\t\t\t\t\t\t\tformControlName=\"autoUpgrade\">\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Allow beta and pre-releases.\" formControlName=\"preRelease\">\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Allow data and files to be uploaded to the remote agent.\"\n\t\t\t\t\t\t\tformControlName=\"allowUpload\">\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox\n\t\t\t\t\t\t\tlabel=\"Allow data and files to be downloaded (including data previews) from the remote agent.\"\n\t\t\t\t\t\t\tformControlName=\"allowDownload\">\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<section>\n\t\t\t\t\t<form-select label=\"Logging Level\" [(ngModel)]=\"logLevel\" [ngModelOptions]=\"{standalone: true}\"\n\t\t\t\t\t\t[items]=\"logLevelItems\" itemKey=\"key\" itemName=\"name\" [enableFilter]=\"false\"\n\t\t\t\t\t\tnote='The level of detail to be included in the diagnostic logs.'>\n\t\t\t\t\t</form-select>\n\t\t\t\t</section>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input label=\"Local Upload/Download Port\" formControlName=\"downloadPort\"\n\t\t\t\t\t\t\tplaceholder=\"Enter the upload/download port\"\n\t\t\t\t\t\t\tnote='The local port for the remote agent to use for upload/download operations.'>\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input label=\"External Upload/Download Url\" formControlName=\"externalDownloadUrl\"\n\t\t\t\t\t\t\tnote='The url which can be used to access the upload/download operations on the remote agent.  e.g. https://10.10.10.10:33944.'>\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Include plugin for Oracle databases (~4MB download)\" formControlName=\"oracle\">\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Include plugin for DB2 databases (~30MB download)\" formControlName=\"dB2\">\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Include plugin for Mongo databases  (~4MB download)\" formControlName=\"mongo\">\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Include plugin for Excel files (~3MB download)\" formControlName=\"excel\">\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Include plugin for Machine Learning Functions (~32-40MB download)\" formControlName=\"mLNet\">\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Allow data access through the Local Area Network (LAN).\"\n\t\t\t\t\t\t\tformControlName=\"allowLanAccess\">\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Allow data access through the Internet.\"\n\t\t\t\t\t\t\tformControlName=\"allowExternalAccess\">\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Allow data access through an internet based Proxy Server.\"\n\t\t\t\t\t\t\tformControlName=\"allowProxy\">\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Enforce Https (SSL encrypted connections).\"\n\t\t\t\t\t\t\tformControlName=\"enforceHttps\">\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Automatically attempt to create an SSL certificate (used for encryption).\"\n\t\t\t\t\t\t\tformControlName=\"autoGenerateCertificate\">\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Allow files to be managed on local file system.\"\n\t\t\t\t\t\t\tformControlName=\"allowLocalFiles\">\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox *ngIf=\"formsService.currentForm.controls.allowLocalFiles.value\"\n\t\t\t\t\t\t\tlabel=\"Allow all remote agent paths to be available.\" formControlName=\"allowAllPaths\">\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<section\n\t\t\t\t\t*ngIf=\"formsService.currentForm.controls.allowLocalFiles.value && !formsService.currentForm.controls.allowAllPaths.value\">\n\t\t\t\t\t<form-tags label=\"Allowed root paths for local file management.\" formControlName=\"allowedPaths\"\n\t\t\t\t\t\ticonClass=\"fa fa-list\" [errors]=\"formsService.formErrors.allowedPaths\"\n\t\t\t\t\t\tnote=\"The root directories which can be accessed when managing flat files.   All directories below the specified root directories will be available.\">\n\t\t\t\t\t</form-tags>\n\t\t\t\t</section>\n\n\t\t\t\t<section>\n\t\t\t\t\t<form-checkbox label=\"Allow all hubs to be available.\" formControlName=\"allowAllHubs\">\n\t\t\t\t\t</form-checkbox>\n\t\t\t\t</section>\n\n\t\t\t\t<section *ngIf=\"!formsService.currentForm.controls.allowAllHubs.value\">\n\t\t\t\t\t<form-tags-dropdown label=\"Hubs allowed by the remote agent.\" formControlName=\"allowedHubs\"\n\t\t\t\t\t\t[items]=\"hubs\" itemKey=\"hubKey\" itemName=\"name\" iconClass=\"fa fa-list\"\n\t\t\t\t\t\t[errors]=\"formsService.formErrors.allowedHubs\" [returnKeys]=\"true\">\n\t\t\t\t\t</form-tags-dropdown>\n\t\t\t\t</section>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input label=\"Alerts Smtp Server\" formControlName=\"smtpServer\"\n\t\t\t\t\t\t\tplaceholder=\"Alerts Smtp Server\"\n\t\t\t\t\t\t\tnote='Enter the Smtp Server name to use to send alert emails.'>\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input type=\"number\" label=\"Smtp Port Number\" formControlName=\"smtpPort\"\n\t\t\t\t\t\t\tnote='The port number to for tme Smtp Server'>\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input label=\"Alerts Smtp UserName\" formControlName=\"smtpUserName\"\n\t\t\t\t\t\t\tplaceholder=\"Alerts Smtp Server\"\n\t\t\t\t\t\t\tnote='Enter the Smtp user name to use to send alert emails.'>\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input label=\"Smtp Password\" formControlName=\"smtpPassword\"\n\t\t\t\t\t\t\tnote='The Smtp password'>\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-input label=\"Alerts From Email\"\n\t\t\t\t\t\t\tformControlName=\"fromEmail\" note='Email address listed \"From\" when sending alerts.'>\n\t\t\t\t\t\t</form-input>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox\n\t\t\t\t\t\t\tlabel=\"Smpt Server Requires SSL encryption.\" formControlName=\"enableSsl\">\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox label=\"Send alert on startup and shutdown.\"\n\t\t\t\t\t\t\tformControlName=\"alertOnShutdown\">\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class=\"form-group col-md-6\">\n\t\t\t\t\t\t<form-checkbox\n\t\t\t\t\t\t\tlabel=\"Send alert on critical remote agent errors.\" formControlName=\"alertOnCritical\">\n\t\t\t\t\t\t</form-checkbox>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\n\t\t\t\t<section>\n\t\t\t\t<form-tags label=\"Email addresses to send the bcc alerts to.\" formControlName=\"adminEmails\"\n\t\t\t\t\ticonClass=\"fa fa-email\" \n\t\t\t\t\tnote=\"A set of emails that any alerts will be bcc'd to.\">\n\t\t\t\t</form-tags>\n\t\t\t</section>\n\t\t\t\t\n\t\t\t</fieldset>\n\t\t</form>\n\t</d-widget>\n\n\t<dexih-help class=\"m-3\" title=\"Remote Agent Installation\" path=\"/assets/help/intro/remote_agent.md\"></dexih-help>\n\n</div>","import { Routes, RouterModule } from '@angular/router';\nimport { HubsComponent } from './hubs.component';\nimport { HubIndexComponent } from './hub-index/hub-index.component';\nimport { HubEditComponent } from './hub-edit/hub-edit.component';\nimport { HubsSummaryComponent} from './hubs-summary/hubs-summary.component';\nimport { ManageComponent } from './manage/manage.component';\nimport { TasksIndexComponent } from './tasks/tasks-index';\nimport { TaskViewComponent } from './tasks/task-view';\nimport { NotificationsIndexComponent } from './notifications/notification-index';\nimport { NotificationViewComponent } from './notifications/notification-view';\nimport { SharedDataComponent, PreviewComponent, PreviewDashboardComponent} from '../shared/ui/sharedData';\nimport { RemoteAgentsComponent} from './remoteAgents/remote-agents/remote-agents.component';\nimport { HelpComponent } from './help';\nimport { RemoteAgentDownloadComponent } from './remoteAgents/remoteAgent-download';\nimport { RemoteAgentEditComponent } from './remoteAgents/remoteAgent-edit';\nimport { RemoteAgentTokenComponent } from './remoteAgents/remote-agent-token/remote-agent-token.component';\nimport { IssueEditComponent, IssueIndexComponent } from './support'\n\nconst hubsView: Routes = [\n    { path: '', component: HubIndexComponent, data: { pageTitle: 'Hubs View' } },\n    { path: 'hub-edit/:hubKey', component: HubEditComponent, data: { action: 'Edit', pageTitle: 'Edit Hub' } },\n    { path: 'hub-new', component: HubEditComponent, data: { action: 'New', pageTitle: 'New Hub' } },\n];\n\n// create a set of routes available from the \"hubs\" section.\nconst baseRoutes: Routes = [\n    { path: 'manage', component: ManageComponent, data: { pageTitle: 'Manage' } },\n    { path: 'sharedData', data: { pageTitle: 'Shared Data' }, children: [\n        { path: '', component: SharedDataComponent, data: { pageTitle: 'Shared Data' } },\n        { path: 'preview/:hubKey/:objectType/:objectKey', component: PreviewComponent, data: { pageTitle: 'Preview' } },\n        { path: 'previewDashboard/:hubKey/:dashboardKey', component: PreviewDashboardComponent, data: { pageTitle: 'Preview Dashboard' } },\n    ] },\n    { path: 'tasks', data: { pageTitle: 'Tasks' }, children: [\n        { path: '', component: TasksIndexComponent, data: { pageTitle: 'Tasks' } },\n        { path: 'view/:reference', component: TaskViewComponent, data: { pageTitle: 'Task' } },\n    ] },\n    { path: 'notifications', data: { pageTitle: 'Notifications' }, children: [\n        { path: '', component: NotificationsIndexComponent, data: { pageTitle: 'Notifications' } },\n        { path: 'view/:reference', component: NotificationViewComponent, data: { pageTitle: 'Notification' } },\n    ] },\n    { path: 'support', data: { pageTitle: 'Issues' }, children: [\n        { path: '', component: IssueIndexComponent, data: { pageTitle: 'Issues' } },\n        { path: 'new', component: IssueEditComponent, data: { action: 'new', pageTitle: 'Create' } },\n        { path: 'edit/:issueKey', component: IssueEditComponent, data: { action: 'edit', pageTitle: 'Edit' } },\n    ] },\n    { path: 'agents', data: { pageTitle: 'Remote Agents' }, children: [\n        { path: '', component: RemoteAgentsComponent, data: { pageTitle: 'Remote Agents' } },\n        { path: 'edit/:remoteAgentKey', component: RemoteAgentEditComponent, data: { pageTitle: 'Remote Edit' } },\n        { path: 'download', component: RemoteAgentDownloadComponent, data: {pageTitle: 'Download Agent'}},\n        { path: 'token-new', component: RemoteAgentTokenComponent, data: {action: 'New', pageTitle: 'New Token'}},\n        { path: 'token-renew/:remoteAgentKey', component: RemoteAgentTokenComponent, data: {action: 'Renew', pageTitle: 'Renew Token'}}\n    ] } ,\n    { path: 'help', component: HelpComponent, data: { pageTitle: 'Help' } },\n    { path: '', children: hubsView}\n];\n\n// insert the \"hubs\" routes once for the base, and once under the summary section to ensure the\n// breadcrumbs are accurate.\nexport const routes: Routes = [\n    {\n        path: '', component: HubsComponent,\n        children: [\n            { path: '', redirectTo: 'index' },\n            { path: 'index', data: { pageTitle: 'Hubs' }, children : [\n                { path: '', component: HubsSummaryComponent, data: { pageTitle: 'Hubs Summary' } },\n                { path: 'hubs-view', data: { pageTitle: 'Hubs View' }, children: hubsView },\n                { path: '', children: baseRoutes}\n            ] },\n            { path: '', children: baseRoutes}\n        ]\n    }\n];\n\nexport const Routing = RouterModule.forChild(routes);\n","import { Component, Input, OnInit, OnDestroy } from '@angular/core';\nimport { HubsService } from '../../hubs.service';\nimport { ManagedTask, eManagedTaskStatus } from '../../../shared/shared.models';\n\n@Component({\n    selector: 'task-status',\n    templateUrl: './task-status.component.html'\n})\nexport class TaskStatusComponent implements OnInit, OnDestroy {\n    @Input() public task: ManagedTask;\n\n    public currentStatus: StatusInfo;\n\n    constructor(private hubsService: HubsService) {\n    }\n\n    ngOnInit() {\n        this.currentStatus = this.getStatus(this.task);\n    }\n\n    ngOnDestroy() {\n    }\n\n    getStatus(task: ManagedTask): StatusInfo {\n        const statusInfo = new StatusInfo();\n\n        if (!task) {\n            statusInfo.message = 'not running';\n            statusInfo.percentage = 0;\n            statusInfo.statusType = 'info';\n            statusInfo.error = '';\n        } else {\n            statusInfo.percentage = task.percentage;\n\n            // update the type, which is used for the colour of the progress\n            switch (task.status) {\n                case eManagedTaskStatus.Error:\n                case eManagedTaskStatus.Cancelled:\n                    statusInfo.statusType = 'danger';\n                    statusInfo.canCancel = false;\n                    break;\n                case eManagedTaskStatus.Created:\n                case eManagedTaskStatus.Running:\n                case eManagedTaskStatus.Scheduled:\n                case eManagedTaskStatus.Queued:\n                    statusInfo.statusType = 'primary';\n                    statusInfo.canCancel = true;\n                    break;\n                case eManagedTaskStatus.Completed:\n                    statusInfo.statusType = 'success';\n                    statusInfo.canCancel = false;\n                    break;\n            }\n\n            // update the type, which is used for the colour of the progress\n            switch (task.status) {\n                case eManagedTaskStatus.Error:\n                    statusInfo.iconClass = 'fa fa-ban text-danger'\n                    break;\n                case eManagedTaskStatus.Cancelled:\n                    statusInfo.iconClass = 'fa fa-ban text-warning'\n                    break;\n                case eManagedTaskStatus.Created:\n                    statusInfo.iconClass = 'fa fa-circle text-success'\n                    break;\n                case eManagedTaskStatus.Queued:\n                    statusInfo.iconClass = 'fa fa-square'\n                    break;\n                case eManagedTaskStatus.Running:\n                    statusInfo.iconClass = 'fa fa-cogs text-success'\n                    break;\n                case eManagedTaskStatus.Scheduled:\n                    statusInfo.iconClass = 'fa fa-calendar text-success'\n                    break;\n                case eManagedTaskStatus.Created:\n                    statusInfo.iconClass = 'fa fa-cog text-success'\n                    break;\n                case eManagedTaskStatus.Completed:\n                    statusInfo.iconClass = 'fa fa-square text-success'\n                    break;\n            }\n\n            // update the message and error\n            statusInfo.message = task.message;\n            statusInfo.error = task.message;\n        }\n        return statusInfo;\n    }\n\n    cancelled() {\n        if (this.task) {\n            this.hubsService.cancelTasks([this.task]);\n        }\n    }\n}\n\nclass StatusInfo {\n    public percentage;\n    public message;\n    public statusType;\n    public error;\n    public iconClass;\n    public canCancel: boolean;\n}\n","<div *ngIf=\"currentStatus\" style=\"width:100%\"  >\n    <d-progressbar [animate]=\"true\" [showCancel]=\"currentStatus.canCancel\" (cancelled)=\"cancelled()\" (click)=\"clicked()\" [value]=\"currentStatus.percentage\" [type]=\"currentStatus.statusType\">\n        {{currentStatus.message}}\n    </d-progressbar>    \n</div>\n"]}